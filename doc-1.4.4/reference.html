<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/png" href="/assets/img/favicon.ico">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>Liquidsoap</title>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
    <!-- Extra details for Live View on GitHub Pages -->
    <!-- Canonical SEO -->
    <link rel="canonical" href="https://www.liquidsoap.info/" />
    <!--  Social tags      -->
    <meta name="keywords" content="radio, audio, video, streaming, icecast, shoutcast">
    <meta name="description" content="Swiss-army knife for multimedia streaming">
    <!-- Schema.org markup for Google+ -->
    <meta itemprop="name" content="Liquidsoap Streaming Language">
    <meta itemprop="description" content="Swiss-army knife for multimedia streaming">
    <!-- Twitter Card data -->
    <meta name="twitter:card" content="product">
    <meta name="twitter:site" content="@LiquidsoapMedia">
    <meta name="twitter:title" content="Liquidsoap Streaming Language">
    <meta name="twitter:description" content="Swiss-army knife for multimedia streaming">
    <meta name="twitter:creator" content="@LiquidsoapMedia">
    <meta name="twitter:image" content="https://www.liquidsoap.info//assets/img/bottle_invert.png">
    <!--     Fonts and icons     -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
    <!-- CSS Files -->
    <link href="/assets/css/custom.css" rel="stylesheet" />
    <link href="/assets/css/material-kit.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
    <!-- Documentation extras -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
    <link rel="stylesheet" href="/assets/demo/docs.min.css">
    <style>
    .navbar-absolute-logo {
      padding-left: 45px;
    }

    .navbar-absolute-logo img {
      position: absolute;
      left: 15px;
      margin-top: -6px;
    }

    body {
      background: white;
    }

    p {
        font-size: 16px;
        text-align: justify;
    }
    </style>
  </head>

  <body class="bd-docs" data-spy="scroll" data-target=".bd-sidenav-active">
    <a id="skippy" class="sr-only sr-only-focusable" href="#content">
      <div class="container">
        <span class="skiplink-text">Skip to main content</span>
      </div>
    </a>
    <header class="navbar navbar-expand navbar-dark bg-primary flex-column flex-md-row bd-navbar">
      <a class="navbar-brand mr-0 mr-md-2 navbar-absolute-logo" href="/doc-1.4.4">
        <svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 600 600" focusable="false" style="width: 25px; height: 25px;">
          <title>Liquidsoap</title>
          <style type="text/css">
.st0{fill:#FFFFFF;}
          </style>
          <g>
          <path class="st0" d="M102.4,593.8c-0.7-2.8-3.4-2.5-5.3-3.3c-24.6-10.2-37.2-28.7-37.2-55.6c-0.1-72.1,0-144.2,0-216.3
          c0-52.3,0-104.6,0-156.9c0-37.6,23.1-60.9,60.6-61.1c12-0.1,23.9-0.2,35.9,0c15.7,0.3,26.7,10.1,26.3,23
          c-0.4,12.5-11.1,21.5-26.3,21.8c-12,0.2-23.9-0.1-35.9,0.1c-11.8,0.1-15.6,3.7-15.6,15.3c-0.1,124.4,0,248.8-0.1,373.2
          c0,10.3,4.5,15.1,14.8,15.1c69.1-0.1,138.2,0,207.3-0.1c12.3,0,15.5-3.7,15.5-17.7c0-74.7,0-149.4,0-224.2c0-47.8,0-95.6,0-143.5
          c0-15.2-3-18.1-18.4-18.2c-10.8,0-21.7,0.1-32.5,0c-16-0.2-26.7-9.4-26.6-22.5c0.1-13,10.9-22.1,26.9-22.3
          c13.4-0.2,26.9-0.3,40.3,0.1c30.8,1,54.9,24.5,55,55.2c0.3,127.4,0.3,254.8,0.1,382.2c0,25.5-15.8,45.7-40.2,53.3
          c-1.7,0.5-3.8,0-4.5,2.4C262.3,593.8,182.4,593.8,102.4,593.8z"/>
          <path class="st0" d="M537.4,212.6c-16.8,23-56.5,16.5-68.6-9.5c-8-17.2-12.4-32.7-12-54.5c4.6,4.1,8.3,7.5,12.1,10.7
          c10.3,8.6,21,14,35.5,11.8c12.5-1.9,21.5,6,28.2,16.3c2,3,1.3,7.3,4.8,9.5C537.4,202.2,537.4,207.4,537.4,212.6z"/>
          <path class="st0" d="M200.6,230.4c0-55.3,0-110.5,0-165.8c0-40.7,22.3-62.7,63.2-62.7c50.4,0,100.8,0,151.3,0
          c36.1,0,59.1,21.9,60.4,57.7c0.5,13.1,0.4,26.1,0,39.2c-0.4,15.1-10.1,25.8-22.5,25.7c-12-0.1-21.6-10.1-22.3-24.8
          c-0.6-12.7-0.4-25.4-0.1-38.1c0.2-10.4-4.5-14.9-14.9-14.9c-51.5,0.1-103.1,0-154.6,0.1c-12.7,0-15.5,3.2-15.5,17.5
          c0,105.3,0,210.6,0,316c0,7.8,0.1,15.7,0,23.5c-0.2,17.5-9.4,28.9-23,28.6c-13.5-0.3-21.9-10.9-21.9-28.3
          C200.6,346.2,200.6,288.3,200.6,230.4z"/>
          </g>
        </svg>
        Liquidsoap
      </a>
      <ul class="navbar-nav flex-row d-none d-md-flex">
        <li class="nav-item dropdown">
          <a data-versions="dev 1.4.4 2.1.4 2.2.0 2.2.1 2.2.2 2.2.3
2.2.4 2.2.5
2.3.0" data-version="1.4.4" class="nav-item nav-link dropdown-toggle mr-md-2" href="#" id="liq-version" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            1.4.4
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="liq-version" id="liq-versions">
          </div>
        </li>
        <li class="nav-item">
          <a class="nav-link p-2" href="https://github.com/savonet/liquidsoap" target="_blank" rel="noopener" aria-label="GitHub">
            <svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 499.36" focusable="false">
              <title>GitHub</title>
              <path d="M256 0C114.64 0 0 114.61 0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34 0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49 0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75 0 0 21.49-6.88 70.4 26.24a242.65 242.65 0 0 1 128.18 0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69 0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41 0 34.22-.31 61.83-.31 70.23 0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37 0 256 0z" fill="currentColor" fill-rule="evenodd" />
            </svg>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link p-2" href="https://twitter.com/savonet" target="_blank" rel="noopener" aria-label="Twitter">
            <svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 416.32" focusable="false">
              <title>Twitter</title>
              <path d="M160.83 416.32c193.2 0 298.92-160.22 298.92-298.92 0-4.51 0-9-.2-13.52A214 214 0 0 0 512 49.38a212.93 212.93 0 0 1-60.44 16.6 105.7 105.7 0 0 0 46.3-58.19 209 209 0 0 1-66.79 25.37 105.09 105.09 0 0 0-181.73 71.91 116.12 116.12 0 0 0 2.66 24c-87.28-4.3-164.73-46.3-216.56-109.82A105.48 105.48 0 0 0 68 159.6a106.27 106.27 0 0 1-47.53-13.11v1.43a105.28 105.28 0 0 0 84.21 103.06 105.67 105.67 0 0 1-47.33 1.84 105.06 105.06 0 0 0 98.14 72.94A210.72 210.72 0 0 1 25 370.84a202.17 202.17 0 0 1-25-1.43 298.85 298.85 0 0 0 160.83 46.92" fill="currentColor" />
            </svg>
          </a>
        </li>
      </ul>
      <div class="navbar-nav-scroll ml-md-auto ">
        <ul class="navbar-nav bd-navbar-nav flex-row">
          <!--
            <li class="nav-item">
            <a class="nav-link" href=""> <i class="material-icons">card_membership</i> PRO Services </a>
            </li>
          -->
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/savonet/liquidsoap/issues" target="_blank" rel="noopener"><i class="material-icons">star</i> Get Help</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="" target="_blank" rel="noopener"></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="" target="_blank" rel="noopener"></a>
          </li>
        </ul>
      </div>
      <a href="https://github.com/savonet/liquidsoap" class="github-corner" aria-label="View source on Github">
        <svg width="80" height="80" viewBox="0 0 250 250" style="fill:#fff; color:#9c27b0; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">
          <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
          <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
          <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
        </svg>
      </a>
      <style>
.github-corner:hover .octo-arm {
  animation: octocat-wave 560ms ease-in-out
}

        @keyframes octocat-wave {
          0%,
          100% {
            transform: rotate(0)
          }
          20%,
          60% {
            transform: rotate(-25deg)
          }
          40%,
          80% {
            transform: rotate(10deg)
          }
        }

        @media (max-width:500px) {
          .github-corner:hover .octo-arm {
            animation: none
          }
          .github-corner .octo-arm {
            animation: octocat-wave 560ms ease-in-out
          }
        }
      </style>
    </header>
    <div class="container-fluid">
      <div class="row flex-xl-nowrap">
        <div class="col-12 col-md-3 col-xl-2 bd-sidebar">
          <nav class="collapse bd-links" id="bd-docs-nav">
            <div class="bd-toc-item active">
              <ul class="nav bd-sidenav">
                <li class="active bd-sidenav-active">
                  <a class="bd-toc-link" href="/doc-1.4.4/install.html">
                    Install
                  </a>
                </li>
                <li class="active bd-sidenav-active">
                  <a class="bd-toc-link" href="#">
                    General tutorials
                  </a>
                </li>
                <li>
                  <a href="/doc-1.4.4/quick_start.html">Quickstart</a></li>
                <li>
                  <a href="/doc-1.4.4/presentations.html">Presentations</a></li>
                <li>
                  <a href="/doc-1.4.4/complete_case.html">Complete case analysis</a></li>
                <li>
                  <a href="/doc-1.4.4/advanced.html">Advanced</a></li>
                <li>
                  <a href="/doc-1.4.4/help.html">How to find help</a></li>
                <li>
                  <a href="/doc-1.4.4/cookbook.html">Cookbook</a></li>
                <li>
                  <a href="/doc-1.4.4/faq.html">Frequently Asked Questions</a></li>
              </ul>
            </div>
            <div class="bd-toc-item active">
              <a class="bd-toc-link" href="#">
                Reference
              </a>
              <ul class="nav bd-sidenav">
                <li>
                  <a href="/doc-1.4.4/reference.html">API reference</a></li>
                <li>
                  <a href="/doc-1.4.4/protocols.html">Protocols</a></li>
                <li>
                  <a href="/doc-1.4.4/settings.html">Settings</a></li>
                <li>
                  <a href="/doc-1.4.4/language.html">Script language</a></li>
                <li>
                  <a href="/doc-1.4.4/encoding_formats.html">Encoding formats</a></li>
                <li>
                  <a href="/doc-1.4.4/playlist_parsers.html">Playlist parsers</a></li>
                <li>
                  <a href="/doc-1.4.4/json.html">JSON import/export</a></li>
                <li>
                  <a href="/doc-1.4.4/ladspa.html">LADSPA plugins</a></li>
              </ul>
            </div>
            <div class="bd-toc-item active">
              <a class="bd-toc-link" href="#">
                Core
              </a>
              <ul class="nav bd-sidenav">
                <li>
                  <a href="/doc-1.4.4/sources.html">Sources</a></li>
                <li>
                  <a href="/doc-1.4.4/clocks.html">Clocks</a></li>
                <li>
                  <a href="/doc-1.4.4/requests.html">Requests</a></li>
                <li>
                  <a href="/doc-1.4.4/stream_content.html">Stream contents</a></li>
                <li>
                  <a href="/doc-1.4.4/script_loading.html">Script loading</a></li>
                <li>
                  <a href="/doc-1.4.4/phases.html">Execution phases</a></li>
              </ul>
            </div>
            <div class="bd-toc-item active">
              <a class="bd-toc-link" href="#">
                Specific tutorials
              </a>
              <ul class="nav bd-sidenav">
                <li>
                  <a href="/doc-1.4.4/blank.html">Blank detection</a></li>
                <li>
                  <a href="/doc-1.4.4/metadata.html">Customize metadata</a></li>
                <li>
                  <a href="/doc-1.4.4/seek.html">Seek and cue support</a></li>
                <li>
                  <a href="/doc-1.4.4/external_decoders.html">External decoders</a></li>
                <li>
                  <a href="/doc-1.4.4/external_streams.html">External streams</a></li>
                <li>
                  <a href="/doc-1.4.4/external_encoders.html">External encoders</a></li>
                <li>
                  <a href="/doc-1.4.4/hls_output.html">HLS output</a></li>
                <li>
                  <a href="/doc-1.4.4/http_input.html">HTTP input</a></li>
                <li>
                  <a href="/doc-1.4.4/harbor.html">Harbor input</a></li>
                <li>
                  <a href="/doc-1.4.4/harbor_http.html">Interaction with the Harbor</a></li>
                <li>
                  <a href="/doc-1.4.4/server.html">Interaction with the server</a></li>
                <li>
                  <a href="/doc-1.4.4/icy_metadata.html">ICY metadata update</a></li>
                <li>
                  <a href="/doc-1.4.4/replay_gain.html">Normalization and replay gain</a></li>
                <li>
                  <a href="/doc-1.4.4/request_sources.html">Requests-based sources</a></li>
                <li>
                  <a href="/doc-1.4.4/shoutcast.html">Shoutcast output</a></li>
                <li>
                  <a href="/doc-1.4.4/dynamic_sources.html">Dynamic source creation</a></li>
                <li>
                  <a href="/doc-1.4.4/crossfade.html">Smart crossfading</a></li>
                <li>
                  <a href="/doc-1.4.4/in_production.html">Using in production</a></li>
                <li>
                  <a href="/doc-1.4.4/flows.html">Liquid Flows</a></li>
                <li>
                  <a href="/doc-1.4.4/video.html">Videos streams</a></li>
              </ul>
              <ul class="nav bd-sidenav">
                <li>
                  <a class="bd-toc-link" href="#">
                    User scripts
                  </a>
                </li>
                <li>
                  <a href="/doc-1.4.4/beets.html">Beets</a></li>
                <li>
                  <a href="/doc-1.4.4/geekradio.html">Geekradio</a></li>
                <li>
                  <a href="/doc-1.4.4/radiopi.html">RadioPi</a></li>
                <li>
                  <a href="/doc-1.4.4/dolebrai.html">Dolebraï</a></li>
                <li>
                  <a href="/doc-1.4.4/frequence3.html">Frequence3</a></li>
                <li>
                  <a href="/doc-1.4.4/radio-nova.html">Listen to Radio Nova</a></li>
                <li>
                  <a href="/doc-1.4.4/video-static.html">Video with a single static image</a></li>
                <li>
                  <a href="/doc-1.4.4/split-cue.html">Split a CUE sheet</a></li>
              </ul>
              <ul class="nav bd-sidenav">
                <li>
                  <a class="bd-toc-link" href="#">
                    Behind the curtains
                  </a>
                </li>
                <li>
                  <a href="/doc-1.4.4/publications.html">Some presentations and publications</a></li>
                <li>
                  <a href="/modules.html">OCaml libraries</a></li>
                <li>
                  <a href="/modules/liquidsoap/index.html">Documentation of some internals</a></li>
                <li class="active bd-sidenav-active">
                  <a class="bd-toc-link" href="/legacy">
                    Legacy website
                  </a>
                </li>
              </ul>
            </div>
          </nav>
        </div>
        <!--
          <div class="d-none d-xl-block col-xl-2 bd-toc">
          <ul class="section-nav">
          <li class="toc-entry toc-h2">
          <a href="#quick-start">Quick start</a>
          <ul>
          <li class="toc-entry toc-h3">
          <a href="#css">CSS</a>
          </li>
          <li class="toc-entry toc-h3">
          <a href="#js">JS</a>
          </li>
          <li class="toc-entry toc-h3">
          <a href="#fonts-and-icons">Fonts and Icons</a>
          </li>
          </ul>
          </li>
          <li class="toc-entry toc-h2">
          <a href="#starter-template">Starter template</a>
          </li>
          </ul>
          </div>
        -->
          <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content" role="main">
          <h1 id="liquidsoap-scripting-language-reference"><a
href="#liquidsoap-scripting-language-reference"
class="anchor">Liquidsoap scripting language reference</a></h1>
<p>The <strong>Source / …</strong> categories contain all functions that
return sources. The <strong>Input</strong> functions are those which
build elementary sources (playing files, synthesizing sound, etc.). The
<strong>Output</strong> functions are those which take a source and
register it for being streamed to the outside (file, soundcard, audio
server, etc.). The <strong>Visualization</strong> functions are
experimental ones that let you visualize in real-time some aspects of
the audio stream. The <strong>Sound Processing</strong> functions are
those which basically work on the source as a continuous audio stream.
They would typically be mixers of streams, audio effects or analysis.
Finally, <strong>Track Processing</strong> functions are basically all
others, often having a behaviour that depends on or affects the extra
information that liquidsoap puts in streams: track limits and
metadata.</p>
<ul>
<li><a href="#source-conversions">Source / Conversions</a></li>
<li><a href="#source-input">Source / Input</a></li>
<li><a href="#source-liquidsoap">Source / Liquidsoap</a></li>
<li><a href="#source-midi-processing">Source / MIDI Processing</a></li>
<li><a href="#source-output">Source / Output</a></li>
<li><a href="#source-sound-processing">Source / Sound
Processing</a></li>
<li><a href="#source-sound-synthesis">Source / Sound Synthesis</a></li>
<li><a href="#source-track-processing">Source / Track
Processing</a></li>
<li><a href="#source-video-processing">Source / Video
Processing</a></li>
<li><a href="#source-visualization">Source / Visualization</a></li>
<li><a href="#bool">Bool</a></li>
<li><a href="#control">Control</a></li>
<li><a href="#interaction">Interaction</a></li>
<li><a href="#liquidsoap">Liquidsoap</a></li>
<li><a href="#list">List</a></li>
<li><a href="#math">Math</a></li>
<li><a href="#pair">Pair</a></li>
<li><a href="#string">String</a></li>
<li><a href="#system">System</a></li>
</ul>
<h2 id="bool"><a href="#bool" class="anchor">Bool</a></h2>
<h3 id="section"><a href="#section"
class="anchor"><code>!=</code></a></h3>
<p>Comparison of comparable values.</p>
<p>Type:</p>
<pre><code>(&#39;a, &#39;a) -&gt; bool where &#39;a is an orderable type</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>anything that is an orderable type</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>anything that is an orderable type</code>)</li>
</ul>
<h3 id="section-1"><a href="#section-1"
class="anchor"><code>&lt;</code></a></h3>
<p>Comparison of comparable values.</p>
<p>Type:</p>
<pre><code>(&#39;a, &#39;a) -&gt; bool where &#39;a is an orderable type</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>anything that is an orderable type</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>anything that is an orderable type</code>)</li>
</ul>
<h3 id="section-2"><a href="#section-2"
class="anchor"><code>&lt;=</code></a></h3>
<p>Comparison of comparable values.</p>
<p>Type:</p>
<pre><code>(&#39;a, &#39;a) -&gt; bool where &#39;a is an orderable type</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>anything that is an orderable type</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>anything that is an orderable type</code>)</li>
</ul>
<h3 id="section-3"><a href="#section-3"
class="anchor"><code>==</code></a></h3>
<p>Comparison of comparable values.</p>
<p>Type:</p>
<pre><code>(&#39;a, &#39;a) -&gt; bool where &#39;a is an orderable type</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>anything that is an orderable type</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>anything that is an orderable type</code>)</li>
</ul>
<h3 id="section-4"><a href="#section-4"
class="anchor"><code>&gt;</code></a></h3>
<p>Comparison of comparable values.</p>
<p>Type:</p>
<pre><code>(&#39;a, &#39;a) -&gt; bool where &#39;a is an orderable type</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>anything that is an orderable type</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>anything that is an orderable type</code>)</li>
</ul>
<h3 id="section-5"><a href="#section-5"
class="anchor"><code>&gt;=</code></a></h3>
<p>Comparison of comparable values.</p>
<p>Type:</p>
<pre><code>(&#39;a, &#39;a) -&gt; bool where &#39;a is an orderable type</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>anything that is an orderable type</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>anything that is an orderable type</code>)</li>
</ul>
<h3 id="and"><a href="#and" class="anchor"><code>and</code></a></h3>
<p>Return the conjunction of its arguments</p>
<p>Type:</p>
<pre><code>(bool, bool) -&gt; bool</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>bool</code>)</li>
<li><code>(unlabeled)</code> (of type <code>bool</code>)</li>
</ul>
<h3 id="not"><a href="#not" class="anchor"><code>not</code></a></h3>
<p>Returns the negation of its argument.</p>
<p>Type:</p>
<pre><code>(bool) -&gt; bool</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>bool</code>)</li>
</ul>
<h3 id="or"><a href="#or" class="anchor"><code>or</code></a></h3>
<p>Return the disjunction of its arguments</p>
<p>Type:</p>
<pre><code>(bool, bool) -&gt; bool</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>bool</code>)</li>
<li><code>(unlabeled)</code> (of type <code>bool</code>)</li>
</ul>
<h3 id="random.bool"><a href="#random.bool"
class="anchor"><code>random.bool</code></a></h3>
<p>Generate a random value.</p>
<p>Type:</p>
<pre><code>() -&gt; bool</code></pre>
<p>Arguments:</p>
<h2 id="control"><a href="#control" class="anchor">Control</a></h2>
<h3 id="add_timeout"><a href="#add_timeout"
class="anchor"><code>add_timeout</code></a></h3>
<p>Call a function in N seconds. If the result of the function is
positive or null, the task will be scheduled again after this amount of
time (in seconds).</p>
<p>Type:</p>
<pre><code>(?fast : bool, float, (() -&gt; float)) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>fast</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Set to <code>false</code> if the execution of the
code can take long in order to lower its priority below that of request
resolutions and fast timeouts. This is only effective if you set a
dedicated queue for fast tasks, see the “scheduler” settings for more
details.</li>
<li><code>(unlabeled)</code> (of type <code>float</code>)</li>
<li><code>(unlabeled)</code> (of type <code>() -&gt; float</code>)</li>
</ul>
<h3 id="ignore"><a href="#ignore"
class="anchor"><code>ignore</code></a></h3>
<p>Convert anything to unit, preventing warnings.</p>
<p>Type:</p>
<pre><code>(&#39;a) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>'a</code>)</li>
</ul>
<h2 id="interaction"><a href="#interaction"
class="anchor">Interaction</a></h2>
<h3 id="add_skip_command"><a href="#add_skip_command"
class="anchor"><code>add_skip_command</code></a></h3>
<p>Add a skip function to a source when it does not have one by
default.</p>
<p>Type:</p>
<pre><code>(source(&#39;a)) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>): The
source to attach the command to.</li>
</ul>
<h3 id="audioscrobbler.nowplaying"><a href="#audioscrobbler.nowplaying"
class="anchor"><code>audioscrobbler.nowplaying</code></a></h3>
<p>Submit a now playing song using the audioscrobbler protocol.</p>
<p>Type:</p>
<pre><code>(user : string, password : string, ?host : string,
 ?port : int, ?length : bool, [string * string]) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>user</code> (of type <code>string</code>)</li>
<li><code>password</code> (of type <code>string</code>)</li>
<li><code>host</code> (of type <code>string</code>, which defaults to
<code>"post.audioscrobbler.com"</code>): Host for audioscrobbling
submissions.</li>
<li><code>port</code> (of type <code>int</code>, which defaults to
<code>80</code>): Port for audioscrobbling submissions.</li>
<li><code>length</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Try to submit length information. This operation
can be CPU intensive. Value forced to true when used with the “user”
source type.</li>
<li><code>(unlabeled)</code> (of type
<code>[string * string]</code>)</li>
</ul>
<h3 id="audioscrobbler.submit"><a href="#audioscrobbler.submit"
class="anchor"><code>audioscrobbler.submit</code></a></h3>
<p>Submit a played song using the audioscrobbler protocol.</p>
<p>Type:</p>
<pre><code>(?source : string, user : string, password : string,
 ?host : string, ?port : int, ?length : bool,
 [string * string]) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>source</code> (of type <code>string</code>, which defaults to
<code>"broadcast"</code>): Source for tracks. Should be one of:
“broadcast”, “user”, “recommendation” or “unknown”. Since liquidsoap is
intented for radio broadcasting, this is the default. Sources other than
user don’t need duration to be set.</li>
<li><code>user</code> (of type <code>string</code>)</li>
<li><code>password</code> (of type <code>string</code>)</li>
<li><code>host</code> (of type <code>string</code>, which defaults to
<code>"post.audioscrobbler.com"</code>): Host for audioscrobbling
submissions.</li>
<li><code>port</code> (of type <code>int</code>, which defaults to
<code>80</code>): Port for audioscrobbling submissions.</li>
<li><code>length</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Try to submit length information. This operation
can be CPU intensive. Value forced to true when used with the “user”
source type.</li>
<li><code>(unlabeled)</code> (of type
<code>[string * string]</code>)</li>
</ul>
<h3 id="audioscrobbler.submit.full"><a
href="#audioscrobbler.submit.full"
class="anchor"><code>audioscrobbler.submit.full</code></a></h3>
<p>Submit songs using audioscrobbler, respecting the full protocol:
First signal song as now playing when starting, and then submit song
when it ends.</p>
<p>Type:</p>
<pre><code>(user : string, password : string, ?host : string,
 ?port : int, ?source : string, ?length : bool,
 ?delay : float, ?force : bool, source(&#39;a)) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>user</code> (of type <code>string</code>)</li>
<li><code>password</code> (of type <code>string</code>)</li>
<li><code>host</code> (of type <code>string</code>, which defaults to
<code>"post.audioscrobbler.com"</code>)</li>
<li><code>port</code> (of type <code>int</code>, which defaults to
<code>80</code>)</li>
<li><code>source</code> (of type <code>string</code>, which defaults to
<code>"broadcast"</code>): Source for tracks. Should be one of:
“broadcast”, “user”, “recommendation” or “unknown”. Since liquidsoap is
intented for radio broadcasting, this is the default. Sources other than
user don’t need duration to be set.</li>
<li><code>length</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Try to submit length information. This operation
can be CPU intensive. Value forced to true when used with the “user”
source type.</li>
<li><code>delay</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Submit song when there is only this delay left, in
seconds.</li>
<li><code>force</code> (of type <code>bool</code>, which defaults to
<code>false</code>): If remaining time is null, the song will be assumed
to be skipped or cuted, and not submitted. Set to zero to disable this
behaviour.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="harbor.http.static"><a href="#harbor.http.static"
class="anchor"><code>harbor.http.static</code></a></h3>
<p>Serve a static path</p>
<p>Type:</p>
<pre><code>(?port : int, ?path : string,
 ?content_type : ((string) -&gt; string),
 ?headers : [string * string], string) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>port</code> (of type <code>int</code>, which defaults to
<code>8000</code>): Port for incoming harbor (http) connections.</li>
<li><code>path</code> (of type <code>string</code>, which defaults to
<code>"/"</code>): Base path</li>
<li><code>content_type</code> (of type
<code>(string) -&gt; string</code>, which defaults to
<code>&lt;fun&gt;</code>): Callback to specify Content-Type on a per
file basis. Default: file.mime if compiled or file CLI if present.</li>
<li><code>headers</code> (of type <code>[string * string]</code>, which
defaults to <code>[("Access-Control-Allow-Origin", "*")]</code>):
Default response headers.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Local path
to be served</li>
</ul>
<h3 id="harbor.https.static"><a href="#harbor.https.static"
class="anchor"><code>harbor.https.static</code></a></h3>
<p>Serve a static path</p>
<p>Type:</p>
<pre><code>(?port : int, ?path : string,
 ?content_type : ((string) -&gt; string),
 ?headers : [string * string], string) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>port</code> (of type <code>int</code>, which defaults to
<code>8000</code>): Port for incoming harbor (https) connections.</li>
<li><code>path</code> (of type <code>string</code>, which defaults to
<code>"/"</code>): Base path</li>
<li><code>content_type</code> (of type
<code>(string) -&gt; string</code>, which defaults to
<code>&lt;fun&gt;</code>): Callback to specify Content-Type on a per
file basis. Default: file.mime if compiled or file CLI if present.</li>
<li><code>headers</code> (of type <code>[string * string]</code>, which
defaults to <code>[("Access-Control-Allow-Origin", "*")]</code>):
Default response headers.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Local path
to be served</li>
</ul>
<h3 id="http.delete"><a href="#http.delete"
class="anchor"><code>http.delete</code></a></h3>
<p>Perform a full Http DELETE request and return
<code>(status,headers,data)</code>.</p>
<p>Type:</p>
<pre><code>(?headers : [string * string], ?http_version : string,
 ?timeout : float, string) -&gt;
(string * int * string) * [string * string] * string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>headers</code> (of type <code>[string * string]</code>, which
defaults to <code>[]</code>): Additional headers.</li>
<li><code>http_version</code> (of type <code>string</code>, which
defaults to <code>"1.0"</code>): Http request version.</li>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Timeout for network operations.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Requested
URL, e.g. “http://www.google.com:80/index.html”.</li>
</ul>
<h3 id="http.get"><a href="#http.get"
class="anchor"><code>http.get</code></a></h3>
<p>Perform a full Http GET request and return
<code>(status,headers,data)</code>.</p>
<p>Type:</p>
<pre><code>(?headers : [string * string], ?http_version : string,
 ?timeout : float, string) -&gt;
(string * int * string) * [string * string] * string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>headers</code> (of type <code>[string * string]</code>, which
defaults to <code>[]</code>): Additional headers.</li>
<li><code>http_version</code> (of type <code>string</code>, which
defaults to <code>"1.0"</code>): Http request version.</li>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Timeout for network operations.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Requested
URL, e.g. “http://www.google.com:80/index.html”.</li>
</ul>
<h3 id="http.head"><a href="#http.head"
class="anchor"><code>http.head</code></a></h3>
<p>Perform a full Http HEAD request and return
<code>(status,headers,data)</code>.</p>
<p>Type:</p>
<pre><code>(?headers : [string * string], ?http_version : string,
 ?timeout : float, string) -&gt;
(string * int * string) * [string * string] * string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>headers</code> (of type <code>[string * string]</code>, which
defaults to <code>[]</code>): Additional headers.</li>
<li><code>http_version</code> (of type <code>string</code>, which
defaults to <code>"1.0"</code>): Http request version.</li>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Timeout for network operations.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Requested
URL, e.g. “http://www.google.com:80/index.html”.</li>
</ul>
<h3 id="http.post"><a href="#http.post"
class="anchor"><code>http.post</code></a></h3>
<p>Perform a full Http POST request and return
<code>(status,headers,data)</code>.</p>
<p>Type:</p>
<pre><code>(?data : string, ?headers : [string * string],
 ?http_version : string, ?timeout : float, string) -&gt;
(string * int * string) * [string * string] * string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>data</code> (of type <code>string</code>, which defaults to
<code>""</code>): POST data.</li>
<li><code>headers</code> (of type <code>[string * string]</code>, which
defaults to <code>[]</code>): Additional headers.</li>
<li><code>http_version</code> (of type <code>string</code>, which
defaults to <code>"1.0"</code>): Http request version.</li>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Timeout for network operations.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Requested
URL, e.g. “http://www.google.com:80/index.html”.</li>
</ul>
<h3 id="http.put"><a href="#http.put"
class="anchor"><code>http.put</code></a></h3>
<p>Perform a full Http PUT request and return
<code>(status,headers,data)</code>.</p>
<p>Type:</p>
<pre><code>(?data : string, ?headers : [string * string],
 ?http_version : string, ?timeout : float, string) -&gt;
(string * int * string) * [string * string] * string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>data</code> (of type <code>string</code>, which defaults to
<code>""</code>): POST data.</li>
<li><code>headers</code> (of type <code>[string * string]</code>, which
defaults to <code>[]</code>): Additional headers.</li>
<li><code>http_version</code> (of type <code>string</code>, which
defaults to <code>"1.0"</code>): Http request version.</li>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Timeout for network operations.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Requested
URL, e.g. “http://www.google.com:80/index.html”.</li>
</ul>
<h3 id="http_codes"><a href="#http_codes"
class="anchor"><code>http_codes</code></a></h3>
<p>List of HTTP response codes and statuses.</p>
<p>Type:</p>
<pre><code>[string * string]</code></pre>
<p>Arguments:</p>
<h3 id="http_response"><a href="#http_response"
class="anchor"><code>http_response</code></a></h3>
<p>Create a HTTP response string</p>
<p>Type:</p>
<pre><code>(?protocol : string, ?code : int,
 ?headers : [string * string], ?data : string) -&gt;
() -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>protocol</code> (of type <code>string</code>, which defaults
to <code>"HTTP/1.1"</code>): HTTP protocol used.</li>
<li><code>code</code> (of type <code>int</code>, which defaults to
<code>200</code>): Response code.</li>
<li><code>headers</code> (of type <code>[string * string]</code>, which
defaults to <code>[]</code>): Response headers.</li>
<li><code>data</code> (of type <code>string</code>, which defaults to
<code>""</code>): Response data</li>
</ul>
<h3 id="http_response_stream"><a href="#http_response_stream"
class="anchor"><code>http_response_stream</code></a></h3>
<p>Create a streamed HTTP response</p>
<p>Type:</p>
<pre><code>(?protocol : string, ?code : int,
 ?headers : [string * string], data_len : &#39;a,
 data : (() -&gt; string)) -&gt; () -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>protocol</code> (of type <code>string</code>, which defaults
to <code>"HTTP/1.1"</code>): HTTP protocol used.</li>
<li><code>code</code> (of type <code>int</code>, which defaults to
<code>200</code>): Response code.</li>
<li><code>headers</code> (of type <code>[string * string]</code>, which
defaults to <code>[]</code>): Response headers.</li>
<li><code>data_len</code> (of type <code>'a</code>): Response length in
bytes</li>
<li><code>data</code> (of type <code>() -&gt; string</code>): Response
data</li>
</ul>
<h3 id="https.delete"><a href="#https.delete"
class="anchor"><code>https.delete</code></a></h3>
<p>Perform a full https DELETE request and return
(status,headers),data.</p>
<p>Type:</p>
<pre><code>(?headers : [string * string], ?http_version : string,
 ?timeout : float, string) -&gt;
(string * int * string) * [string * string] * string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>headers</code> (of type <code>[string * string]</code>, which
defaults to <code>[]</code>): Additional headers.</li>
<li><code>http_version</code> (of type <code>string</code>, which
defaults to <code>"1.0"</code>): Http request version.</li>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Timeout for network operations.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Requested
URL, e.g. “http://www.google.com:80/index.html”.</li>
</ul>
<h3 id="https.get"><a href="#https.get"
class="anchor"><code>https.get</code></a></h3>
<p>Perform a full https GET request and return
(status,headers),data.</p>
<p>Type:</p>
<pre><code>(?headers : [string * string], ?http_version : string,
 ?timeout : float, string) -&gt;
(string * int * string) * [string * string] * string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>headers</code> (of type <code>[string * string]</code>, which
defaults to <code>[]</code>): Additional headers.</li>
<li><code>http_version</code> (of type <code>string</code>, which
defaults to <code>"1.0"</code>): Http request version.</li>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Timeout for network operations.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Requested
URL, e.g. “http://www.google.com:80/index.html”.</li>
</ul>
<h3 id="https.head"><a href="#https.head"
class="anchor"><code>https.head</code></a></h3>
<p>Perform a full https HEAD request and return
(status,headers),data.</p>
<p>Type:</p>
<pre><code>(?headers : [string * string], ?http_version : string,
 ?timeout : float, string) -&gt;
(string * int * string) * [string * string] * string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>headers</code> (of type <code>[string * string]</code>, which
defaults to <code>[]</code>): Additional headers.</li>
<li><code>http_version</code> (of type <code>string</code>, which
defaults to <code>"1.0"</code>): Http request version.</li>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Timeout for network operations.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Requested
URL, e.g. “http://www.google.com:80/index.html”.</li>
</ul>
<h3 id="https.post"><a href="#https.post"
class="anchor"><code>https.post</code></a></h3>
<p>Perform a full https POST request and return
(status,headers),data.</p>
<p>Type:</p>
<pre><code>(?data : string, ?headers : [string * string],
 ?http_version : string, ?timeout : float, string) -&gt;
(string * int * string) * [string * string] * string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>data</code> (of type <code>string</code>, which defaults to
<code>""</code>): POST data.</li>
<li><code>headers</code> (of type <code>[string * string]</code>, which
defaults to <code>[]</code>): Additional headers.</li>
<li><code>http_version</code> (of type <code>string</code>, which
defaults to <code>"1.0"</code>): Http request version.</li>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Timeout for network operations.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Requested
URL, e.g. “http://www.google.com:80/index.html”.</li>
</ul>
<h3 id="https.put"><a href="#https.put"
class="anchor"><code>https.put</code></a></h3>
<p>Perform a full https PUT request and return
(status,headers),data.</p>
<p>Type:</p>
<pre><code>(?data : string, ?headers : [string * string],
 ?http_version : string, ?timeout : float, string) -&gt;
(string * int * string) * [string * string] * string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>data</code> (of type <code>string</code>, which defaults to
<code>""</code>): POST data.</li>
<li><code>headers</code> (of type <code>[string * string]</code>, which
defaults to <code>[]</code>): Additional headers.</li>
<li><code>http_version</code> (of type <code>string</code>, which
defaults to <code>"1.0"</code>): Http request version.</li>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Timeout for network operations.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Requested
URL, e.g. “http://www.google.com:80/index.html”.</li>
</ul>
<h3 id="icy.update_metadata"><a href="#icy.update_metadata"
class="anchor"><code>icy.update_metadata</code></a></h3>
<p>Update metata on an icecast mountpoint using the ICY protocol.</p>
<p>Type:</p>
<pre><code>(?host : string, ?port : int, ?user : string,
 ?password : string, ?mount : string, ?icy_id : int,
 ?protocol : string, ?encoding : string,
 ?headers : [string * string], [string * string]) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>host</code> (of type <code>string</code>, which defaults to
<code>"localhost"</code>)</li>
<li><code>port</code> (of type <code>int</code>, which defaults to
<code>8000</code>)</li>
<li><code>user</code> (of type <code>string</code>, which defaults to
<code>"source"</code>)</li>
<li><code>password</code> (of type <code>string</code>, which defaults
to <code>"hackme"</code>)</li>
<li><code>mount</code> (of type <code>string</code>, which defaults to
<code>""</code>): Source mount point. Mandatory when streaming to
icecast.</li>
<li><code>icy_id</code> (of type <code>int</code>, which defaults to
<code>1</code>): Shoutcast source ID. Only supported by Shoutcast
v2.</li>
<li><code>protocol</code> (of type <code>string</code>, which defaults
to <code>"http"</code>): Protocol to use. One of: “icy”, “http” or
“https”</li>
<li><code>encoding</code> (of type <code>string</code>, which defaults
to <code>""</code>): Encoding used to send metadata, default (UTF-8) if
empty.</li>
<li><code>headers</code> (of type <code>[string * string]</code>, which
defaults to
<code>[("User-Agent", "Liquidsoap/1.4.4 (Unix; OCaml 4.10.0)")]</code>):
Additional headers.</li>
<li><code>(unlabeled)</code> (of type
<code>[string * string]</code>)</li>
</ul>
<h3 id="interactive.bool"><a href="#interactive.bool"
class="anchor"><code>interactive.bool</code></a></h3>
<p>Read a boolean from an interactive input.</p>
<p>Type:</p>
<pre><code>(string, bool) -&gt; () -&gt; bool</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
<li><code>(unlabeled)</code> (of type <code>bool</code>)</li>
</ul>
<h3 id="interactive.float"><a href="#interactive.float"
class="anchor"><code>interactive.float</code></a></h3>
<p>Read a float from an interactive input.</p>
<p>Type:</p>
<pre><code>(string, float) -&gt; () -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
<li><code>(unlabeled)</code> (of type <code>float</code>)</li>
</ul>
<h3 id="interactive.string"><a href="#interactive.string"
class="anchor"><code>interactive.string</code></a></h3>
<p>Read a string from an interactive input.</p>
<p>Type:</p>
<pre><code>(string, string) -&gt; () -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="lastfm.nowplaying"><a href="#lastfm.nowplaying"
class="anchor"><code>lastfm.nowplaying</code></a></h3>
<p>Submit metadata to lastfm.fm using the audioscrobbler protocol
(nowplaying mode).</p>
<p>Type:</p>
<pre><code>(user : string, password : string, ?length : bool,
 [string * string]) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>user</code> (of type <code>string</code>)</li>
<li><code>password</code> (of type <code>string</code>)</li>
<li><code>length</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Try to submit length information. This operation
can be CPU intensive. Value forced to true when used with the “user”
source type.</li>
<li><code>(unlabeled)</code> (of type
<code>[string * string]</code>)</li>
</ul>
<h3 id="lastfm.submit"><a href="#lastfm.submit"
class="anchor"><code>lastfm.submit</code></a></h3>
<p>Submit metadata to lastfm.fm using the audioscrobbler protocol.</p>
<p>Type:</p>
<pre><code>(user : string, password : string, ?source : string,
 ?length : bool, [string * string]) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>user</code> (of type <code>string</code>)</li>
<li><code>password</code> (of type <code>string</code>)</li>
<li><code>source</code> (of type <code>string</code>, which defaults to
<code>"broadcast"</code>): Source for tracks. Should be one of:
“broadcast”, “user”, “recommendation” or “unknown”. Since liquidsoap is
intented for radio broadcasting, this is the default. Sources other than
user don’t need duration to be set.</li>
<li><code>length</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Try to submit length information. This operation
can be CPU intensive. Value forced to true when used with the “user”
source type.</li>
<li><code>(unlabeled)</code> (of type
<code>[string * string]</code>)</li>
</ul>
<h3 id="lastfm.submit.full"><a href="#lastfm.submit.full"
class="anchor"><code>lastfm.submit.full</code></a></h3>
<p>Submit songs to lastfm using audioscrobbler, respecting the full
protocol: First signal song as now playing when starting, and then
submit song when it ends.</p>
<p>Type:</p>
<pre><code>(user : string, password : string, ?source : string,
 ?length : bool, ?delay : float, ?force : bool,
 source(&#39;a)) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>user</code> (of type <code>string</code>)</li>
<li><code>password</code> (of type <code>string</code>)</li>
<li><code>source</code> (of type <code>string</code>, which defaults to
<code>"broadcast"</code>): Source for tracks. Should be one of:
“broadcast”, “user”, “recommendation” or “unknown”. Since liquidsoap is
intented for radio broadcasting, this is the default. Sources other than
user don’t need duration to be set.</li>
<li><code>length</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Try to submit length information. This operation
can be CPU intensive. Value forced to true when used with the “user”
source type.</li>
<li><code>delay</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Submit song when there is only this delay left, in
seconds. If remaining time is less than this value, the song will be
assumed to be skipped or cuted, and not submitted. Set to zero to
disable this behaviour.</li>
<li><code>force</code> (of type <code>bool</code>, which defaults to
<code>false</code>): If remaining time is null, the song will be assumed
to be skipped or cuted, and not submitted. Set to zero to disable this
behaviour.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="librefm.nowplaying"><a href="#librefm.nowplaying"
class="anchor"><code>librefm.nowplaying</code></a></h3>
<p>Submit metadata to libre.fm using the audioscrobbler protocol
(nowplaying mode).</p>
<p>Type:</p>
<pre><code>(user : string, password : string, ?length : bool,
 [string * string]) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>user</code> (of type <code>string</code>)</li>
<li><code>password</code> (of type <code>string</code>)</li>
<li><code>length</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Try to submit length information. This operation
can be CPU intensive. Value forced to true when used with the “user”
source type.</li>
<li><code>(unlabeled)</code> (of type
<code>[string * string]</code>)</li>
</ul>
<h3 id="librefm.submit"><a href="#librefm.submit"
class="anchor"><code>librefm.submit</code></a></h3>
<p>Submit metadata to libre.fm using the audioscrobbler protocol.</p>
<p>Type:</p>
<pre><code>(user : string, password : string, ?source : string,
 ?length : bool, [string * string]) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>user</code> (of type <code>string</code>)</li>
<li><code>password</code> (of type <code>string</code>)</li>
<li><code>source</code> (of type <code>string</code>, which defaults to
<code>"broadcast"</code>): Source for tracks. Should be one of:
“broadcast”, “user”, “recommendation” or “unknown”. Since liquidsoap is
intented for radio broadcasting, this is the default. Sources other than
user don’t need duration to be set.</li>
<li><code>length</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Try to submit length information. This operation
can be CPU intensive. Value forced to true when used with the “user”
source type.</li>
<li><code>(unlabeled)</code> (of type
<code>[string * string]</code>)</li>
</ul>
<h3 id="librefm.submit.full"><a href="#librefm.submit.full"
class="anchor"><code>librefm.submit.full</code></a></h3>
<p>Submit songs to librefm using audioscrobbler, respecting the full
protocol: First signal song as now playing when starting, and then
submit song when it ends.</p>
<p>Type:</p>
<pre><code>(user : string, password : string, ?source : string,
 ?length : bool, ?delay : float, ?force : bool,
 source(&#39;a)) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>user</code> (of type <code>string</code>)</li>
<li><code>password</code> (of type <code>string</code>)</li>
<li><code>source</code> (of type <code>string</code>, which defaults to
<code>"broadcast"</code>): Source for tracks. Should be one of:
“broadcast”, “user”, “recommendation” or “unknown”. Since liquidsoap is
intented for radio broadcasting, this is the default. Sources other than
user don’t need duration to be set.</li>
<li><code>length</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Try to submit length information. This operation
can be CPU intensive. Value forced to true when used with the “user”
source type.</li>
<li><code>delay</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Submit song when there is only this delay left, in
seconds. If remaining time is less than this value, the song will be
assumed to be skipped or cuted, and not submitted. Set to zero to
disable this behaviour.</li>
<li><code>force</code> (of type <code>bool</code>, which defaults to
<code>false</code>): If remaining time is null, the song will be assumed
to be skipped or cuted, and not submitted. Set to zero to disable this
behaviour.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="metadata.float_getter"><a href="#metadata.float_getter"
class="anchor"><code>metadata.float_getter</code></a></h3>
<p>Create a float getter from a metadata: this is a float, whose value
can be changed with a metadata.</p>
<p>Type:</p>
<pre><code>(float, string, source(&#39;a)) -&gt; source(&#39;a) * (() -&gt; float)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>float</code>): Initial
value.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Metadata on
which the value should be updated.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>): Source
containing the metadata.</li>
</ul>
<h3 id="metadata.string_getter"><a href="#metadata.string_getter"
class="anchor"><code>metadata.string_getter</code></a></h3>
<p>Create a string getter from a metadata: this is a string, whose value
can be changed with a metadata.</p>
<p>Type:</p>
<pre><code>(string, string, source(&#39;a)) -&gt;
source(&#39;a) * (() -&gt; string)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>): Initial
value.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Metadata on
which the value should be updated.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>): Source
containing the metadata.</li>
</ul>
<h3 id="osc.bool"><a href="#osc.bool"
class="anchor"><code>osc.bool</code></a></h3>
<p>Read from an OSC path.</p>
<p>Type:</p>
<pre><code>(string, bool) -&gt; () -&gt; bool</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>): OSC
path.</li>
<li><code>(unlabeled)</code> (of type <code>bool</code>): Initial
value.</li>
</ul>
<h3 id="osc.float"><a href="#osc.float"
class="anchor"><code>osc.float</code></a></h3>
<p>Read from an OSC path.</p>
<p>Type:</p>
<pre><code>(string, float) -&gt; () -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>): OSC
path.</li>
<li><code>(unlabeled)</code> (of type <code>float</code>): Initial
value.</li>
</ul>
<h3 id="osc.float_pair"><a href="#osc.float_pair"
class="anchor"><code>osc.float_pair</code></a></h3>
<p>Read from an OSC path.</p>
<p>Type:</p>
<pre><code>(string, (float * float)) -&gt; () -&gt; float * float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>): OSC
path.</li>
<li><code>(unlabeled)</code> (of type <code>float * float</code>):
Initial value.</li>
</ul>
<h3 id="osc.int"><a href="#osc.int"
class="anchor"><code>osc.int</code></a></h3>
<p>Read from an OSC path.</p>
<p>Type:</p>
<pre><code>(string, int) -&gt; () -&gt; int</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>): OSC
path.</li>
<li><code>(unlabeled)</code> (of type <code>int</code>): Initial
value.</li>
</ul>
<h3 id="osc.int_pair"><a href="#osc.int_pair"
class="anchor"><code>osc.int_pair</code></a></h3>
<p>Read from an OSC path.</p>
<p>Type:</p>
<pre><code>(string, (int * int)) -&gt; () -&gt; int * int</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>): OSC
path.</li>
<li><code>(unlabeled)</code> (of type <code>int * int</code>): Initial
value.</li>
</ul>
<h3 id="osc.on_bool"><a href="#osc.on_bool"
class="anchor"><code>osc.on_bool</code></a></h3>
<p>Register a callback on OSC messages.</p>
<p>Type:</p>
<pre><code>(string, ((bool) -&gt; unit)) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>): OSC
path.</li>
<li><code>(unlabeled)</code> (of type <code>(bool) -&gt; unit</code>):
Callback function.</li>
</ul>
<h3 id="osc.on_float"><a href="#osc.on_float"
class="anchor"><code>osc.on_float</code></a></h3>
<p>Register a callback on OSC messages.</p>
<p>Type:</p>
<pre><code>(string, ((float) -&gt; unit)) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>): OSC
path.</li>
<li><code>(unlabeled)</code> (of type <code>(float) -&gt; unit</code>):
Callback function.</li>
</ul>
<h3 id="osc.on_float_pair"><a href="#osc.on_float_pair"
class="anchor"><code>osc.on_float_pair</code></a></h3>
<p>Register a callback on OSC messages.</p>
<p>Type:</p>
<pre><code>(string, (((float * float)) -&gt; unit)) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>): OSC
path.</li>
<li><code>(unlabeled)</code> (of type
<code>((float * float)) -&gt; unit</code>): Callback function.</li>
</ul>
<h3 id="osc.on_int"><a href="#osc.on_int"
class="anchor"><code>osc.on_int</code></a></h3>
<p>Register a callback on OSC messages.</p>
<p>Type:</p>
<pre><code>(string, ((int) -&gt; unit)) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>): OSC
path.</li>
<li><code>(unlabeled)</code> (of type <code>(int) -&gt; unit</code>):
Callback function.</li>
</ul>
<h3 id="osc.on_int_pair"><a href="#osc.on_int_pair"
class="anchor"><code>osc.on_int_pair</code></a></h3>
<p>Register a callback on OSC messages.</p>
<p>Type:</p>
<pre><code>(string, (((int * int)) -&gt; unit)) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>): OSC
path.</li>
<li><code>(unlabeled)</code> (of type
<code>((int * int)) -&gt; unit</code>): Callback function.</li>
</ul>
<h3 id="osc.on_string"><a href="#osc.on_string"
class="anchor"><code>osc.on_string</code></a></h3>
<p>Register a callback on OSC messages.</p>
<p>Type:</p>
<pre><code>(string, ((string) -&gt; unit)) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>): OSC
path.</li>
<li><code>(unlabeled)</code> (of type <code>(string) -&gt; unit</code>):
Callback function.</li>
</ul>
<h3 id="osc.on_string_pair"><a href="#osc.on_string_pair"
class="anchor"><code>osc.on_string_pair</code></a></h3>
<p>Register a callback on OSC messages.</p>
<p>Type:</p>
<pre><code>(string, (((string * string)) -&gt; unit)) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>): OSC
path.</li>
<li><code>(unlabeled)</code> (of type
<code>((string * string)) -&gt; unit</code>): Callback function.</li>
</ul>
<h3 id="osc.send_bool"><a href="#osc.send_bool"
class="anchor"><code>osc.send_bool</code></a></h3>
<p>Send a value to an OSC client.</p>
<p>Type:</p>
<pre><code>(host : string, port : int, string, bool) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>host</code> (of type <code>string</code>): OSC client
address.</li>
<li><code>port</code> (of type <code>int</code>): OSC client port.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): OSC
path.</li>
<li><code>(unlabeled)</code> (of type <code>bool</code>): Value to
send.</li>
</ul>
<h3 id="osc.send_float"><a href="#osc.send_float"
class="anchor"><code>osc.send_float</code></a></h3>
<p>Send a value to an OSC client.</p>
<p>Type:</p>
<pre><code>(host : string, port : int, string, float) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>host</code> (of type <code>string</code>): OSC client
address.</li>
<li><code>port</code> (of type <code>int</code>): OSC client port.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): OSC
path.</li>
<li><code>(unlabeled)</code> (of type <code>float</code>): Value to
send.</li>
</ul>
<h3 id="osc.send_float_pair"><a href="#osc.send_float_pair"
class="anchor"><code>osc.send_float_pair</code></a></h3>
<p>Send a value to an OSC client.</p>
<p>Type:</p>
<pre><code>(host : string, port : int, string, (float * float)) -&gt;
unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>host</code> (of type <code>string</code>): OSC client
address.</li>
<li><code>port</code> (of type <code>int</code>): OSC client port.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): OSC
path.</li>
<li><code>(unlabeled)</code> (of type <code>float * float</code>): Value
to send.</li>
</ul>
<h3 id="osc.send_int"><a href="#osc.send_int"
class="anchor"><code>osc.send_int</code></a></h3>
<p>Send a value to an OSC client.</p>
<p>Type:</p>
<pre><code>(host : string, port : int, string, int) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>host</code> (of type <code>string</code>): OSC client
address.</li>
<li><code>port</code> (of type <code>int</code>): OSC client port.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): OSC
path.</li>
<li><code>(unlabeled)</code> (of type <code>int</code>): Value to
send.</li>
</ul>
<h3 id="osc.send_int_pair"><a href="#osc.send_int_pair"
class="anchor"><code>osc.send_int_pair</code></a></h3>
<p>Send a value to an OSC client.</p>
<p>Type:</p>
<pre><code>(host : string, port : int, string, (int * int)) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>host</code> (of type <code>string</code>): OSC client
address.</li>
<li><code>port</code> (of type <code>int</code>): OSC client port.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): OSC
path.</li>
<li><code>(unlabeled)</code> (of type <code>int * int</code>): Value to
send.</li>
</ul>
<h3 id="osc.send_string"><a href="#osc.send_string"
class="anchor"><code>osc.send_string</code></a></h3>
<p>Send a value to an OSC client.</p>
<p>Type:</p>
<pre><code>(host : string, port : int, string, string) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>host</code> (of type <code>string</code>): OSC client
address.</li>
<li><code>port</code> (of type <code>int</code>): OSC client port.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): OSC
path.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Value to
send.</li>
</ul>
<h3 id="osc.send_string_pair"><a href="#osc.send_string_pair"
class="anchor"><code>osc.send_string_pair</code></a></h3>
<p>Send a value to an OSC client.</p>
<p>Type:</p>
<pre><code>(host : string, port : int, string, (string * string)) -&gt;
unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>host</code> (of type <code>string</code>): OSC client
address.</li>
<li><code>port</code> (of type <code>int</code>): OSC client port.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): OSC
path.</li>
<li><code>(unlabeled)</code> (of type <code>string * string</code>):
Value to send.</li>
</ul>
<h3 id="osc.string"><a href="#osc.string"
class="anchor"><code>osc.string</code></a></h3>
<p>Read from an OSC path.</p>
<p>Type:</p>
<pre><code>(string, string) -&gt; () -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>): OSC
path.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Initial
value.</li>
</ul>
<h3 id="osc.string_pair"><a href="#osc.string_pair"
class="anchor"><code>osc.string_pair</code></a></h3>
<p>Read from an OSC path.</p>
<p>Type:</p>
<pre><code>(string, (string * string)) -&gt; () -&gt; string * string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>): OSC
path.</li>
<li><code>(unlabeled)</code> (of type <code>string * string</code>):
Initial value.</li>
</ul>
<h3 id="print"><a href="#print"
class="anchor"><code>print</code></a></h3>
<p>Print on standard output.</p>
<p>Type:</p>
<pre><code>(?newline : bool, &#39;a) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>newline</code> (of type <code>bool</code>, which defaults to
<code>true</code>): If true, a newline is added after displaying the
value.</li>
<li><code>(unlabeled)</code> (of type <code>'a</code>)</li>
</ul>
<h3 id="server.broadcast"><a href="#server.broadcast"
class="anchor"><code>server.broadcast</code></a></h3>
<p>Restart all server clients waiting on the given condition</p>
<p>Type:</p>
<pre><code>((&#39;a * (&#39;b * (() -&gt; &#39;c)))) -&gt; &#39;c</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>'a * ('b * (() -&gt; 'c))</code>): condition</li>
</ul>
<h3 id="server.condition"><a href="#server.condition"
class="anchor"><code>server.condition</code></a></h3>
<p>Create a pair of functions <code>(wait,(signal,broadcast))</code>
used to suspend and resume server command execution. Used to write
interactive server commands through <code>server.wait</code>,
<code>server.signal</code>, <code>server.broadcast</code> and
<code>server.write</code>.</p>
<p>Type:</p>
<pre><code>() -&gt;
(((() -&gt; string)) -&gt; string) *
((() -&gt; unit) * (() -&gt; unit))</code></pre>
<p>Arguments:</p>
<h3 id="server.read"><a href="#server.read"
class="anchor"><code>server.read</code></a></h3>
<p>Read a string from the client up-to a marker. Marker can be any
string of regular expression. Should be used via the syntactic sugar:
<code>server.read &lt;marker&gt; : &lt;varname&gt; then &lt;after&gt; end</code></p>
<p>Type:</p>
<pre><code>(((string) -&gt; string), string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>(string) -&gt; string</code>): function to run after write</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Read
marker</li>
</ul>
<h3 id="server.readchars"><a href="#server.readchars"
class="anchor"><code>server.readchars</code></a></h3>
<p>Read a string of fixed length from the client up-to a marker. Should
be used via the syntactic sugar:
<code>server.readchars &lt;len&gt; : &lt;varname&gt; then &lt;after&gt; end</code></p>
<p>Type:</p>
<pre><code>(((string) -&gt; string), int) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>(string) -&gt; string</code>): function to run after write</li>
<li><code>(unlabeled)</code> (of type <code>int</code>): Number of
characters to read</li>
</ul>
<h3 id="server.readline"><a href="#server.readline"
class="anchor"><code>server.readline</code></a></h3>
<p>Read a line from the client. Should be used via the syntactic sugar:
<code>server.readline &lt;varname&gt; then &lt;after&gt; end</code></p>
<p>Type:</p>
<pre><code>(((string) -&gt; string)) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>(string) -&gt; string</code>): function to run after write</li>
</ul>
<h3 id="server.register"><a href="#server.register"
class="anchor"><code>server.register</code></a></h3>
<p>Register a command. You can then execute this function through the
server, either telnet or socket.</p>
<p>Type:</p>
<pre><code>(?namespace : string, ?description : string,
 ?usage : string, string, ((string) -&gt; string)) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>namespace</code> (of type <code>string</code>, which defaults
to <code>""</code>)</li>
<li><code>description</code> (of type <code>string</code>, which
defaults to <code>"No documentation available."</code>): A description
of your command.</li>
<li><code>usage</code> (of type <code>string</code>, which defaults to
<code>""</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>(string) -&gt; string</code>)</li>
</ul>
<h3 id="server.signal"><a href="#server.signal"
class="anchor"><code>server.signal</code></a></h3>
<p>Restart one server client waiting on the given condition</p>
<p>Type:</p>
<pre><code>((&#39;a * ((() -&gt; &#39;b) * &#39;c))) -&gt; &#39;b</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>'a * ((() -&gt; 'b) * 'c)</code>): condition</li>
</ul>
<h3 id="server.wait"><a href="#server.wait"
class="anchor"><code>server.wait</code></a></h3>
<p>Wait on a server condition. Used to write interactive server command.
Should be used via the syntactic sugar:
<code>server.wait &lt;condition&gt; then &lt;after&gt; end</code></p>
<p>Type:</p>
<pre><code>(((((() -&gt; string)) -&gt; string) * &#39;a), (() -&gt; string)) -&gt;
string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>(((() -&gt; string)) -&gt; string) * 'a</code>): condition</li>
<li><code>(unlabeled)</code> (of type <code>() -&gt; string</code>):
code to execute when resuming</li>
</ul>
<h3 id="server.write"><a href="#server.write"
class="anchor"><code>server.write</code></a></h3>
<p>Execute a partial write while executing a server command. Should be
used via the syntactic sugar:
<code>server.write &lt;string&gt; then &lt;after&gt; end</code></p>
<p>Type:</p>
<pre><code>((() -&gt; string), string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>() -&gt; string</code>):
function to run after write</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): string to
write</li>
</ul>
<h2 id="liquidsoap"><a href="#liquidsoap"
class="anchor">Liquidsoap</a></h2>
<h3 id="add_decoder"><a href="#add_decoder"
class="anchor"><code>add_decoder</code></a></h3>
<p>Register an external decoder. The encoder should output in WAV format
to his standard output (stdout) and read data from its standard input
(stdin).</p>
<p>Type:</p>
<pre><code>(name : string, description : string, ?mimes : [string],
 test : ((string) -&gt; int), string) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>name</code> (of type <code>string</code>): Format/decoder’s
name.</li>
<li><code>description</code> (of type <code>string</code>): Description
of the decoder.</li>
<li><code>mimes</code> (of type <code>[string]</code>, which defaults to
<code>[]</code>): List of mime types supported by this decoder for
decoding streams.</li>
<li><code>test</code> (of type <code>(string) -&gt; int</code>):
Function used to determine if a file should be decoded by the decoder.
Returned values are: 0: no decodable audio, -1: decodable audio but
number of audio channels unknown, x: fixed number of decodable audio
channels.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Process to
start.</li>
</ul>
<h3 id="add_metadata_resolver"><a href="#add_metadata_resolver"
class="anchor"><code>add_metadata_resolver</code></a></h3>
<p>Register an external file metadata decoder.</p>
<p>Type:</p>
<pre><code>(string, ((string) -&gt; [string * string])) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>):
Format/resolver’s name.</li>
<li><code>(unlabeled)</code> (of type
<code>(string) -&gt; [string * string]</code>): Process to start. The
function takes the format and filename as argument and returns a list of
(name,value) fields.</li>
</ul>
<h3 id="add_oblivious_decoder"><a href="#add_oblivious_decoder"
class="anchor"><code>add_oblivious_decoder</code></a></h3>
<p>Register an external file decoder. The encoder should output in WAV
format to his standard output (stdout) and read data from the file it
receives. The estimated remaining duration for this decoder will be
unknown until the <code>buffer</code> last seconds of the file. If
possible, it is recommended to decode from stdin and use
<code>add_decoder</code>.</p>
<p>Type:</p>
<pre><code>(name : string, description : string,
 test : ((string) -&gt; int), ?buffer : float,
 ((string) -&gt; string)) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>name</code> (of type <code>string</code>): Format/decoder’s
name.</li>
<li><code>description</code> (of type <code>string</code>): Description
of the decoder.</li>
<li><code>test</code> (of type <code>(string) -&gt; int</code>):
Function used to determine if a file should be decoded by the decoder.
Returned values are: 0: no decodable audio, -1: decodable audio but
number of audio channels unknown, x: fixed number of decodable audio
channels.</li>
<li><code>buffer</code> (of type <code>float</code>, which defaults to
<code>5.0</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>(string) -&gt; string</code>): Process to start. The function
takes the filename as argument and returns the process to start.</li>
</ul>
<h3 id="add_playlist_parser"><a href="#add_playlist_parser"
class="anchor"><code>add_playlist_parser</code></a></h3>
<p>Register a new playlist parser. An empty playlist is considered as a
failure to resolve.</p>
<p>Type:</p>
<pre><code>(format : string, strict : bool,
 ((?pwd : string, string) -&gt;
  [[string * string] * string])) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>format</code> (of type <code>string</code>): Playlist format.
If possible, a mime-type.</li>
<li><code>strict</code> (of type <code>bool</code>): True if playlist
format can be detected unambiguously.</li>
<li><code>(unlabeled)</code> (of type
<code>(?pwd : string, string) -&gt; [[string * string] * string]</code>):
Playlist parser</li>
</ul>
<h3 id="add_protocol"><a href="#add_protocol"
class="anchor"><code>add_protocol</code></a></h3>
<p>Register a new protocol.</p>
<p>Type:</p>
<pre><code>(?temporary : bool, ?static : bool, ?syntax : string,
 ?doc : string, string,
 ((rlog : ((string) -&gt; unit), maxtime : float, string) -&gt;
  [string])) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>temporary</code> (of type <code>bool</code>, which defaults to
<code>false</code>): if true, file is removed when it is finished.</li>
<li><code>static</code> (of type <code>bool</code>, which defaults to
<code>false</code>): if true, then requests can be resolved once and for
all. Typically, static protocols can be used to create infallible
sources.</li>
<li><code>syntax</code> (of type <code>string</code>, which defaults to
<code>"Undocumented"</code>): URI syntax.</li>
<li><code>doc</code> (of type <code>string</code>, which defaults to
<code>"Undocumented"</code>): Protocol documentation.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Protocol
name. Resolver will be called on uris of the form:
<code>&lt;protocol name&gt;:...</code>.</li>
<li><code>(unlabeled)</code> (of type
<code>(rlog : ((string) -&gt; unit), maxtime : float, string) -&gt; [string]</code>):
Protocol resolver. Receives a function to log protocol resolution, the
<code>&lt;arg&gt;</code> in
<code>&lt;protocol name&gt;:&lt;arg&gt;</code> and the max delay that
resolution should take.</li>
</ul>
<h3 id="audio.channels"><a href="#audio.channels"
class="anchor"><code>audio.channels</code></a></h3>
<p>Channels for audio.</p>
<p>Type:</p>
<pre><code>() -&gt; int</code></pre>
<p>Arguments:</p>
<h3 id="audio.samplerate"><a href="#audio.samplerate"
class="anchor"><code>audio.samplerate</code></a></h3>
<p>Samplerate for audio.</p>
<p>Type:</p>
<pre><code>() -&gt; int</code></pre>
<p>Arguments:</p>
<h3 id="bool_getter"><a href="#bool_getter"
class="anchor"><code>bool_getter</code></a></h3>
<p>Identity function over bool getters. This is useful to make types
explicit.</p>
<p>Type:</p>
<pre><code>({bool}) -&gt; {bool}</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>{bool}</code>)</li>
</ul>
<h3 id="clock"><a href="#clock"
class="anchor"><code>clock</code></a></h3>
<p>Assign a new clock to the given source (and to other time-dependent
sources) and return the source. It is a conveniency wrapper around
clock.assign_new(), allowing more concise scripts in some cases.</p>
<p>Type:</p>
<pre><code>(?sync : bool, ?id : string, source(&#39;a)) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>sync</code> (of type <code>bool</code>, which defaults to
<code>true</code>): When <code>false</code>, do not synchronize the
clock on regular wallclock time, but try to run as fast as possible (CPU
burning mode).</li>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>)</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="clock.assign_new"><a href="#clock.assign_new"
class="anchor"><code>clock.assign_new</code></a></h3>
<p>Create a new clock and assign it to a list of sources.</p>
<p>Type:</p>
<pre><code>(?id : string, ?sync : bool, [source(&#39;a)]) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Identifier for the new clock. The default empty string
means that the identifier of the first source will be used.</li>
<li><code>sync</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Do not synchronize the clock on regular wallclock
time, but try to run as fast as possible (CPU burning mode).</li>
<li><code>(unlabeled)</code> (of type <code>[source('a)]</code>): List
of sources to which the new clock will be assigned</li>
</ul>
<h3 id="clock.log"><a href="#clock.log"
class="anchor"><code>clock.log</code></a></h3>
<p>Create a log of clock times for all the clocks initially present. The
log is in a simple format which you can directly use with gnuplot.</p>
<p>Type:</p>
<pre><code>(?delay : float, ?interval : float, string) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>delay</code> (of type <code>float</code>, which defaults to
<code>0.0</code>): Delay before setting up the clock logger. This should
be used to ensure that the logger starts only after the clocks are
created.</li>
<li><code>interval</code> (of type <code>float</code>, which defaults to
<code>1.0</code>): Polling interval.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Path of the
log file.</li>
</ul>
<h3 id="clock.status"><a href="#clock.status"
class="anchor"><code>clock.status</code></a></h3>
<p>Get the current time for all allocated clocks.</p>
<p>Type:</p>
<pre><code>() -&gt; [string * int]</code></pre>
<p>Arguments:</p>
<h3 id="clock.unify"><a href="#clock.unify"
class="anchor"><code>clock.unify</code></a></h3>
<p>Enforce that a list of sources all belong to the same clock.</p>
<p>Type:</p>
<pre><code>([source(&#39;a)]) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>[source('a)]</code>)</li>
</ul>
<h3 id="configure.bindir"><a href="#configure.bindir"
class="anchor"><code>configure.bindir</code></a></h3>
<p>Liquidsoap’s Internal script directory.</p>
<p>Type:</p>
<pre><code>string</code></pre>
<p>Arguments:</p>
<h3 id="configure.default_font"><a href="#configure.default_font"
class="anchor"><code>configure.default_font</code></a></h3>
<p>Liquidsoap’s default font file.</p>
<p>Type:</p>
<pre><code>string</code></pre>
<p>Arguments:</p>
<h3 id="configure.libdir"><a href="#configure.libdir"
class="anchor"><code>configure.libdir</code></a></h3>
<p>Liquidsoap’s library directory.</p>
<p>Type:</p>
<pre><code>string</code></pre>
<p>Arguments:</p>
<h3 id="configure.logdir"><a href="#configure.logdir"
class="anchor"><code>configure.logdir</code></a></h3>
<p>Liquidsoap’s logging directory.</p>
<p>Type:</p>
<pre><code>string</code></pre>
<p>Arguments:</p>
<h3 id="configure.rundir"><a href="#configure.rundir"
class="anchor"><code>configure.rundir</code></a></h3>
<p>Liquidsoap’s PID file directory.</p>
<p>Type:</p>
<pre><code>string</code></pre>
<p>Arguments:</p>
<h3 id="enable_external_faad_decoder"><a
href="#enable_external_faad_decoder"
class="anchor"><code>enable_external_faad_decoder</code></a></h3>
<p>Enable or disable external FAAD (AAC/AAC+/M4A) decoders. Does not
work on Win32. Please note that built-in support for faad is available
in liquidsoap if compiled and should be preferred over the external
decoder.</p>
<p>Type:</p>
<pre><code>() -&gt; unit</code></pre>
<p>Arguments:</p>
<h3 id="enable_external_ffmpeg_decoder"><a
href="#enable_external_ffmpeg_decoder"
class="anchor"><code>enable_external_ffmpeg_decoder</code></a></h3>
<p>Enable ffmpeg decoder.</p>
<p>Type:</p>
<pre><code>() -&gt; unit</code></pre>
<p>Arguments:</p>
<h3 id="enable_external_flac_decoder"><a
href="#enable_external_flac_decoder"
class="anchor"><code>enable_external_flac_decoder</code></a></h3>
<p>Enable external FLAC decoders. Please note that built-in support for
FLAC is available in liquidsoap if compiled and should be preferred over
the external decoder.</p>
<p>Type:</p>
<pre><code>() -&gt; unit</code></pre>
<p>Arguments:</p>
<h3 id="enable_external_mpc_decoder"><a
href="#enable_external_mpc_decoder"
class="anchor"><code>enable_external_mpc_decoder</code></a></h3>
<p>Enable external Musepack decoder.</p>
<p>Type:</p>
<pre><code>() -&gt; unit</code></pre>
<p>Arguments:</p>
<h3 id="enable_replaygain_metadata"><a
href="#enable_replaygain_metadata"
class="anchor"><code>enable_replaygain_metadata</code></a></h3>
<p>Enable replay gain metadata resolver. This resolver will process any
file decoded by liquidsoap and add a replay_gain metadata when this
value could be computed. For a finer-grained replay gain processing, use
the replay_gain protocol.</p>
<p>Type:</p>
<pre><code>(?delay : float, ?extract_replaygain : string) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>delay</code> (of type <code>float</code>, which defaults to
<code>-1.0</code>): Maximum delay for extracting metadata</li>
<li><code>extract_replaygain</code> (of type <code>string</code>, which
defaults to
<code>"/usr/local/share/liquidsoap/1.4.4/bin/extract-replaygain"</code>):
The extraction program</li>
</ul>
<h3 id="encoder.content_type"><a href="#encoder.content_type"
class="anchor"><code>encoder.content_type</code></a></h3>
<p>Return the content-type (mime) of an encoder, if known.</p>
<p>Type:</p>
<pre><code>(format(&#39;a)) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>format('a)</code>)</li>
</ul>
<h3 id="encoder.extension"><a href="#encoder.extension"
class="anchor"><code>encoder.extension</code></a></h3>
<p>Return the file extension of an encoder, if known.</p>
<p>Type:</p>
<pre><code>(format(&#39;a)) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>format('a)</code>)</li>
</ul>
<h3 id="file.mime"><a href="#file.mime"
class="anchor"><code>file.mime</code></a></h3>
<p>Get the MIME type of a file, according to libmagic.</p>
<p>Type:</p>
<pre><code>(string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="float_getter"><a href="#float_getter"
class="anchor"><code>float_getter</code></a></h3>
<p>Identity function over float getters. This is useful to make types
explicit.</p>
<p>Type:</p>
<pre><code>({float}) -&gt; {float}</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>{float}</code>)</li>
</ul>
<h3 id="for"><a href="#for" class="anchor"><code>for</code></a></h3>
<p>A “for” loop: call multiple times a function with increasing integers
as arguments, between specified bounds. For instance,
<code>for(5, 8, f)</code> is equivalent to
<code>f(5); f(6); f(7); f(8)</code>.</p>
<p>Type:</p>
<pre><code>(int, int, ((int) -&gt; unit)) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>int</code>, which defaults
to <code>???</code>): First number</li>
<li><code>(unlabeled)</code> (of type <code>int</code>, which defaults
to <code>???</code>): Last number</li>
<li><code>(unlabeled)</code> (of type <code>(int) -&gt; unit</code>,
which defaults to <code>???</code>): Function to be called</li>
</ul>
<h3 id="garbage_collect"><a href="#garbage_collect"
class="anchor"><code>garbage_collect</code></a></h3>
<p>Trigger full major garbage collection.</p>
<p>Type:</p>
<pre><code>() -&gt; unit</code></pre>
<p>Arguments:</p>
<h3 id="get"><a href="#get" class="anchor"><code>get</code></a></h3>
<p>Get a setting’s value.</p>
<p>Type:</p>
<pre><code>(default : &#39;a, string) -&gt; &#39;a
where &#39;a is unit, bool, int, float, string or [string]</code></pre>
<p>Arguments:</p>
<ul>
<li><code>default</code> (of type
<code>anything that is unit, bool, int, float, string or [string]</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="harbor.http.register"><a href="#harbor.http.register"
class="anchor"><code>harbor.http.register</code></a></h3>
<p>Register a HTTP handler on the harbor. The given function receives as
argument the full requested uri (e.g. “foo?var=bar”), http protocol
version, possible input data and the list of HTTP headers and returns
the answer sent to the client, including HTTP headers. Registered uri
can be regular expressions (e.g. “.+.php”) and can override default
metadata handlers. Response is a string getter, i.e. either of type
<code>string</code> or type <code>()-&gt;string</code>. In the later
case, getter function will be called until it returns an empty
string.</p>
<p>Type:</p>
<pre><code>(port : int, method : string, string,
 ((protocol : string, data : string,
   headers : [string * string], string) -&gt; {string})) -&gt;
unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>port</code> (of type <code>int</code>): Port to server.</li>
<li><code>method</code> (of type <code>string</code>): Accepted
method</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): URI to
serve.</li>
<li><code>(unlabeled)</code> (of type
<code>(protocol : string, data : string,  headers : [string * string], string) -&gt; {string}</code>):
Function to execute. method argument is “PUT” or “GET”, protocol
argument is “HTTP/1.1” or “HTTP/1.0” etc., data argument contains data
passed in case of a PUT request, and “” otherwise. headers argument
contains the HTTP headers. Unlabeled argument contains the requested
URI.</li>
</ul>
<h3 id="harbor.http.remove"><a href="#harbor.http.remove"
class="anchor"><code>harbor.http.remove</code></a></h3>
<p>Remove a registered HTTP handler on the harbor.</p>
<p>Type:</p>
<pre><code>(method : string, port : int, string) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>method</code> (of type <code>string</code>): Method
served.</li>
<li><code>port</code> (of type <code>int</code>): Port to server.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): URI
served.</li>
</ul>
<h3 id="harbor.https.register"><a href="#harbor.https.register"
class="anchor"><code>harbor.https.register</code></a></h3>
<p>Register a HTTPS handler on the harbor. The given function receives
as argument the full requested uri (e.g. “foo?var=bar”), http protocol
version, possible input data and the list of HTTP headers and returns
the answer sent to the client, including HTTP headers. Registered uri
can be regular expressions (e.g. “.+.php”) and can override default
metadata handlers. Response is a string getter, i.e. either of type
<code>string</code> or type <code>()-&gt;string</code>. In the later
case, getter function will be called until it returns an empty
string.</p>
<p>Type:</p>
<pre><code>(port : int, method : string, string,
 ((protocol : string, data : string,
   headers : [string * string], string) -&gt; {string})) -&gt;
unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>port</code> (of type <code>int</code>): Port to server.</li>
<li><code>method</code> (of type <code>string</code>): Accepted
method</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): URI to
serve.</li>
<li><code>(unlabeled)</code> (of type
<code>(protocol : string, data : string,  headers : [string * string], string) -&gt; {string}</code>):
Function to execute. method argument is “PUT” or “GET”, protocol
argument is “HTTP/1.1” or “HTTP/1.0” etc., data argument contains data
passed in case of a PUT request, and “” otherwise. headers argument
contains the HTTP headers. Unlabeled argument contains the requested
URI.</li>
</ul>
<h3 id="harbor.https.remove"><a href="#harbor.https.remove"
class="anchor"><code>harbor.https.remove</code></a></h3>
<p>Remove a registered HTTPS handler on the harbor.</p>
<p>Type:</p>
<pre><code>(method : string, port : int, string) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>method</code> (of type <code>string</code>): Method
served.</li>
<li><code>port</code> (of type <code>int</code>): Port to server.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): URI
served.</li>
</ul>
<h3 id="int_getter"><a href="#int_getter"
class="anchor"><code>int_getter</code></a></h3>
<p>Identity function over int getters. This is useful to make types
explicit.</p>
<p>Type:</p>
<pre><code>({int}) -&gt; {int}</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>{int}</code>)</li>
</ul>
<h3 id="liquidsoap.version"><a href="#liquidsoap.version"
class="anchor"><code>liquidsoap.version</code></a></h3>
<p>Liquidsoap version string.</p>
<p>Type:</p>
<pre><code>string</code></pre>
<p>Arguments:</p>
<h3 id="log"><a href="#log" class="anchor"><code>log</code></a></h3>
<p>Log a message.</p>
<p>Type:</p>
<pre><code>(?label : string, ?level : int, string) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>label</code> (of type <code>string</code>, which defaults to
<code>"lang"</code>)</li>
<li><code>level</code> (of type <code>int</code>, which defaults to
<code>3</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="log.critical"><a href="#log.critical"
class="anchor"><code>log.critical</code></a></h3>
<p>Log a critical message</p>
<p>Type:</p>
<pre><code>(?label : string, string) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>label</code> (of type <code>string</code>, which defaults to
<code>"lang"</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="log.debug"><a href="#log.debug"
class="anchor"><code>log.debug</code></a></h3>
<p>Log a debug message</p>
<p>Type:</p>
<pre><code>(?label : string, string) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>label</code> (of type <code>string</code>, which defaults to
<code>"lang"</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="log.important"><a href="#log.important"
class="anchor"><code>log.important</code></a></h3>
<p>Log an important message</p>
<p>Type:</p>
<pre><code>(?label : string, string) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>label</code> (of type <code>string</code>, which defaults to
<code>"lang"</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="log.info"><a href="#log.info"
class="anchor"><code>log.info</code></a></h3>
<p>Log a normal message</p>
<p>Type:</p>
<pre><code>(?label : string, string) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>label</code> (of type <code>string</code>, which defaults to
<code>"lang"</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="log.severe"><a href="#log.severe"
class="anchor"><code>log.severe</code></a></h3>
<p>Log a severe message</p>
<p>Type:</p>
<pre><code>(?label : string, string) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>label</code> (of type <code>string</code>, which defaults to
<code>"lang"</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="metadata.export"><a href="#metadata.export"
class="anchor"><code>metadata.export</code></a></h3>
<p>Filter-out internal metadata.</p>
<p>Type:</p>
<pre><code>([string * string]) -&gt; [string * string]</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>[string * string]</code>)</li>
</ul>
<h3 id="mutexify"><a href="#mutexify"
class="anchor"><code>mutexify</code></a></h3>
<p>Protect functions with a mutex to avoid concurrent calls, return
original value otherwise.</p>
<p>Type:</p>
<pre><code>(&#39;a) -&gt; &#39;a</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>'a</code>)</li>
</ul>
<h3 id="playlist.parse"><a href="#playlist.parse"
class="anchor"><code>playlist.parse</code></a></h3>
<p>Try to parse a local playlist. Return a list of (metadata,URI) items,
where metadata is a list of (key,value) bindings.</p>
<p>Type:</p>
<pre><code>(?path : string, ?mime : string, string) -&gt;
[[string * string] * string]</code></pre>
<p>Arguments:</p>
<ul>
<li><code>path</code> (of type <code>string</code>, which defaults to
<code>""</code>): Default path for files.</li>
<li><code>mime</code> (of type <code>string</code>, which defaults to
<code>""</code>): Mime type for the playlist</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="process_uri"><a href="#process_uri"
class="anchor"><code>process_uri</code></a></h3>
<p>Create a process: uri, replacing <code>:</code> with
<code>$(colon)</code></p>
<p>Type:</p>
<pre><code>(extname : &#39;a, ?uri : string, string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>extname</code> (of type <code>'a</code>): Output file
extension (with no leading ‘.’)</li>
<li><code>uri</code> (of type <code>string</code>, which defaults to
<code>""</code>): Input uri</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Command line
to execute</li>
</ul>
<h3 id="ref.get"><a href="#ref.get"
class="anchor"><code>ref.get</code></a></h3>
<p>Obtain the value stored in a reference. This is an alias to
<code>!</code>.</p>
<p>Type:</p>
<pre><code>(ref(&#39;a)) -&gt; &#39;a</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>ref('a)</code>)</li>
</ul>
<h3 id="ref.getter"><a href="#ref.getter"
class="anchor"><code>ref.getter</code></a></h3>
<p>Create a getter from a reference.</p>
<p>Type:</p>
<pre><code>(ref(&#39;a)) -&gt; () -&gt; &#39;a</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>ref('a)</code>)</li>
</ul>
<h3 id="ref.set"><a href="#ref.set"
class="anchor"><code>ref.set</code></a></h3>
<p>Change the value stored in a reference. This is an alias to
<code>:=</code>.</p>
<p>Type:</p>
<pre><code>(ref(&#39;a), &#39;a) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>ref('a)</code>)</li>
<li><code>(unlabeled)</code> (of type <code>'a</code>)</li>
</ul>
<h3 id="register"><a href="#register"
class="anchor"><code>register</code></a></h3>
<p>Register a new setting.</p>
<p>Type:</p>
<pre><code>(name : string, ?descr : string,
 ?on_change : ((&#39;a) -&gt; unit), string, &#39;a) -&gt; unit
where &#39;a is unit, bool, int, float, string or [string]</code></pre>
<p>Arguments:</p>
<ul>
<li><code>name</code> (of type <code>string</code>): Settings name</li>
<li><code>descr</code> (of type <code>string</code>, which defaults to
<code>""</code>): Settings description</li>
<li><code>on_change</code> (of type
<code>('a) -&gt; unit where 'a is unit, bool, int, float, string or [string]</code>,
which defaults to <code>&lt;fun&gt;</code>): Callback executed when the
setting is changed.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Setting
key</li>
<li><code>(unlabeled)</code> (of type
<code>anything that is unit, bool, int, float, string or [string]</code>):
Setting initial value</li>
</ul>
<h3 id="register_flow"><a href="#register_flow"
class="anchor"><code>register_flow</code></a></h3>
<p>Register a radio on Liquidsoap Flows.</p>
<p>Type:</p>
<pre><code>(?server : string, ?user : string, ?password : string,
 ?email : string, radio : string, website : string,
 description : string, genre : string,
 streams : [string * string], source(&#39;a)) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>server</code> (of type <code>string</code>, which defaults to
<code>""</code>)</li>
<li><code>user</code> (of type <code>string</code>, which defaults to
<code>"default"</code>)</li>
<li><code>password</code> (of type <code>string</code>, which defaults
to <code>"default"</code>)</li>
<li><code>email</code> (of type <code>string</code>, which defaults to
<code>""</code>)</li>
<li><code>radio</code> (of type <code>string</code>): Name of the
radio.</li>
<li><code>website</code> (of type <code>string</code>): URL of the
website of the radio.</li>
<li><code>description</code> (of type <code>string</code>): Description
of the radio.</li>
<li><code>genre</code> (of type <code>string</code>): Genre of the radio
(rock or rap or etc.).</li>
<li><code>streams</code> (of type <code>[string * string]</code>): List
of streams for the radio described by a pair of strings consisting of
the format of the stream and the url of the stream. The format should be
of the form “ogg/128k” consisting of the codec and the bitrate,
separated by “/”.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="request.create"><a href="#request.create"
class="anchor"><code>request.create</code></a></h3>
<p>Create a request. Creation may fail if there is no available RID,
which cannot be detected currently: in that case one will obtain a
request that will fail to be resolved.</p>
<p>Type:</p>
<pre><code>(?indicators : [string], ?persistent : bool, string) -&gt;
request(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>indicators</code> (of type <code>[string]</code>, which
defaults to <code>[]</code>)</li>
<li><code>persistent</code> (of type <code>bool</code>, which defaults
to <code>false</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="request.create.raw"><a href="#request.create.raw"
class="anchor"><code>request.create.raw</code></a></h3>
<p>Create a raw request, i.e. for files that should not be decoded for
streaming. Creation may fail if there is no available RID, which cannot
be detected currently: in that case one will obtain a request that will
fail to be resolved.</p>
<p>Type:</p>
<pre><code>(?indicators : [string], ?persistent : bool, string) -&gt;
request(audio=0, video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>indicators</code> (of type <code>[string]</code>, which
defaults to <code>[]</code>)</li>
<li><code>persistent</code> (of type <code>bool</code>, which defaults
to <code>false</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="request.destroy"><a href="#request.destroy"
class="anchor"><code>request.destroy</code></a></h3>
<p>Destroying a request causes any temporary associated file to be
deleted, and releases its RID. Persistent requests resist to destroying,
unless forced.</p>
<p>Type:</p>
<pre><code>(?force : bool, request(&#39;a)) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>force</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Destroy the request even if it is persistent.</li>
<li><code>(unlabeled)</code> (of type <code>request('a)</code>)</li>
</ul>
<h3 id="request.duration"><a href="#request.duration"
class="anchor"><code>request.duration</code></a></h3>
<p>Compute the duration in seconds of audio data contained in a request.
The computation may be expensive. Returns -1. if computation failed,
typically if the file was not recognized as valid audio.</p>
<p>Type:</p>
<pre><code>(string) -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="request.filename"><a href="#request.filename"
class="anchor"><code>request.filename</code></a></h3>
<p>Return a valid local filename if the request is ready, and the empty
string otherwise.</p>
<p>Type:</p>
<pre><code>(request(&#39;a)) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>request('a)</code>)</li>
</ul>
<h3 id="request.log"><a href="#request.log"
class="anchor"><code>request.log</code></a></h3>
<p>Get log data associated to a request.</p>
<p>Type:</p>
<pre><code>(request(&#39;a)) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>request('a)</code>)</li>
</ul>
<h3 id="request.metadata"><a href="#request.metadata"
class="anchor"><code>request.metadata</code></a></h3>
<p>Get the metadata associated to a request.</p>
<p>Type:</p>
<pre><code>(request(&#39;a)) -&gt; [string * string]</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>request('a)</code>)</li>
</ul>
<h3 id="request.ready"><a href="#request.ready"
class="anchor"><code>request.ready</code></a></h3>
<p>Check if a request is ready, i.e. is associated to a valid local
file. Unless the initial URI was such a file, a request has to be
resolved before being ready.</p>
<p>Type:</p>
<pre><code>(request(&#39;a)) -&gt; bool</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>request('a)</code>)</li>
</ul>
<h3 id="request.resolve"><a href="#request.resolve"
class="anchor"><code>request.resolve</code></a></h3>
<p>Resolve a request, i.e. attempt to get a valid local file. The
operation can take some time. Return true if the resolving was
successful, false otherwise (timeout or invalid URI).</p>
<p>Type:</p>
<pre><code>(?timeout : float, request(&#39;a)) -&gt; bool</code></pre>
<p>Arguments:</p>
<ul>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>30.0</code>): Limit in seconds to the duration of the
resolving.</li>
<li><code>(unlabeled)</code> (of type <code>request('a)</code>)</li>
</ul>
<h3 id="request.uri"><a href="#request.uri"
class="anchor"><code>request.uri</code></a></h3>
<p>Initial URI of a reuqest.</p>
<p>Type:</p>
<pre><code>(request(&#39;a)) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>request('a)</code>)</li>
</ul>
<h3 id="server.execute"><a href="#server.execute"
class="anchor"><code>server.execute</code></a></h3>
<p>Execute a liquidsoap server command.</p>
<p>Type:</p>
<pre><code>(string, ?string) -&gt; [string]</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>, which
defaults to <code>""</code>)</li>
</ul>
<h3 id="set"><a href="#set" class="anchor"><code>set</code></a></h3>
<p>Change some setting. Use <code>liquidsoap --conf-descr</code> and
<code>liquidsoap --conf-descr-key KEY</code> on the command-line to get
some information about available settings.</p>
<p>Type:</p>
<pre><code>(string, &#39;a) -&gt; unit
where &#39;a is unit, bool, int, float, string or [string]</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>anything that is unit, bool, int, float, string or [string]</code>)</li>
</ul>
<h3 id="source.fallible"><a href="#source.fallible"
class="anchor"><code>source.fallible</code></a></h3>
<p>Indicate if a source may fail, i.e. may not be ready to stream.</p>
<p>Type:</p>
<pre><code>(source(&#39;a)) -&gt; bool</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="source.id"><a href="#source.id"
class="anchor"><code>source.id</code></a></h3>
<p>Get one source’s identifier.</p>
<p>Type:</p>
<pre><code>(source(&#39;a)) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="source.init"><a href="#source.init"
class="anchor"><code>source.init</code></a></h3>
<p>Simultaneously initialize sources, return the sublist of sources that
failed to initialized.</p>
<p>Type:</p>
<pre><code>([source(audio=*, video=*, midi=*)]) -&gt;
[source(audio=*, video=*, midi=*)]</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>[source(audio=*, video=*, midi=*)]</code>)</li>
</ul>
<h3 id="source.is_ready"><a href="#source.is_ready"
class="anchor"><code>source.is_ready</code></a></h3>
<p>Indicate if a source is ready to stream, or currently streaming.</p>
<p>Type:</p>
<pre><code>(source(&#39;a)) -&gt; bool</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="source.remaining"><a href="#source.remaining"
class="anchor"><code>source.remaining</code></a></h3>
<p>Estimation of remaining time in the current track.</p>
<p>Type:</p>
<pre><code>(source(&#39;a)) -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="source.seek"><a href="#source.seek"
class="anchor"><code>source.seek</code></a></h3>
<p>Seek forward, in seconds. Returns the amount of time effectively
seeked.</p>
<p>Type:</p>
<pre><code>(source(&#39;a), float) -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
<li><code>(unlabeled)</code> (of type <code>float</code>)</li>
</ul>
<h3 id="source.shutdown"><a href="#source.shutdown"
class="anchor"><code>source.shutdown</code></a></h3>
<p>Desactivate a source.</p>
<p>Type:</p>
<pre><code>(source(&#39;a)) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="source.skip"><a href="#source.skip"
class="anchor"><code>source.skip</code></a></h3>
<p>Skip to the next track.</p>
<p>Type:</p>
<pre><code>(source(&#39;a)) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="source.time"><a href="#source.time"
class="anchor"><code>source.time</code></a></h3>
<p>Get a source’s time, based on its assigned clock</p>
<p>Type:</p>
<pre><code>(source(&#39;a)) -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="string_getter"><a href="#string_getter"
class="anchor"><code>string_getter</code></a></h3>
<p>Identity function over string getters. This is useful to make types
explicit.</p>
<p>Type:</p>
<pre><code>({string}) -&gt; {string}</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>{string}</code>)</li>
</ul>
<h3 id="to_bool_getter"><a href="#to_bool_getter"
class="anchor"><code>to_bool_getter</code></a></h3>
<p>Return a function from a bool getter</p>
<p>Type:</p>
<pre><code>({bool}) -&gt; () -&gt; bool</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>{bool}</code>)</li>
</ul>
<h3 id="to_float_getter"><a href="#to_float_getter"
class="anchor"><code>to_float_getter</code></a></h3>
<p>Return a function from a float getter</p>
<p>Type:</p>
<pre><code>({float}) -&gt; () -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>{float}</code>)</li>
</ul>
<h3 id="to_int_getter"><a href="#to_int_getter"
class="anchor"><code>to_int_getter</code></a></h3>
<p>Return a function from a int getter</p>
<p>Type:</p>
<pre><code>({int}) -&gt; () -&gt; int</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>{int}</code>)</li>
</ul>
<h3 id="to_string_getter"><a href="#to_string_getter"
class="anchor"><code>to_string_getter</code></a></h3>
<p>Return a function from a string getter</p>
<p>Type:</p>
<pre><code>({string}) -&gt; () -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>{string}</code>)</li>
</ul>
<h2 id="liquidsoap-1"><a href="#liquidsoap-1"
class="anchor">Liquidsoap</a></h2>
<h3 id="ref.make"><a href="#ref.make"
class="anchor"><code>ref.make</code></a></h3>
<p>Create a reference, i.e. a value that can be modified. This is an
alias to <code>ref</code>.</p>
<p>Type:</p>
<pre><code>(&#39;a) -&gt; ref(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>'a</code>)</li>
</ul>
<h2 id="list"><a href="#list" class="anchor">List</a></h2>
<h3 id="section-6"><a href="#section-6"
class="anchor"><code>_[_]</code></a></h3>
<p>l[k] returns the first v such that (k,v) is in the list l (or “” if
no such v exists).</p>
<p>Type:</p>
<pre><code>(string, [string * string]) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>[string * string]</code>)</li>
</ul>
<h3 id="list.add"><a href="#list.add"
class="anchor"><code>list.add</code></a></h3>
<p>Add an element at the top of a list.</p>
<p>Type:</p>
<pre><code>(&#39;a, [&#39;a]) -&gt; [&#39;a]</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>'a</code>)</li>
<li><code>(unlabeled)</code> (of type <code>['a]</code>)</li>
</ul>
<h3 id="list.append"><a href="#list.append"
class="anchor"><code>list.append</code></a></h3>
<p>Catenate two lists.</p>
<p>Type:</p>
<pre><code>([&#39;a], [&#39;a]) -&gt; [&#39;a]</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>['a]</code>)</li>
<li><code>(unlabeled)</code> (of type <code>['a]</code>)</li>
</ul>
<h3 id="list.assoc"><a href="#list.assoc"
class="anchor"><code>list.assoc</code></a></h3>
<p>Generalized l[k] with default value.</p>
<p>Type:</p>
<pre><code>(default : &#39;a, &#39;b, [&#39;b * &#39;a]) -&gt; &#39;a
where &#39;b is an orderable type</code></pre>
<p>Arguments:</p>
<ul>
<li><code>default</code> (of type <code>'a</code>): Default value if key
does not exist</li>
<li><code>(unlabeled)</code> (of type
<code>anything that is an orderable type</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>['b * 'a] where 'b is an orderable type</code>)</li>
</ul>
<h3 id="list.case"><a href="#list.case"
class="anchor"><code>list.case</code></a></h3>
<p>Define a function by case analysis, depending on whether a list is
empty or not.</p>
<p>Type:</p>
<pre><code>(&#39;a, ((&#39;b, [&#39;b]) -&gt; &#39;a), [&#39;b]) -&gt; &#39;a</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>'a</code>): Result when the
list is empty.</li>
<li><code>(unlabeled)</code> (of type <code>('b, ['b]) -&gt; 'a</code>):
Result when the list it non-empty.</li>
<li><code>(unlabeled)</code> (of type <code>['b]</code>): List to
perform case analysis on.</li>
</ul>
<h3 id="list.filter"><a href="#list.filter"
class="anchor"><code>list.filter</code></a></h3>
<p>Filter a list according to a filtering function.</p>
<p>Type:</p>
<pre><code>(((&#39;a) -&gt; bool), [&#39;a]) -&gt; [&#39;a]</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>('a) -&gt; bool</code>)</li>
<li><code>(unlabeled)</code> (of type <code>['a]</code>)</li>
</ul>
<h3 id="list.filter_assoc"><a href="#list.filter_assoc"
class="anchor"><code>list.filter_assoc</code></a></h3>
<p>list.filter_assoc(key,l) returns all the elements of the form (key,
value) from l.</p>
<p>Type:</p>
<pre><code>(&#39;a, [&#39;a * &#39;b]) -&gt; [&#39;a * &#39;b]
where &#39;a is an orderable type</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>anything that is an orderable type</code>): Key to look for</li>
<li><code>(unlabeled)</code> (of type
<code>['a * 'b] where 'a is an orderable type</code>): List of pairs
(key,value)</li>
</ul>
<h3 id="list.fold"><a href="#list.fold"
class="anchor"><code>list.fold</code></a></h3>
<p>Fold a function on every element of a list:
list.fold(f,x1,[e1,..,en]) is f(…f(f(x1,e1),e2)…,en).</p>
<p>Type:</p>
<pre><code>(((&#39;a, &#39;b) -&gt; &#39;a), &#39;a, [&#39;b]) -&gt; &#39;a</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>('a, 'b) -&gt; 'a</code>):
Function f for which f(x,e) which will be called on every element e with
the current value of x, returning the new value of x.</li>
<li><code>(unlabeled)</code> (of type <code>'a</code>): Initial value
x1, to be updated by successive calls of f(x,e).</li>
<li><code>(unlabeled)</code> (of type <code>['b]</code>)</li>
</ul>
<h3 id="list.hd"><a href="#list.hd"
class="anchor"><code>list.hd</code></a></h3>
<p>Return the head (first element) of a list, or ‘default’ if the list
is empty.</p>
<p>Type:</p>
<pre><code>(default : &#39;a, [&#39;a]) -&gt; &#39;a</code></pre>
<p>Arguments:</p>
<ul>
<li><code>default</code> (of type <code>'a</code>): Default value if key
does not exist</li>
<li><code>(unlabeled)</code> (of type <code>['a]</code>)</li>
</ul>
<h3 id="list.iter"><a href="#list.iter"
class="anchor"><code>list.iter</code></a></h3>
<p>Call a function on every element of a list.</p>
<p>Type:</p>
<pre><code>(((&#39;a) -&gt; unit), [&#39;a]) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>('a) -&gt; unit</code>)</li>
<li><code>(unlabeled)</code> (of type <code>['a]</code>)</li>
</ul>
<h3 id="list.length"><a href="#list.length"
class="anchor"><code>list.length</code></a></h3>
<p>Get the length of a list, i.e. its number of elements.</p>
<p>Type:</p>
<pre><code>([&#39;a]) -&gt; int</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>['a]</code>)</li>
</ul>
<h3 id="list.map"><a href="#list.map"
class="anchor"><code>list.map</code></a></h3>
<p>Map a function on every element of a list.</p>
<p>Type:</p>
<pre><code>(((&#39;a) -&gt; &#39;b), [&#39;a]) -&gt; [&#39;b]</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>('a) -&gt; 'b</code>)</li>
<li><code>(unlabeled)</code> (of type <code>['a]</code>)</li>
</ul>
<h3 id="list.mapi"><a href="#list.mapi"
class="anchor"><code>list.mapi</code></a></h3>
<p>Map a function on every element of a list, along with its index.</p>
<p>Type:</p>
<pre><code>(((int, &#39;a) -&gt; &#39;b), [&#39;a]) -&gt; [&#39;b]</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>(int, 'a) -&gt; 'b</code>)</li>
<li><code>(unlabeled)</code> (of type <code>['a]</code>)</li>
</ul>
<h3 id="list.mem"><a href="#list.mem"
class="anchor"><code>list.mem</code></a></h3>
<p>Check if an element belongs to a list.</p>
<p>Type:</p>
<pre><code>(&#39;a, [&#39;a]) -&gt; bool where &#39;a is an orderable type</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>anything that is an orderable type</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>['a] where 'a is an orderable type</code>)</li>
</ul>
<h3 id="list.mem_assoc"><a href="#list.mem_assoc"
class="anchor"><code>list.mem_assoc</code></a></h3>
<p>list.mem_assoc(key,l) returns true if l contains a pair
(key,value)</p>
<p>Type:</p>
<pre><code>(&#39;a, [&#39;a * &#39;b]) -&gt; bool where &#39;a is an orderable type</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>anything that is an orderable type</code>): Key to look for</li>
<li><code>(unlabeled)</code> (of type
<code>['a * 'b] where 'a is an orderable type</code>): List of pairs
(key,value)</li>
</ul>
<h3 id="list.nth"><a href="#list.nth"
class="anchor"><code>list.nth</code></a></h3>
<p>Get the n-th element of a list (the first element is at position 0),
or’default’ if element does not exist.</p>
<p>Type:</p>
<pre><code>(default : &#39;a, [&#39;a], int) -&gt; &#39;a</code></pre>
<p>Arguments:</p>
<ul>
<li><code>default</code> (of type <code>'a</code>): Default value if key
does not exist</li>
<li><code>(unlabeled)</code> (of type <code>['a]</code>)</li>
<li><code>(unlabeled)</code> (of type <code>int</code>)</li>
</ul>
<h3 id="list.randomize"><a href="#list.randomize"
class="anchor"><code>list.randomize</code></a></h3>
<p>Shuffle the content of a list.</p>
<p>Type:</p>
<pre><code>([&#39;a]) -&gt; [&#39;a]</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>['a]</code>)</li>
</ul>
<h3 id="list.remove"><a href="#list.remove"
class="anchor"><code>list.remove</code></a></h3>
<p>Remove a the first occurence of a value from a list.</p>
<p>Type:</p>
<pre><code>(&#39;a, [&#39;a]) -&gt; [&#39;a]</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>'a</code>)</li>
<li><code>(unlabeled)</code> (of type <code>['a]</code>)</li>
</ul>
<h3 id="list.remove_assoc"><a href="#list.remove_assoc"
class="anchor"><code>list.remove_assoc</code></a></h3>
<p>Remove the first pair from an associative list.</p>
<p>Type:</p>
<pre><code>(&#39;a, [&#39;a * &#39;c]) -&gt; [&#39;a * &#39;c]
where &#39;a is an orderable type</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>anything that is an orderable type</code>): Key of pair to be
removed</li>
<li><code>(unlabeled)</code> (of type
<code>['a * 'c] where 'a is an orderable type</code>): List of pairs
(key,value)</li>
</ul>
<h3 id="list.rev"><a href="#list.rev"
class="anchor"><code>list.rev</code></a></h3>
<p>Revert list order.</p>
<p>Type:</p>
<pre><code>([&#39;a]) -&gt; [&#39;a]</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>['a]</code>)</li>
</ul>
<h3 id="list.sort"><a href="#list.sort"
class="anchor"><code>list.sort</code></a></h3>
<p>Sort a list according to a comparison function.</p>
<p>Type:</p>
<pre><code>(((&#39;a, &#39;a) -&gt; int), [&#39;a]) -&gt; [&#39;a]</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>('a, 'a) -&gt; int</code>)</li>
<li><code>(unlabeled)</code> (of type <code>['a]</code>)</li>
</ul>
<h3 id="list.tl"><a href="#list.tl"
class="anchor"><code>list.tl</code></a></h3>
<p>Return the list without its first element.</p>
<p>Type:</p>
<pre><code>([&#39;a]) -&gt; [&#39;a]</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>['a]</code>)</li>
</ul>
<h2 id="math"><a href="#math" class="anchor">Math</a></h2>
<h3 id="section-7"><a href="#section-7"
class="anchor"><code>*</code></a></h3>
<p>Multiplication of numbers.</p>
<p>Type:</p>
<pre><code>(&#39;a, &#39;a) -&gt; &#39;a where &#39;a is a number type</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>anything that is a number type</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>anything that is a number type</code>)</li>
</ul>
<h3 id="section-8"><a href="#section-8"
class="anchor"><code>+</code></a></h3>
<p>Addition of numbers.</p>
<p>Type:</p>
<pre><code>(&#39;a, &#39;a) -&gt; &#39;a where &#39;a is a number type</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>anything that is a number type</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>anything that is a number type</code>)</li>
</ul>
<h3 id="section-9"><a href="#section-9"
class="anchor"><code>-</code></a></h3>
<p>Substraction of numbers.</p>
<p>Type:</p>
<pre><code>(&#39;a, &#39;a) -&gt; &#39;a where &#39;a is a number type</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>anything that is a number type</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>anything that is a number type</code>)</li>
</ul>
<h3 id="section-10"><a href="#section-10"
class="anchor"><code>/</code></a></h3>
<p>Division of numbers.</p>
<p>Type:</p>
<pre><code>(&#39;a, &#39;a) -&gt; &#39;a where &#39;a is a number type</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>anything that is a number type</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>anything that is a number type</code>)</li>
</ul>
<h3 id="abs"><a href="#abs" class="anchor"><code>abs</code></a></h3>
<p>Absolute value.</p>
<p>Type:</p>
<pre><code>(&#39;a) -&gt; &#39;a where &#39;a is a number type</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>anything that is a number type</code>)</li>
</ul>
<h3 id="acos"><a href="#acos" class="anchor"><code>acos</code></a></h3>
<p>Arc cosine. The argument must fall within the range [-1.0, 1.0].
Result is in radians and is between 0.0 and pi.</p>
<p>Type:</p>
<pre><code>(float) -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>float</code>)</li>
</ul>
<h3 id="asin"><a href="#asin" class="anchor"><code>asin</code></a></h3>
<p>Arc sine. The argument must fall within the range [-1.0, 1.0]. Result
is in radians and is between -pi/2 and pi/2.</p>
<p>Type:</p>
<pre><code>(float) -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>float</code>)</li>
</ul>
<h3 id="atan"><a href="#atan" class="anchor"><code>atan</code></a></h3>
<p>Arc tangent. Result is in radians and is between -pi/2 and pi/2.</p>
<p>Type:</p>
<pre><code>(float) -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>float</code>)</li>
</ul>
<h3 id="bool_of_float"><a href="#bool_of_float"
class="anchor"><code>bool_of_float</code></a></h3>
<p>Convert a float to a bool.</p>
<p>Type:</p>
<pre><code>(float) -&gt; bool</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>float</code>)</li>
</ul>
<h3 id="bool_of_int"><a href="#bool_of_int"
class="anchor"><code>bool_of_int</code></a></h3>
<p>Convert an int to a bool.</p>
<p>Type:</p>
<pre><code>(int) -&gt; bool</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>int</code>)</li>
</ul>
<h3 id="cos"><a href="#cos" class="anchor"><code>cos</code></a></h3>
<p>Cosine. Argument is in radians.</p>
<p>Type:</p>
<pre><code>(float) -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>float</code>)</li>
</ul>
<h3 id="cosh"><a href="#cosh" class="anchor"><code>cosh</code></a></h3>
<p>Hyperbolic cosine. Argument is in radians.</p>
<p>Type:</p>
<pre><code>(float) -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>float</code>)</li>
</ul>
<h3 id="db_of_lin"><a href="#db_of_lin"
class="anchor"><code>dB_of_lin</code></a></h3>
<p>Convert linear scale into decibels.</p>
<p>Type:</p>
<pre><code>(float) -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>float</code>)</li>
</ul>
<h3 id="exp"><a href="#exp" class="anchor"><code>exp</code></a></h3>
<p>Exponential.</p>
<p>Type:</p>
<pre><code>(float) -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>float</code>)</li>
</ul>
<h3 id="float_of_int"><a href="#float_of_int"
class="anchor"><code>float_of_int</code></a></h3>
<p>Convert an int to a float.</p>
<p>Type:</p>
<pre><code>(int) -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>int</code>)</li>
</ul>
<h3 id="int_of_float"><a href="#int_of_float"
class="anchor"><code>int_of_float</code></a></h3>
<p>Convert a float to a int.</p>
<p>Type:</p>
<pre><code>(float) -&gt; int</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>float</code>)</li>
</ul>
<h3 id="lin_of_db"><a href="#lin_of_db"
class="anchor"><code>lin_of_dB</code></a></h3>
<p>Convert decibels into linear scale.</p>
<p>Type:</p>
<pre><code>(float) -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>float</code>)</li>
</ul>
<h3 id="log_10"><a href="#log_10"
class="anchor"><code>log_10</code></a></h3>
<p>Base 10 logarithm.</p>
<p>Type:</p>
<pre><code>(float) -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>float</code>)</li>
</ul>
<h3 id="log_e"><a href="#log_e"
class="anchor"><code>log_e</code></a></h3>
<p>Natural logarithm.</p>
<p>Type:</p>
<pre><code>(float) -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>float</code>)</li>
</ul>
<h3 id="lsl"><a href="#lsl" class="anchor"><code>lsl</code></a></h3>
<p>Logical shift left.</p>
<p>Type:</p>
<pre><code>(int, int) -&gt; int</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>int</code>): Number to
shift.</li>
<li><code>(unlabeled)</code> (of type <code>int</code>): Number of bits
to shift.</li>
</ul>
<h3 id="lsr"><a href="#lsr" class="anchor"><code>lsr</code></a></h3>
<p>Logical shift right.</p>
<p>Type:</p>
<pre><code>(int, int) -&gt; int</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>int</code>): Number to
shift.</li>
<li><code>(unlabeled)</code> (of type <code>int</code>): Number of bits
to shift.</li>
</ul>
<h3 id="mkfade"><a href="#mkfade"
class="anchor"><code>mkfade</code></a></h3>
<p>Make a fade function based on a source’s clock.</p>
<p>Type:</p>
<pre><code>(?type : string, ?start : float, ?stop : float,
 ?duration : float, ?on_done : (() -&gt; unit), source(&#39;a)) -&gt;
() -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>type</code> (of type <code>string</code>, which defaults to
<code>"lin"</code>): Fade shape. One of: “sin”, “exp”, “log”, “lin”</li>
<li><code>start</code> (of type <code>float</code>, which defaults to
<code>0.0</code>): Start value.</li>
<li><code>stop</code> (of type <code>float</code>, which defaults to
<code>1.0</code>): Stop value.</li>
<li><code>duration</code> (of type <code>float</code>, which defaults to
<code>3.0</code>): Duration in seconds.</li>
<li><code>on_done</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Function to execute when the fade
is finished</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="mod"><a href="#mod" class="anchor"><code>mod</code></a></h3>
<p>Integer remainder. If y is not zero, x == (x / y) * y + x mod y, and
abs(x mod y) &lt;= abs(y)-1.</p>
<p>Type:</p>
<pre><code>(int, int) -&gt; int</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>int</code>)</li>
<li><code>(unlabeled)</code> (of type <code>int</code>)</li>
</ul>
<h3 id="pow"><a href="#pow" class="anchor"><code>pow</code></a></h3>
<p>Exponentiation of numbers.</p>
<p>Type:</p>
<pre><code>(&#39;a, &#39;a) -&gt; &#39;a where &#39;a is a number type</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>anything that is a number type</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>anything that is a number type</code>)</li>
</ul>
<h3 id="random.float"><a href="#random.float"
class="anchor"><code>random.float</code></a></h3>
<p>Generate a random value.</p>
<p>Type:</p>
<pre><code>(?min : float, ?max : float) -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>min</code> (of type <code>float</code>, which defaults to
<code>-1000000.0</code>)</li>
<li><code>max</code> (of type <code>float</code>, which defaults to
<code>1000000.0</code>)</li>
</ul>
<h3 id="random.int"><a href="#random.int"
class="anchor"><code>random.int</code></a></h3>
<p>Generate a random value.</p>
<p>Type:</p>
<pre><code>(?min : int, ?max : int) -&gt; int</code></pre>
<p>Arguments:</p>
<ul>
<li><code>min</code> (of type <code>int</code>, which defaults to
<code>-536870911</code>)</li>
<li><code>max</code> (of type <code>int</code>, which defaults to
<code>536870912</code>)</li>
</ul>
<h3 id="sin"><a href="#sin" class="anchor"><code>sin</code></a></h3>
<p>Sine. Argument is in radians.</p>
<p>Type:</p>
<pre><code>(float) -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>float</code>)</li>
</ul>
<h3 id="sinh"><a href="#sinh" class="anchor"><code>sinh</code></a></h3>
<p>Hyperbolic sine. Argument is in radians.</p>
<p>Type:</p>
<pre><code>(float) -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>float</code>)</li>
</ul>
<h3 id="sqrt"><a href="#sqrt" class="anchor"><code>sqrt</code></a></h3>
<p>Square root.</p>
<p>Type:</p>
<pre><code>(float) -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>float</code>)</li>
</ul>
<h3 id="tan"><a href="#tan" class="anchor"><code>tan</code></a></h3>
<p>Tangent. Argument is in radians.</p>
<p>Type:</p>
<pre><code>(float) -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>float</code>)</li>
</ul>
<h3 id="tanh"><a href="#tanh" class="anchor"><code>tanh</code></a></h3>
<p>Hyperbolic tangent. Argument is in radians.</p>
<p>Type:</p>
<pre><code>(float) -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>float</code>)</li>
</ul>
<h3 id="section-11"><a href="#section-11"
class="anchor"><code>~-</code></a></h3>
<p>Returns the opposite of its argument.</p>
<p>Type:</p>
<pre><code>(&#39;a) -&gt; &#39;a where &#39;a is a number type</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>anything that is a number type</code>)</li>
</ul>
<h2 id="other"><a href="#other" class="anchor">Other</a></h2>
<h2 id="output"><a href="#output" class="anchor">Output</a></h2>
<h3 id="output.external.ffmpeg"><a href="#output.external.ffmpeg"
class="anchor"><code>output.external.ffmpeg</code></a></h3>
<p>Output to ffmpeg.</p>
<p>Type:</p>
<pre><code>(?id : string, ?show_command : bool, ?flush : bool,
 ?fallible : bool, ?on_start : (() -&gt; unit),
 ?on_stop : (() -&gt; unit), ?reopen_delay : float,
 ?reopen_on_metadata : bool, ?reopen_when : (() -&gt; bool),
 ?start : bool, string, source(audio=2, video=1, midi=0)) -&gt;
active_source(audio=2, video=1, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>show_command</code> (of type <code>bool</code>, which defaults
to <code>false</code>)</li>
<li><code>flush</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Perform a flush after each write.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>reopen_delay</code> (of type <code>float</code>, which
defaults to <code>120.0</code>): Prevent re-opening within that delay,
in seconds.</li>
<li><code>reopen_on_metadata</code> (of type <code>bool</code>, which
defaults to <code>false</code>): Re-open on every new metadata
information.</li>
<li><code>reopen_when</code> (of type <code>() -&gt; bool</code>, which
defaults to <code>{false}</code>): When should the output be
re-opened.</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Automatically start outputting whenever possible. If
true, an infallible (normal) output will start outputting as soon as it
is created, and a fallible output will (re)start as soon as its source
becomes available for streaming.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio=2, video=1, midi=0)</code>)</li>
</ul>
<h3 id="output.file.hls.ffmpeg"><a href="#output.file.hls.ffmpeg"
class="anchor"><code>output.file.hls.ffmpeg</code></a></h3>
<p>Output a HLS playlist using ffmpeg</p>
<p>Type:</p>
<pre><code>(?id : string, ?flush : bool, ?fallible : bool,
 ?on_start : (() -&gt; unit), ?on_stop : (() -&gt; unit),
 ?reopen_delay : float, ?reopen_on_metadata : bool,
 ?reopen_when : (() -&gt; bool), ?start : bool,
 ?playlist : string, directory : string, source(audio=2,
 video=1, midi=0)) -&gt; active_source(audio=2, video=1,
midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>flush</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Perform a flush after each write.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>reopen_delay</code> (of type <code>float</code>, which
defaults to <code>120.0</code>): Prevent re-opening within that delay,
in seconds.</li>
<li><code>reopen_on_metadata</code> (of type <code>bool</code>, which
defaults to <code>false</code>): Re-open on every new metadata
information.</li>
<li><code>reopen_when</code> (of type <code>() -&gt; bool</code>, which
defaults to <code>{false}</code>): When should the output be
re-opened.</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Automatically start outputting whenever possible. If
true, an infallible (normal) output will start outputting as soon as it
is created, and a fallible output will (re)start as soon as its source
becomes available for streaming.</li>
<li><code>playlist</code> (of type <code>string</code>, which defaults
to <code>"stream.m3u8"</code>): Playlist name</li>
<li><code>directory</code> (of type <code>string</code>): Directory to
write to</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio=2, video=1, midi=0)</code>)</li>
</ul>
<h3 id="output.youtube.live.ffmpeg"><a
href="#output.youtube.live.ffmpeg"
class="anchor"><code>output.youtube.live.ffmpeg</code></a></h3>
<p>Stream to youtube.</p>
<p>Type:</p>
<pre><code>(?id : string, ?flush : bool, ?fallible : bool,
 ?on_start : (() -&gt; unit), ?on_stop : (() -&gt; unit),
 ?reopen_delay : float, ?reopen_on_metadata : bool,
 ?reopen_when : (() -&gt; bool), ?start : bool,
 ?url : string, ?bitrate : string, ?quality : string,
 key : string, source(audio=2, video=1, midi=0)) -&gt;
active_source(audio=2, video=1, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>flush</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Perform a flush after each write.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>reopen_delay</code> (of type <code>float</code>, which
defaults to <code>120.0</code>): Prevent re-opening within that delay,
in seconds.</li>
<li><code>reopen_on_metadata</code> (of type <code>bool</code>, which
defaults to <code>false</code>): Re-open on every new metadata
information.</li>
<li><code>reopen_when</code> (of type <code>() -&gt; bool</code>, which
defaults to <code>{false}</code>): When should the output be
re-opened.</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Automatically start outputting whenever possible. If
true, an infallible (normal) output will start outputting as soon as it
is created, and a fallible output will (re)start as soon as its source
becomes available for streaming.</li>
<li><code>url</code> (of type <code>string</code>, which defaults to
<code>"rtmp://a.rtmp.youtube.com/live2"</code>): URL to stream to</li>
<li><code>bitrate</code> (of type <code>string</code>, which defaults to
<code>"2500"</code>): Bitrate of the video (in kbps)</li>
<li><code>quality</code> (of type <code>string</code>, which defaults to
<code>"medium"</code>): Quality of the video (low / medium / high)</li>
<li><code>key</code> (of type <code>string</code>): Your secret youtube
key</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio=2, video=1, midi=0)</code>)</li>
</ul>
<h2 id="pair"><a href="#pair" class="anchor">Pair</a></h2>
<h3 id="fst"><a href="#fst" class="anchor"><code>fst</code></a></h3>
<p>Get the first component of a pair.</p>
<p>Type:</p>
<pre><code>((&#39;a * &#39;b)) -&gt; &#39;a</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>'a * 'b</code>)</li>
</ul>
<h3 id="snd"><a href="#snd" class="anchor"><code>snd</code></a></h3>
<p>Get the second component of a pair.</p>
<p>Type:</p>
<pre><code>((&#39;a * &#39;b)) -&gt; &#39;b</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>'a * 'b</code>)</li>
</ul>
<h2 id="source-conversions"><a href="#source-conversions"
class="anchor">Source / Conversions</a></h2>
<h3 id="audio_to_stereo"><a href="#audio_to_stereo"
class="anchor"><code>audio_to_stereo</code></a></h3>
<p>Convert any kind of audio source into a stereo source.</p>
<p>Type:</p>
<pre><code>(?id : string, source(audio=*+1, video=0, midi=0)) -&gt;
source(audio=2, video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio=*+1, video=0, midi=0)</code>)</li>
</ul>
<h3 id="drop_audio"><a href="#drop_audio"
class="anchor"><code>drop_audio</code></a></h3>
<p>Drop all audio channels of a stream.</p>
<p>Type:</p>
<pre><code>(?id : string, source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=0, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="drop_midi"><a href="#drop_midi"
class="anchor"><code>drop_midi</code></a></h3>
<p>Drop all midi channels of a stream.</p>
<p>Type:</p>
<pre><code>(?id : string, source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="drop_video"><a href="#drop_video"
class="anchor"><code>drop_video</code></a></h3>
<p>Drop all video channels of a stream.</p>
<p>Type:</p>
<pre><code>(?id : string, source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=0, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="id"><a href="#id" class="anchor"><code>id</code></a></h3>
<p>Does not do anything, simply forwards its input stream.</p>
<p>Type:</p>
<pre><code>(?id : string, source(&#39;a)) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="mean"><a href="#mean" class="anchor"><code>mean</code></a></h3>
<p>Produce mono audio by taking the mean of all audio channels.</p>
<p>Type:</p>
<pre><code>(?id : string, source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=1, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="mux_audio"><a href="#mux_audio"
class="anchor"><code>mux_audio</code></a></h3>
<p>Mux an audio stream into an audio-free stream.</p>
<p>Type:</p>
<pre><code>(?id : string, audio : source(audio=&#39;#a, video=0,
 midi=0), ?mode : string, source(audio=0, video=&#39;#b,
 midi=&#39;#c)) -&gt; source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>audio</code> (of type
<code>source(audio='#a, video=0, midi=0)</code>)</li>
<li><code>mode</code> (of type <code>string</code>, which defaults to
<code>"master"</code>): Track mode, specifying where the tracks are
taken from (none|master|auxiliary|both). Modes other than
<code>"none"</code> might induce a slight desynchronization between
sources.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio=0, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="mux_mono"><a href="#mux_mono"
class="anchor"><code>mux_mono</code></a></h3>
<p>Mux a mono audio stream into another stream.</p>
<p>Type:</p>
<pre><code>(?id : string, ?mode : string, mono : source(audio=1,
 video=0, midi=0), source(audio=&#39;#a, video=&#39;#b,
 midi=&#39;#c)) -&gt; source(audio=&#39;#a+1, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>mode</code> (of type <code>string</code>, which defaults to
<code>"master"</code>): Track mode, specifying where the tracks are
taken from (none|master|auxiliary|both). Modes other than
<code>"none"</code> might induce a slight desynchronization between
sources.</li>
<li><code>mono</code> (of type
<code>source(audio=1, video=0, midi=0)</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="mux_stereo"><a href="#mux_stereo"
class="anchor"><code>mux_stereo</code></a></h3>
<p>Mux a stereo audio stream into another stream.</p>
<p>Type:</p>
<pre><code>(?id : string, ?mode : string, stereo : source(audio=2,
 video=0, midi=0), source(audio=&#39;#a, video=&#39;#b,
 midi=&#39;#c)) -&gt; source(audio=&#39;#a+2, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>mode</code> (of type <code>string</code>, which defaults to
<code>"master"</code>): Track mode, specifying where the tracks are
taken from (none|master|auxiliary|both). Modes other than
<code>"none"</code> might induce a slight desynchronization between
sources.</li>
<li><code>stereo</code> (of type
<code>source(audio=2, video=0, midi=0)</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="mux_video"><a href="#mux_video"
class="anchor"><code>mux_video</code></a></h3>
<p>Add video channnels to a stream.</p>
<p>Type:</p>
<pre><code>(?id : string, ?mode : string, video : source(audio=0,
 video=&#39;#a, midi=0), source(audio=&#39;#b, video=0,
 midi=&#39;#c)) -&gt; source(audio=&#39;#b, video=&#39;#a, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>mode</code> (of type <code>string</code>, which defaults to
<code>"master"</code>): Track mode, specifying where the tracks are
taken from (none|master|auxiliary|both). Modes other than
<code>"none"</code> might induce a slight desynchronization between
sources.</li>
<li><code>video</code> (of type
<code>source(audio=0, video='#a, midi=0)</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#b, video=0, midi='#c)</code>)</li>
</ul>
<h3 id="stereo.left"><a href="#stereo.left"
class="anchor"><code>stereo.left</code></a></h3>
<p>Extract the left channel of a stereo source</p>
<p>Type:</p>
<pre><code>(source(audio=2, video=0, midi=0)) -&gt; source(audio=1,
video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>source(audio=2, video=0, midi=0)</code>): Source to extract
from</li>
</ul>
<h3 id="stereo.right"><a href="#stereo.right"
class="anchor"><code>stereo.right</code></a></h3>
<p>Extract the right channel of a stereo source</p>
<p>Type:</p>
<pre><code>(source(audio=2, video=0, midi=0)) -&gt; source(audio=1,
video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>source(audio=2, video=0, midi=0)</code>): Source to extract
from</li>
</ul>
<h3 id="swap"><a href="#swap" class="anchor"><code>swap</code></a></h3>
<p>Swap two channels of a stereo source.</p>
<p>Type:</p>
<pre><code>(?id : string, source(audio=2, video=0, midi=0)) -&gt;
source(audio=2, video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio=2, video=0, midi=0)</code>)</li>
</ul>
<h2 id="source-input"><a href="#source-input" class="anchor">Source /
Input</a></h2>
<h3 id="blank"><a href="#blank"
class="anchor"><code>blank</code></a></h3>
<p>Produce silence and blank images.</p>
<p>Type:</p>
<pre><code>(?id : string, ?duration : float) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>duration</code> (of type <code>float</code>, which defaults to
<code>0.0</code>): Duration of blank tracks in seconds, default means
forever.</li>
</ul>
<h3 id="empty"><a href="#empty"
class="anchor"><code>empty</code></a></h3>
<p>A source that does not produce anything. No silence, no track at
all.</p>
<p>Type:</p>
<pre><code>(?id : string) -&gt; source(audio=&#39;a, video=&#39;b, midi=&#39;c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
</ul>
<h3 id="fail"><a href="#fail" class="anchor"><code>fail</code></a></h3>
<p>Creates a source that fails to produce anything.</p>
<p>Type:</p>
<pre><code>(?id : string) -&gt; source(&#39;b)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>)</li>
</ul>
<h3 id="gstreamer.single.audio"><a href="#gstreamer.single.audio"
class="anchor"><code>gstreamer.single.audio</code></a></h3>
<p>Play a single audio file using GStreamer.</p>
<p>Type:</p>
<pre><code>(?id : string, ?on_error : ((&#39;a) -&gt; float), {string}) -&gt;
source(audio=&#39;#c+1, video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>on_error</code> (of type <code>('a) -&gt; float</code>, which
defaults to <code>fun (_) -&gt; 3.</code>): Callback executed when an
error happens.</li>
<li><code>(unlabeled)</code> (of type <code>{string}</code>): URI of the
file to be played.</li>
</ul>
<h3 id="in"><a href="#in" class="anchor"><code>in</code></a></h3>
<p>Create a source from the first available input driver in pulseaudio,
portaudio, oss, alsa, blank.</p>
<p>Type:</p>
<pre><code>(?id : string, ?start : bool, ?on_start : (() -&gt; unit),
 ?on_stop : (() -&gt; unit), ?fallible : bool) -&gt;
active_source(audio=&#39;#a+1, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>)</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>)</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>)</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>)</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>)</li>
</ul>
<h3 id="input.alsa"><a href="#input.alsa"
class="anchor"><code>input.alsa</code></a></h3>
<p>Stream from an ALSA input device.</p>
<p>Type:</p>
<pre><code>(?id : string, ?bufferize : bool, ?clock_safe : bool,
 ?device : string, ?fallible : bool,
 ?on_start : (() -&gt; unit), ?on_stop : (() -&gt; unit),
 ?start : bool) -&gt; active_source(audio=&#39;#a+1, video=0,
midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>bufferize</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Bufferize input</li>
<li><code>clock_safe</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Force the use of the dedicated ALSA clock</li>
<li><code>device</code> (of type <code>string</code>, which defaults to
<code>"default"</code>): Alsa device to use</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the input to stop. When false, the source
will be infallible but the stop command won’t have any effect.</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when input
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when input
stops.</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Start input as soon as it is created. Disabling it
is only taken into account for a fallible input.</li>
</ul>
<h3 id="input.external.avi"><a href="#input.external.avi"
class="anchor"><code>input.external.avi</code></a></h3>
<p>Stream data from an external application.</p>
<p>Type:</p>
<pre><code>(?id : string, ?buffer : float, ?max : float,
 ?restart : bool, ?restart_on_error : bool, string) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>buffer</code> (of type <code>float</code>, which defaults to
<code>1.0</code>): Duration of the pre-buffered data.</li>
<li><code>max</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Maximum duration of the buffered data.</li>
<li><code>restart</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Restart process when exited.</li>
<li><code>restart_on_error</code> (of type <code>bool</code>, which
defaults to <code>false</code>): Restart process when exited with
error.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Command to
execute.</li>
</ul>
<p>This function is experimental.</p>
<h3 id="input.external.rawaudio"><a href="#input.external.rawaudio"
class="anchor"><code>input.external.rawaudio</code></a></h3>
<p>Stream raw PCM data from an external application.</p>
<p>Type:</p>
<pre><code>(?id : string, ?buffer : float, ?channels : int,
 ?max : float, ?restart : bool, ?restart_on_error : bool,
 ?samplerate : int, string) -&gt; source(audio=&#39;#a+1,
video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>buffer</code> (of type <code>float</code>, which defaults to
<code>2.0</code>): Duration of the pre-buffered data.</li>
<li><code>channels</code> (of type <code>int</code>, which defaults to
<code>2</code>): Number of channels.</li>
<li><code>max</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Maximum duration of the buffered data.</li>
<li><code>restart</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Restart process when exited.</li>
<li><code>restart_on_error</code> (of type <code>bool</code>, which
defaults to <code>false</code>): Restart process when exited with
error.</li>
<li><code>samplerate</code> (of type <code>int</code>, which defaults to
<code>44100</code>): Samplerate.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Command to
execute.</li>
</ul>
<h3 id="input.external.rawvideo"><a href="#input.external.rawvideo"
class="anchor"><code>input.external.rawvideo</code></a></h3>
<p>Stream data from an external application.</p>
<p>Type:</p>
<pre><code>(?id : string, ?buffer : float, ?max : float,
 ?restart : bool, ?restart_on_error : bool, string) -&gt;
source(audio=0, video=1, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>buffer</code> (of type <code>float</code>, which defaults to
<code>1.0</code>): Duration of the pre-buffered data.</li>
<li><code>max</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Maximum duration of the buffered data.</li>
<li><code>restart</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Restart process when exited.</li>
<li><code>restart_on_error</code> (of type <code>bool</code>, which
defaults to <code>false</code>): Restart process when exited with
error.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Command to
execute.</li>
</ul>
<p>This function is experimental.</p>
<h3 id="input.external.wav"><a href="#input.external.wav"
class="anchor"><code>input.external.wav</code></a></h3>
<p>Stream WAV data from an external application.</p>
<p>Type:</p>
<pre><code>(?id : string, ?buffer : float, ?max : float,
 ?restart : bool, ?restart_on_error : bool, string) -&gt;
source(audio=&#39;#a+1, video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>buffer</code> (of type <code>float</code>, which defaults to
<code>2.0</code>): Duration of the pre-buffered data.</li>
<li><code>max</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Maximum duration of the buffered data.</li>
<li><code>restart</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Restart process when exited.</li>
<li><code>restart_on_error</code> (of type <code>bool</code>, which
defaults to <code>false</code>): Restart process when exited with
error.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Command to
execute.</li>
</ul>
<h3 id="input.gstreamer.audio"><a href="#input.gstreamer.audio"
class="anchor"><code>input.gstreamer.audio</code></a></h3>
<p>Stream audio from a GStreamer pipeline.</p>
<p>Type:</p>
<pre><code>(?id : string, ?max : float,
 ?on_error : ((string) -&gt; float), ?pipeline : {string},
 ?restart : bool) -&gt; source(audio=&#39;#b+1, video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>max</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Maximum duration of the buffered data.</li>
<li><code>on_error</code> (of type <code>(string) -&gt; float</code>,
which defaults to <code>fun (_) -&gt; 3.</code>): Callback executed when
an error happens. The callback receives a string representation of the
error that occured and returns a float. If returned value is positive,
connection will be tried again after this amount of time (in
seconds).</li>
<li><code>pipeline</code> (of type <code>{string}</code>, which defaults
to <code>"audiotestsrc"</code>): GStreamer pipeline to input from.</li>
<li><code>restart</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Restart input on end of stream event.</li>
</ul>
<h3 id="input.gstreamer.audio_video"><a
href="#input.gstreamer.audio_video"
class="anchor"><code>input.gstreamer.audio_video</code></a></h3>
<p>Stream audio+video from a GStreamer pipeline.</p>
<p>Type:</p>
<pre><code>(?id : string, ?audio_pipeline : {string}, ?max : float,
 ?on_error : ((string) -&gt; float), ?pipeline : {string},
 ?restart : bool, ?video_pipeline : {string}) -&gt;
source(audio=2, video=1, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>audio_pipeline</code> (of type <code>{string}</code>, which
defaults to <code>"audiotestsrc"</code>): Audio pipeline to input
from.</li>
<li><code>max</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Maximum duration of the buffered data.</li>
<li><code>on_error</code> (of type <code>(string) -&gt; float</code>,
which defaults to <code>fun (_) -&gt; 3.</code>): Callback executed when
an error happens. The callback receives a string representation of the
error that occured and returns a float. If returned value is positive,
connection will be tried again after this amount of time (in
seconds).</li>
<li><code>pipeline</code> (of type <code>{string}</code>, which defaults
to <code>""</code>): Main GStreamer pipeline.</li>
<li><code>restart</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Restart input on end of stream event.</li>
<li><code>video_pipeline</code> (of type <code>{string}</code>, which
defaults to <code>"videotestsrc"</code>): Video pipeline to input
from.</li>
</ul>
<h3 id="input.gstreamer.video"><a href="#input.gstreamer.video"
class="anchor"><code>input.gstreamer.video</code></a></h3>
<p>Stream video from a GStreamer pipeline.</p>
<p>Type:</p>
<pre><code>(?id : string, ?max : float,
 ?on_error : ((string) -&gt; float), ?pipeline : {string},
 ?restart : bool) -&gt; source(audio=0, video=1, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>max</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Maximum duration of the buffered data.</li>
<li><code>on_error</code> (of type <code>(string) -&gt; float</code>,
which defaults to <code>fun (_) -&gt; 3.</code>): Callback executed when
an error happens. The callback receives a string representation of the
error that occured and returns a float. If returned value is positive,
connection will be tried again after this amount of time (in
seconds).</li>
<li><code>pipeline</code> (of type <code>{string}</code>, which defaults
to <code>"videotestsrc"</code>): GStreamer pipeline to input from.</li>
<li><code>restart</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Restart input on end of stream event.</li>
</ul>
<h3 id="input.harbor"><a href="#input.harbor"
class="anchor"><code>input.harbor</code></a></h3>
<p>Create a source that receives a http/icecast stream and forwards it
as a stream.</p>
<p>Type:</p>
<pre><code>(?id : string, ?auth : ((string, string) -&gt; bool),
 ?buffer : float, ?debug : bool, ?dumpfile : string,
 ?icy : bool, ?icy_metadata_charset : string,
 ?logfile : string, ?max : float,
 ?metadata_charset : string,
 ?on_connect : (([string * string]) -&gt; unit),
 ?on_disconnect : (() -&gt; unit), ?password : string,
 ?port : int, ?replay_metadata : bool, ?timeout : float,
 ?user : string, string) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>auth</code> (of type <code>(string, string) -&gt; bool</code>,
which defaults to <code>fun (_,_) -&gt; false</code>): Authentication
function. <code>f(login,password)</code> returns <code>true</code> if
the user should be granted access for this login. Override any other
method if used.</li>
<li><code>buffer</code> (of type <code>float</code>, which defaults to
<code>2.0</code>): Duration of the pre-buffered data.</li>
<li><code>debug</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Run in debugging mode by not catching some
exceptions.</li>
<li><code>dumpfile</code> (of type <code>string</code>, which defaults
to <code>""</code>): Dump stream to file, for debugging purpose.
Disabled if empty.</li>
<li><code>icy</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Enable ICY (shoutcast) protocol.</li>
<li><code>icy_metadata_charset</code> (of type <code>string</code>,
which defaults to <code>""</code>): ICY (shoutcast) metadata charset.
Guessed if empty. Default for shoutcast is ISO-8859-1. Set to that value
if all your clients send metadata using this charset and automatic
detection is not working for you.</li>
<li><code>logfile</code> (of type <code>string</code>, which defaults to
<code>""</code>): Log buffer status to file, for debugging purpose.
Disabled if empty.</li>
<li><code>max</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Maximum duration of the buffered data.</li>
<li><code>metadata_charset</code> (of type <code>string</code>, which
defaults to <code>""</code>): Metadata charset for non-ICY (shoutcast)
source protocols. Guessed if empty.</li>
<li><code>on_connect</code> (of type
<code>([string * string]) -&gt; unit</code>, which defaults to
<code>&lt;fun&gt;</code>): Function to execute when a source is
connected. Its receives the list of headers, of the form:
(<label>,<value>). All labels are lowercase.</li>
<li><code>on_disconnect</code> (of type <code>() -&gt; unit</code>,
which defaults to <code>&lt;fun&gt;</code>): Functions to excecute when
a source is disconnected</li>
<li><code>password</code> (of type <code>string</code>, which defaults
to <code>"hackme"</code>): Source password.</li>
<li><code>port</code> (of type <code>int</code>, which defaults to
<code>8005</code>): Port used to connect to the source.</li>
<li><code>replay_metadata</code> (of type <code>bool</code>, which
defaults to <code>false</code>): Replay last known metadata when
switching back to this source. This helps when source has dropped due to
temporary connection issues.</li>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>30.0</code>): Timeout for source connectionn.</li>
<li><code>user</code> (of type <code>string</code>, which defaults to
<code>"source"</code>): Source user.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Mountpoint
to look for.</li>
</ul>
<h3 id="input.harbor.ssl"><a href="#input.harbor.ssl"
class="anchor"><code>input.harbor.ssl</code></a></h3>
<p>Retrieves the given https stream from the harbor.</p>
<p>Type:</p>
<pre><code>(?id : string, ?auth : ((string, string) -&gt; bool),
 ?buffer : float, ?debug : bool, ?dumpfile : string,
 ?icy : bool, ?icy_metadata_charset : string,
 ?logfile : string, ?max : float,
 ?metadata_charset : string,
 ?on_connect : (([string * string]) -&gt; unit),
 ?on_disconnect : (() -&gt; unit), ?password : string,
 ?port : int, ?replay_metadata : bool, ?timeout : float,
 ?user : string, string) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>auth</code> (of type <code>(string, string) -&gt; bool</code>,
which defaults to <code>fun (_,_) -&gt; false</code>): Authentication
function. <code>f(login,password)</code> returns <code>true</code> if
the user should be granted access for this login. Override any other
method if used.</li>
<li><code>buffer</code> (of type <code>float</code>, which defaults to
<code>2.0</code>): Duration of the pre-buffered data.</li>
<li><code>debug</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Run in debugging mode by not catching some
exceptions.</li>
<li><code>dumpfile</code> (of type <code>string</code>, which defaults
to <code>""</code>): Dump stream to file, for debugging purpose.
Disabled if empty.</li>
<li><code>icy</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Enable ICY (shoutcast) protocol.</li>
<li><code>icy_metadata_charset</code> (of type <code>string</code>,
which defaults to <code>""</code>): ICY (shoutcast) metadata charset.
Guessed if empty. Default for shoutcast is ISO-8859-1. Set to that value
if all your clients send metadata using this charset and automatic
detection is not working for you.</li>
<li><code>logfile</code> (of type <code>string</code>, which defaults to
<code>""</code>): Log buffer status to file, for debugging purpose.
Disabled if empty.</li>
<li><code>max</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Maximum duration of the buffered data.</li>
<li><code>metadata_charset</code> (of type <code>string</code>, which
defaults to <code>""</code>): Metadata charset for non-ICY (shoutcast)
source protocols. Guessed if empty.</li>
<li><code>on_connect</code> (of type
<code>([string * string]) -&gt; unit</code>, which defaults to
<code>&lt;fun&gt;</code>): Function to execute when a source is
connected. Its receives the list of headers, of the form:
(<label>,<value>). All labels are lowercase.</li>
<li><code>on_disconnect</code> (of type <code>() -&gt; unit</code>,
which defaults to <code>&lt;fun&gt;</code>): Functions to excecute when
a source is disconnected</li>
<li><code>password</code> (of type <code>string</code>, which defaults
to <code>"hackme"</code>): Source password.</li>
<li><code>port</code> (of type <code>int</code>, which defaults to
<code>8005</code>): Port used to connect to the source.</li>
<li><code>replay_metadata</code> (of type <code>bool</code>, which
defaults to <code>false</code>): Replay last known metadata when
switching back to this source. This helps when source has dropped due to
temporary connection issues.</li>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>30.0</code>): Timeout for source connectionn.</li>
<li><code>user</code> (of type <code>string</code>, which defaults to
<code>"source"</code>): Source user.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Mountpoint
to look for.</li>
</ul>
<h3 id="input.hls"><a href="#input.hls"
class="anchor"><code>input.hls</code></a></h3>
<p>Play an HLS stream.</p>
<p>Type:</p>
<pre><code>(?id : string, ?reload : float, string) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>reload</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): How often (in seconds) the playlist should be
reloaded.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Playlist
URI</li>
</ul>
<p>This function is experimental.</p>
<h3 id="input.http"><a href="#input.http"
class="anchor"><code>input.http</code></a></h3>
<p>Create a source that fetches a http stream.</p>
<p>Type:</p>
<pre><code>(?id : string, ?autostart : bool, ?bind_address : string,
 ?buffer : float, ?debug : bool, ?force_mime : string,
 ?logfile : string, ?max : float,
 ?new_track_on_metadata : bool,
 ?on_connect : (([string * string]) -&gt; unit),
 ?on_disconnect : (() -&gt; unit), ?playlist_mode : string,
 ?poll_delay : float, ?timeout : float,
 ?user_agent : string, string) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>autostart</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Initially start relaying or not.</li>
<li><code>bind_address</code> (of type <code>string</code>, which
defaults to <code>""</code>): Address to bind on the local machine. This
option can be useful if your machine is bound to multiple IPs. Empty
means no bind address.</li>
<li><code>buffer</code> (of type <code>float</code>, which defaults to
<code>2.0</code>): Duration of the pre-buffered data.</li>
<li><code>debug</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Run in debugging mode, not catching some
exceptions.</li>
<li><code>force_mime</code> (of type <code>string</code>, which defaults
to <code>""</code>): Force mime data type. Not used if empty.</li>
<li><code>logfile</code> (of type <code>string</code>, which defaults to
<code>""</code>): Log buffer status to file, for debugging purpose.
Disabled if empty.</li>
<li><code>max</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Maximum duration of the buffered data.</li>
<li><code>new_track_on_metadata</code> (of type <code>bool</code>, which
defaults to <code>true</code>): Treat new metadata as new track.</li>
<li><code>on_connect</code> (of type
<code>([string * string]) -&gt; unit</code>, which defaults to
<code>&lt;fun&gt;</code>): Function to execute when a source is
connected. Its receives the list of headers, of the form:
(<label>,<value>). All labels are lowercase.</li>
<li><code>on_disconnect</code> (of type <code>() -&gt; unit</code>,
which defaults to <code>&lt;fun&gt;</code>): Function to excecute when a
source is disconnected</li>
<li><code>playlist_mode</code> (of type <code>string</code>, which
defaults to <code>"normal"</code>): Valid modes are “normal”, “random”,
“randomize” and “first”. The first ones have the same meaning as for the
mode parameter of the playlist operator. The last one discards all
entries but the first one.</li>
<li><code>poll_delay</code> (of type <code>float</code>, which defaults
to <code>2.0</code>): Polling delay when trying to connect to the
stream.</li>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>30.0</code>): Timeout for source connectionn.</li>
<li><code>user_agent</code> (of type <code>string</code>, which defaults
to <code>"Liquidsoap/1.4.4 (Unix; OCaml 4.10.0)"</code>): User
agent.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): URL of an
http stream (default port is 80).</li>
</ul>
<h3 id="input.https"><a href="#input.https"
class="anchor"><code>input.https</code></a></h3>
<p>Create a source that fetches a https stream.</p>
<p>Type:</p>
<pre><code>(?id : string, ?autostart : bool, ?bind_address : string,
 ?buffer : float, ?debug : bool, ?force_mime : string,
 ?logfile : string, ?max : float,
 ?new_track_on_metadata : bool,
 ?on_connect : (([string * string]) -&gt; unit),
 ?on_disconnect : (() -&gt; unit), ?playlist_mode : string,
 ?poll_delay : float, ?timeout : float,
 ?user_agent : string, string) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>autostart</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Initially start relaying or not.</li>
<li><code>bind_address</code> (of type <code>string</code>, which
defaults to <code>""</code>): Address to bind on the local machine. This
option can be useful if your machine is bound to multiple IPs. Empty
means no bind address.</li>
<li><code>buffer</code> (of type <code>float</code>, which defaults to
<code>2.0</code>): Duration of the pre-buffered data.</li>
<li><code>debug</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Run in debugging mode, not catching some
exceptions.</li>
<li><code>force_mime</code> (of type <code>string</code>, which defaults
to <code>""</code>): Force mime data type. Not used if empty.</li>
<li><code>logfile</code> (of type <code>string</code>, which defaults to
<code>""</code>): Log buffer status to file, for debugging purpose.
Disabled if empty.</li>
<li><code>max</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Maximum duration of the buffered data.</li>
<li><code>new_track_on_metadata</code> (of type <code>bool</code>, which
defaults to <code>true</code>): Treat new metadata as new track.</li>
<li><code>on_connect</code> (of type
<code>([string * string]) -&gt; unit</code>, which defaults to
<code>&lt;fun&gt;</code>): Function to execute when a source is
connected. Its receives the list of headers, of the form:
(<label>,<value>). All labels are lowercase.</li>
<li><code>on_disconnect</code> (of type <code>() -&gt; unit</code>,
which defaults to <code>&lt;fun&gt;</code>): Function to excecute when a
source is disconnected</li>
<li><code>playlist_mode</code> (of type <code>string</code>, which
defaults to <code>"normal"</code>): Valid modes are “normal”, “random”,
“randomize” and “first”. The first ones have the same meaning as for the
mode parameter of the playlist operator. The last one discards all
entries but the first one.</li>
<li><code>poll_delay</code> (of type <code>float</code>, which defaults
to <code>2.0</code>): Polling delay when trying to connect to the
stream.</li>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>30.0</code>): Timeout for source connectionn.</li>
<li><code>user_agent</code> (of type <code>string</code>, which defaults
to <code>"Liquidsoap/1.4.4 (Unix; OCaml 4.10.0)"</code>): User
agent.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): URL of an
https stream (default port is 443).</li>
</ul>
<h3 id="input.jack"><a href="#input.jack"
class="anchor"><code>input.jack</code></a></h3>
<p>Get stream from jack.</p>
<p>Type:</p>
<pre><code>(?id : string, ?buffer_size : int, ?clock_safe : bool,
 ?server : string) -&gt; source(audio=&#39;#a+1, video=0,
midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>buffer_size</code> (of type <code>int</code>, which defaults
to <code>2</code>): Set buffer size, in frames. Must be &gt;= 1.</li>
<li><code>clock_safe</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Force the use of the dedicated bjack clock.</li>
<li><code>server</code> (of type <code>string</code>, which defaults to
<code>""</code>): Jack server to connect to.</li>
</ul>
<h3 id="input.mplayer"><a href="#input.mplayer"
class="anchor"><code>input.mplayer</code></a></h3>
<p>Stream data from mplayer</p>
<p>Type:</p>
<pre><code>(?id : string, ?restart : bool, ?restart_on_error : bool,
 ?buffer : float, ?max : float, string) -&gt;
source(audio=&#39;#a+1, video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>"input.mplayer"</code>)</li>
<li><code>restart</code> (of type <code>bool</code>, which defaults to
<code>true</code>): restart on exit.</li>
<li><code>restart_on_error</code> (of type <code>bool</code>, which
defaults to <code>false</code>): restart on exit with error.</li>
<li><code>buffer</code> (of type <code>float</code>, which defaults to
<code>0.2</code>): Duration of the pre-buffered data.</li>
<li><code>max</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Maximum duration of the buffered data.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): data
URI.</li>
</ul>
<h3 id="input.oss"><a href="#input.oss"
class="anchor"><code>input.oss</code></a></h3>
<p>Stream from an OSS input device.</p>
<p>Type:</p>
<pre><code>(?id : string, ?clock_safe : bool, ?device : string,
 ?fallible : bool, ?on_start : (() -&gt; unit),
 ?on_stop : (() -&gt; unit), ?start : bool) -&gt;
active_source(audio=&#39;#a+1, video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>clock_safe</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Force the use of the dedicated OSS clock.</li>
<li><code>device</code> (of type <code>string</code>, which defaults to
<code>"/dev/dsp"</code>): OSS device to use.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the input to stop. When false, the source
will be infallible but the stop command won’t have any effect.</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when input
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when input
stops.</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Start input as soon as it is created. Disabling it
is only taken into account for a fallible input.</li>
</ul>
<h3 id="input.portaudio"><a href="#input.portaudio"
class="anchor"><code>input.portaudio</code></a></h3>
<p>Stream from a portaudio input device.</p>
<p>Type:</p>
<pre><code>(?id : string, ?buflen : int, ?clock_safe : bool,
 ?fallible : bool, ?on_start : (() -&gt; unit),
 ?on_stop : (() -&gt; unit), ?start : bool) -&gt;
source(audio=&#39;#a+1, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>buflen</code> (of type <code>int</code>, which defaults to
<code>256</code>): Length of a buffer in samples.</li>
<li><code>clock_safe</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Force the use of the dedicated Portaudio
clock.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the input to stop. When false, the source
will be infallible but the stop command won’t have any effect.</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when input
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when input
stops.</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Start input as soon as it is created. Disabling it
is only taken into account for a fallible input.</li>
</ul>
<h3 id="input.pulseaudio"><a href="#input.pulseaudio"
class="anchor"><code>input.pulseaudio</code></a></h3>
<p>Stream from a portaudio input device.</p>
<p>Type:</p>
<pre><code>(?id : string, ?client : string, ?clock_safe : bool,
 ?device : string, ?fallible : bool,
 ?on_start : (() -&gt; unit), ?on_stop : (() -&gt; unit),
 ?start : bool) -&gt; active_source(audio=&#39;#a+1, video=&#39;#b,
midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>client</code> (of type <code>string</code>, which defaults to
<code>"liquidsoap"</code>)</li>
<li><code>clock_safe</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Force the use of the dedicated Pulseaudio
clock.</li>
<li><code>device</code> (of type <code>string</code>, which defaults to
<code>""</code>): Device to use. Uses default if set to ““.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the input to stop. When false, the source
will be infallible but the stop command won’t have any effect.</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when input
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when input
stops.</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Start input as soon as it is created. Disabling it
is only taken into account for a fallible input.</li>
</ul>
<h3 id="input.srt"><a href="#input.srt"
class="anchor"><code>input.srt</code></a></h3>
<p>Start a SRT agent in listener mode to receive and decode a
stream.</p>
<p>Type:</p>
<pre><code>(?id : string, ?bind_address : string,
 ?clock_safe : bool, ?content_type : string,
 ?max : float, ?messageapi : bool,
 ?on_connect : ((unit) -&gt; unit),
 ?on_disconnect : (() -&gt; unit), ?payload_size : int,
 ?port : int) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>bind_address</code> (of type <code>string</code>, which
defaults to <code>"0.0.0.0"</code>): Address to bind on the local
machine.</li>
<li><code>clock_safe</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Force the use of a decicated clock.</li>
<li><code>content_type</code> (of type <code>string</code>, which
defaults to <code>"application/ffmpeg"</code>): Content-Type (mime type)
used to find a decoder for the input stream.</li>
<li><code>max</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Maximum duration of the buffered data.</li>
<li><code>messageapi</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Use message api</li>
<li><code>on_connect</code> (of type <code>(unit) -&gt; unit</code>,
which defaults to <code>&lt;fun&gt;</code>): Function to execute when a
source is connected.</li>
<li><code>on_disconnect</code> (of type <code>() -&gt; unit</code>,
which defaults to <code>&lt;fun&gt;</code>): Function to excecute when a
stream is disconnected</li>
<li><code>payload_size</code> (of type <code>int</code>, which defaults
to <code>1316</code>): Payload size.</li>
<li><code>port</code> (of type <code>int</code>, which defaults to
<code>8000</code>): Port to bind on the local machine. The term
<code>port</code> as used in SRT is occasionally identical to the term
<code>UDP port</code>. However SRT offers more flexibility than UDP
because it manages ports as its own resources. For example, one port may
be shared between various services.</li>
</ul>
<h3 id="input.udp"><a href="#input.udp"
class="anchor"><code>input.udp</code></a></h3>
<p>Input encoded data from UDP, without any control whatsoever.</p>
<p>Type:</p>
<pre><code>(?id : string, ?buffer : float, host : string,
 port : int, string) -&gt; active_source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>buffer</code> (of type <code>float</code>, which defaults to
<code>1.0</code>): Duration of buffered data before starting
playout.</li>
<li><code>host</code> (of type <code>string</code>)</li>
<li><code>port</code> (of type <code>int</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Mime
type.</li>
</ul>
<p>This function is experimental.</p>
<h3 id="input.v4l2"><a href="#input.v4l2"
class="anchor"><code>input.v4l2</code></a></h3>
<p>Stream from a video4linux 2 input device, such as a webcam.</p>
<p>Type:</p>
<pre><code>(?id : string, ?device : string,
 ?on_error : ((string) -&gt; float)) -&gt; source(audio=0,
video=1, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>device</code> (of type <code>string</code>, which defaults to
<code>"/dev/video0"</code>): V4L2 device to use.</li>
<li><code>on_error</code> (of type <code>(string) -&gt; float</code>,
which defaults to <code>fun (_) -&gt; 3.</code>): Callback executed when
an error happens.</li>
</ul>
<h3 id="input.v4l2_with_audio"><a href="#input.v4l2_with_audio"
class="anchor"><code>input.v4l2_with_audio</code></a></h3>
<p>Stream from a video4linux 2 input device, such as a webcam.</p>
<p>Type:</p>
<pre><code>(?id : string, ?device : string,
 ?on_error : ((string) -&gt; float)) -&gt; source(audio=2,
video=1, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>device</code> (of type <code>string</code>, which defaults to
<code>"/dev/video0"</code>): V4L2 device to use.</li>
<li><code>on_error</code> (of type <code>(string) -&gt; float</code>,
which defaults to <code>fun (_) -&gt; 3.</code>): Callback executed when
an error happens.</li>
</ul>
<h3 id="noise"><a href="#noise"
class="anchor"><code>noise</code></a></h3>
<p>Generate (audio and/or video) white noise.</p>
<p>Type:</p>
<pre><code>(?id : string, ?duration : float) -&gt; source(audio=&#39;a,
video=&#39;b, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>duration</code> (of type <code>float</code>, which defaults to
<code>0.0</code>)</li>
</ul>
<h3 id="output.file.hls.gstreamer"><a href="#output.file.hls.gstreamer"
class="anchor"><code>output.file.hls.gstreamer</code></a></h3>
<p>Play an http live stream.</p>
<p>Type:</p>
<pre><code>(?id : string, ?on_error : ((string) -&gt; float), {string}) -&gt;
source(audio=2, video=1, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>on_error</code> (of type <code>(string) -&gt; float</code>,
which defaults to <code>fun (_) -&gt; 3.</code>): Callback executed when
an error happens.</li>
<li><code>(unlabeled)</code> (of type <code>{string}</code>): URI of the
HLS stream index.</li>
</ul>
<h3 id="output.file.hls.gstreamer.audio"><a
href="#output.file.hls.gstreamer.audio"
class="anchor"><code>output.file.hls.gstreamer.audio</code></a></h3>
<p>Play an audio-only http live stream.</p>
<p>Type:</p>
<pre><code>(?id : string, ?on_error : ((string) -&gt; float), {string}) -&gt;
source(audio=&#39;#b+1, video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>on_error</code> (of type <code>(string) -&gt; float</code>,
which defaults to <code>fun (_) -&gt; 3.</code>): Callback executed when
an error happens.</li>
<li><code>(unlabeled)</code> (of type <code>{string}</code>): URI of the
HLS stream index.</li>
</ul>
<h3 id="playlist"><a href="#playlist"
class="anchor"><code>playlist</code></a></h3>
<p>Loop on a playlist of URIs.</p>
<p>Type:</p>
<pre><code>(?id : string, ?check_next : ((request(&#39;a)) -&gt; bool),
 ?conservative : bool, ?default_duration : float,
 ?length : float, ?mime_type : string, ?mode : string,
 ?on_track : ((last : bool, int) -&gt; bool),
 ?prefix : string, ?reload : int, ?reload_mode : string,
 ?timeout : float, string) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>check_next</code> (of type
<code>(request('a)) -&gt; bool</code>, which defaults to
<code>&lt;fun&gt;</code>): Function used to filter next tracks. A
candidate track is only validated if the function returns true on it.
The function is called before resolution, hence metadata will only be
available for requests corresponding to local files. This is typically
used to avoid repetitions, but be careful: if the function rejects all
attempts, the playlist will enter into a consuming loop and stop playing
anything.</li>
<li><code>conservative</code> (of type <code>bool</code>, which defaults
to <code>false</code>): If true, estimated remaining time on the current
track is not considered when computing queue length.</li>
<li><code>default_duration</code> (of type <code>float</code>, which
defaults to <code>30.0</code>): When unknown, assume this duration (in
sec.) for files.</li>
<li><code>length</code> (of type <code>float</code>, which defaults to
<code>40.0</code>): How much audio (in sec.) should be queued in
advance.</li>
<li><code>mime_type</code> (of type <code>string</code>, which defaults
to <code>""</code>): Default MIME type for the playlist. Empty string
means automatic detection.</li>
<li><code>mode</code> (of type <code>string</code>, which defaults to
<code>"randomize"</code>): Play the files in the playlist either in the
order (“normal” mode), or shuffle the playlist each time it is loaded,
and play it in this order for a whole round (“randomize” mode), or pick
a random file in the playlist each time (“random” mode).</li>
<li><code>on_track</code> (of type
<code>(last : bool, int) -&gt; bool</code>, which defaults to
<code>fun (_,~last=_) -&gt; false</code>): Function to execute when
playlist is about to play its next track. Receives track position in the
playlist and wether this is the last track. Force a reload by returning
<code>true</code> in this function.</li>
<li><code>prefix</code> (of type <code>string</code>, which defaults to
<code>""</code>): Add a constant prefix to all requests. Useful for
passing extra information using annotate, or for resolution through a
particular protocol, such as replaygain.</li>
<li><code>reload</code> (of type <code>int</code>, which defaults to
<code>0</code>): Amount of time (in seconds or rounds), when applicable,
before which the playlist is reloaded; 0 means never.</li>
<li><code>reload_mode</code> (of type <code>string</code>, which
defaults to <code>"seconds"</code>): Unit of the reload parameter,
either ‘rounds’, ‘seconds’ or ‘watch’ (reload the file whenever it is
changed).</li>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>20.0</code>): Timeout (in sec.) for a single download.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): URI where to
find the playlist.</li>
</ul>
<h3 id="playlist.once"><a href="#playlist.once"
class="anchor"><code>playlist.once</code></a></h3>
<p>Custom playlist source written using the script language. It will
read directory or playlist, play all files and stop.</p>
<p>Type:</p>
<pre><code>(?id : string, ?random : bool, ?on_done : (() -&gt; unit),
 ?reload_mode : string, ?default_duration : float,
 ?length : float, ?conservative : bool,
 ?filter : (([string * string]) -&gt; bool), string) -&gt;
source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>random</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Randomize playlist content</li>
<li><code>on_done</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Function to execute when the
playlist is finished</li>
<li><code>reload_mode</code> (of type <code>string</code>, which
defaults to <code>""</code>): If set to “watch”, will be reloaded when
the playlist is changed</li>
<li><code>default_duration</code> (of type <code>float</code>, which
defaults to <code>30.0</code>): When unknown, assume this duration (in
sec.) for files.</li>
<li><code>length</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): How much audio (in sec.) should be queued in
advance.</li>
<li><code>conservative</code> (of type <code>bool</code>, which defaults
to <code>false</code>): If true, estimated remaining time on the current
track is not considered when computing queue length.</li>
<li><code>filter</code> (of type
<code>([string * string]) -&gt; bool</code>, which defaults to
<code>fun (_) -&gt; true</code>): Filter out some files depending on
metadata</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Playlist
URI</li>
</ul>
<h3 id="playlist.reloadable"><a href="#playlist.reloadable"
class="anchor"><code>playlist.reloadable</code></a></h3>
<p>Custom playlist source written using the script language. Will read
directory or playlist, play all files and stop. Returns a pair
<code>(reload,source)</code> where <code>reload</code> is a function of
type <code>(?uri:string)-&gt;unit</code> used to reload the source and
<code>source</code> is the actual source. The reload function can
optionally be called with a new playlist URI. Otherwise, it reloads the
previous URI.</p>
<p>Type:</p>
<pre><code>(?id : string, ?random : bool, ?on_done : (() -&gt; unit),
 ?default_duration : float, ?length : float,
 ?conservative : bool,
 ?filter : (([string * string]) -&gt; bool), string) -&gt;
((?uri : string) -&gt; unit) * source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>random</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Randomize playlist content</li>
<li><code>on_done</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Function to execute when the
playlist is finished</li>
<li><code>default_duration</code> (of type <code>float</code>, which
defaults to <code>30.0</code>): When unknown, assume this duration (in
sec.) for files.</li>
<li><code>length</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): How much audio (in sec.) should be queued in
advance.</li>
<li><code>conservative</code> (of type <code>bool</code>, which defaults
to <code>false</code>): If true, estimated remaining time on the current
track is not considered when computing queue length.</li>
<li><code>filter</code> (of type
<code>([string * string]) -&gt; bool</code>, which defaults to
<code>fun (_) -&gt; true</code>): Filter out some files depending on
metadata</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Playlist
URI</li>
</ul>
<h3 id="playlist.safe"><a href="#playlist.safe"
class="anchor"><code>playlist.safe</code></a></h3>
<p>Loop on a playlist of local files, and never fail. In order to do so,
it has to check every file at the loading, so the streamer startup may
take a few seconds. To avoid this, use a standard playlist, and put only
a few local files in a default safe_playlist in order to ensure the
liveness of the streamer.</p>
<p>Type:</p>
<pre><code>(?id : string, ?mime_type : string, ?mode : string,
 ?on_track : ((last : bool, int) -&gt; bool),
 ?prefix : string, ?reload : int, ?reload_mode : string,
 string) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>mime_type</code> (of type <code>string</code>, which defaults
to <code>""</code>): Default MIME type for the playlist. Empty string
means automatic detection.</li>
<li><code>mode</code> (of type <code>string</code>, which defaults to
<code>"randomize"</code>): Play the files in the playlist either in the
order (“normal” mode), or shuffle the playlist each time it is loaded,
and play it in this order for a whole round (“randomize” mode), or pick
a random file in the playlist each time (“random” mode).</li>
<li><code>on_track</code> (of type
<code>(last : bool, int) -&gt; bool</code>, which defaults to
<code>fun (_,~last=_) -&gt; false</code>): Function to execute when
playlist is about to play its next track. Receives track position in the
playlist and wether this is the last track. Force a reload by returning
<code>true</code> in this function.</li>
<li><code>prefix</code> (of type <code>string</code>, which defaults to
<code>""</code>): Add a constant prefix to all requests. Useful for
passing extra information using annotate, or for resolution through a
particular protocol, such as replaygain.</li>
<li><code>reload</code> (of type <code>int</code>, which defaults to
<code>0</code>): Amount of time (in seconds or rounds), when applicable,
before which the playlist is reloaded; 0 means never.</li>
<li><code>reload_mode</code> (of type <code>string</code>, which
defaults to <code>"seconds"</code>): Unit of the reload parameter,
either ‘rounds’, ‘seconds’ or ‘watch’ (reload the file whenever it is
changed).</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): URI where to
find the playlist.</li>
</ul>
<h3 id="request.dynamic.list"><a href="#request.dynamic.list"
class="anchor"><code>request.dynamic.list</code></a></h3>
<p>Play request dynamically created by a given function.</p>
<p>Type:</p>
<pre><code>(?id : string, ?conservative : bool,
 ?default_duration : float, ?length : float,
 ?retry_delay : {float}, ?timeout : float,
 (() -&gt; [request(&#39;b)])) -&gt; source(&#39;b)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>conservative</code> (of type <code>bool</code>, which defaults
to <code>false</code>): If true, estimated remaining time on the current
track is not considered when computing queue length.</li>
<li><code>default_duration</code> (of type <code>float</code>, which
defaults to <code>30.0</code>): When unknown, assume this duration (in
sec.) for files.</li>
<li><code>length</code> (of type <code>float</code>, which defaults to
<code>40.0</code>): How much audio (in sec.) should be queued in
advance.</li>
<li><code>retry_delay</code> (of type <code>{float}</code>, which
defaults to <code>0.1</code>): Retry after a given time (in seconds)
when callback returns an empty list.</li>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>20.0</code>): Timeout (in sec.) for a single download.</li>
<li><code>(unlabeled)</code> (of type
<code>() -&gt; [request('b)]</code>)</li>
</ul>
<h3 id="request.equeue"><a href="#request.equeue"
class="anchor"><code>request.equeue</code></a></h3>
<p>Receive URIs from users, and play them. Insertion and deletion
possible at any position.</p>
<p>Type:</p>
<pre><code>(?id : string, ?conservative : bool,
 ?default_duration : float, ?length : float,
 ?timeout : float) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>conservative</code> (of type <code>bool</code>, which defaults
to <code>false</code>): If true, estimated remaining time on the current
track is not considered when computing queue length.</li>
<li><code>default_duration</code> (of type <code>float</code>, which
defaults to <code>30.0</code>): When unknown, assume this duration (in
sec.) for files.</li>
<li><code>length</code> (of type <code>float</code>, which defaults to
<code>40.0</code>): How much audio (in sec.) should be queued in
advance.</li>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>20.0</code>): Timeout (in sec.) for a single download.</li>
</ul>
<h3 id="request.queue"><a href="#request.queue"
class="anchor"><code>request.queue</code></a></h3>
<p>Receive URIs from users, and play them.</p>
<p>Type:</p>
<pre><code>(?id : string, ?conservative : bool,
 ?default_duration : float, ?interactive : bool,
 ?length : float, ?queue : [request(&#39;a)],
 ?timeout : float) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>conservative</code> (of type <code>bool</code>, which defaults
to <code>false</code>): If true, estimated remaining time on the current
track is not considered when computing queue length.</li>
<li><code>default_duration</code> (of type <code>float</code>, which
defaults to <code>30.0</code>): When unknown, assume this duration (in
sec.) for files.</li>
<li><code>interactive</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Should the queue be controllable via telnet?</li>
<li><code>length</code> (of type <code>float</code>, which defaults to
<code>40.0</code>): How much audio (in sec.) should be queued in
advance.</li>
<li><code>queue</code> (of type <code>[request('a)]</code>, which
defaults to <code>[]</code>): Initial queue of requests.</li>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>20.0</code>): Timeout (in sec.) for a single download.</li>
</ul>
<h3 id="saw"><a href="#saw" class="anchor"><code>saw</code></a></h3>
<p>Generate a saw wave.</p>
<p>Type:</p>
<pre><code>(?id : string, ?amplitude : float, ?duration : float,
 ?float) -&gt; source(audio=&#39;#a+1, video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>amplitude</code> (of type <code>float</code>, which defaults
to <code>1.0</code>): Maximal value of the waveform.</li>
<li><code>duration</code> (of type <code>float</code>, which defaults to
<code>0.0</code>): Duration in seconds (0. means infinite).</li>
<li><code>(unlabeled)</code> (of type <code>float</code>, which defaults
to <code>440.0</code>): Frequency of the saw.</li>
</ul>
<h3 id="sine"><a href="#sine" class="anchor"><code>sine</code></a></h3>
<p>Generate a sine wave.</p>
<p>Type:</p>
<pre><code>(?id : string, ?amplitude : float, ?duration : float,
 ?float) -&gt; source(audio=&#39;#a+1, video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>amplitude</code> (of type <code>float</code>, which defaults
to <code>1.0</code>): Maximal value of the waveform.</li>
<li><code>duration</code> (of type <code>float</code>, which defaults to
<code>0.0</code>): Duration in seconds (0. means infinite).</li>
<li><code>(unlabeled)</code> (of type <code>float</code>, which defaults
to <code>440.0</code>): Frequency of the sine.</li>
</ul>
<h3 id="single"><a href="#single"
class="anchor"><code>single</code></a></h3>
<p>Loop on a request. It never fails if the request is static, meaning
that it can be fetched once. Typically, http, ftp, say requests are
static, and time is not.</p>
<p>Type:</p>
<pre><code>(?id : string, ?conservative : bool,
 ?default_duration : float, ?length : float,
 ?timeout : float, string) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>conservative</code> (of type <code>bool</code>, which defaults
to <code>false</code>): If true, estimated remaining time on the current
track is not considered when computing queue length.</li>
<li><code>default_duration</code> (of type <code>float</code>, which
defaults to <code>30.0</code>): When unknown, assume this duration (in
sec.) for files.</li>
<li><code>length</code> (of type <code>float</code>, which defaults to
<code>40.0</code>): How much audio (in sec.) should be queued in
advance.</li>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>20.0</code>): Timeout (in sec.) for a single download.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): URI where to
find the file</li>
</ul>
<h3 id="square"><a href="#square"
class="anchor"><code>square</code></a></h3>
<p>Generate a square wave.</p>
<p>Type:</p>
<pre><code>(?id : string, ?amplitude : float, ?duration : float,
 ?float) -&gt; source(audio=&#39;#a+1, video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>amplitude</code> (of type <code>float</code>, which defaults
to <code>1.0</code>): Maximal value of the waveform.</li>
<li><code>duration</code> (of type <code>float</code>, which defaults to
<code>0.0</code>): Duration in seconds (0. means infinite).</li>
<li><code>(unlabeled)</code> (of type <code>float</code>, which defaults
to <code>440.0</code>): Frequency of the square.</li>
</ul>
<h2 id="source-liquidsoap"><a href="#source-liquidsoap"
class="anchor">Source / Liquidsoap</a></h2>
<h3 id="buffer"><a href="#buffer"
class="anchor"><code>buffer</code></a></h3>
<p>Create a buffer between two different clocks.</p>
<p>Type:</p>
<pre><code>(?id : string, ?buffer : float, ?fallible : bool,
 ?max : float, ?on_start : (() -&gt; unit),
 ?on_stop : (() -&gt; unit), ?start : bool, source(&#39;a)) -&gt;
source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>buffer</code> (of type <code>float</code>, which defaults to
<code>1.0</code>): Amount of data to pre-buffer, in seconds.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>max</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Maximum amount of buffered data, in seconds.</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Automatically start outputting whenever possible. If
true, an infallible (normal) output will start outputting as soon as it
is created, and a fallible output will (re)start as soon as its source
becomes available for streaming.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="buffer.adaptative"><a href="#buffer.adaptative"
class="anchor"><code>buffer.adaptative</code></a></h3>
<p>Create a buffer between two different clocks. The speed of the output
is adapted so that no buffer underrun or overrun occurs. This wonderful
behavior has a cost: the pitch of the sound might be changed a
little.</p>
<p>Type:</p>
<pre><code>(?id : string, ?averaging : float, ?buffer : float,
 ?fallible : bool, ?limit : float, ?max : float,
 ?on_start : (() -&gt; unit), ?on_stop : (() -&gt; unit),
 ?reset : bool, ?start : bool, source(audio=&#39;#a+1,
 video=0, midi=0)) -&gt; source(audio=&#39;#a+1, video=0,
midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>averaging</code> (of type <code>float</code>, which defaults
to <code>30.0</code>): Half-life for the averaging of the buffer size,
in seconds.</li>
<li><code>buffer</code> (of type <code>float</code>, which defaults to
<code>1.0</code>): Amount of data to pre-buffer, in seconds.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>limit</code> (of type <code>float</code>, which defaults to
<code>1.25</code>): Maximum acceleration or deceleration factor.</li>
<li><code>max</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Maximum amount of buffered data, in seconds.</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>reset</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Reset speed estimation to 1. when the source
becomes available again.</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Automatically start outputting whenever possible. If
true, an infallible (normal) output will start outputting as soon as it
is created, and a fallible output will (re)start as soon as its source
becomes available for streaming.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a+1, video=0, midi=0)</code>)</li>
</ul>
<p>This function is experimental.</p>
<h2 id="source-midi-processing"><a href="#source-midi-processing"
class="anchor">Source / MIDI Processing</a></h2>
<h3 id="midi.chord"><a href="#midi.chord"
class="anchor"><code>midi.chord</code></a></h3>
<p>Generate a chord.</p>
<p>Type:</p>
<pre><code>(?id : string, ?metadata : string, source(audio=&#39;#a,
 video=&#39;#b, midi=&#39;#c)) -&gt; source(audio=&#39;#a, video=&#39;#b,
midi=&#39;#c+1)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>metadata</code> (of type <code>string</code>, which defaults
to <code>"chord"</code>): Name of the metadata containing the
chords.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="midi.merge_all"><a href="#midi.merge_all"
class="anchor"><code>midi.merge_all</code></a></h3>
<p>Merge all MIDI tracks in one.</p>
<p>Type:</p>
<pre><code>(?id : string, ?track_out : int, source(audio=&#39;#a,
 video=&#39;#b, midi=&#39;#c+1)) -&gt; source(audio=&#39;#a, video=&#39;#b,
midi=&#39;#c+1)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>track_out</code> (of type <code>int</code>, which defaults to
<code>0</code>): Destination track.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c+1)</code>)</li>
</ul>
<h3 id="midi.remove"><a href="#midi.remove"
class="anchor"><code>midi.remove</code></a></h3>
<p>Remove MIDI tracks.</p>
<p>Type:</p>
<pre><code>(?id : string, [int], source(audio=&#39;#a, video=&#39;#b,
 midi=&#39;#c+1)) -&gt; source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c+1)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type <code>[int]</code>): Tracks to
remove.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c+1)</code>)</li>
</ul>
<h2 id="source-output"><a href="#source-output" class="anchor">Source /
Output</a></h2>
<h3 id="gstreamer.encode_jpeg_avi"><a href="#gstreamer.encode_jpeg_avi"
class="anchor"><code>gstreamer.encode_jpeg_avi</code></a></h3>
<p>Encode jpeg video file using gstreamer</p>
<p>Type:</p>
<pre><code>(&#39;a, source(audio=&#39;#b, video=&#39;#c+1, midi=&#39;#d)) -&gt;
active_source(audio=&#39;#b, video=&#39;#c+1, midi=&#39;#d)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>'a</code>): Encoded file
name</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#b, video='#c+1, midi='#d)</code>): Source</li>
</ul>
<h3 id="gstreamer.encode_mp3"><a href="#gstreamer.encode_mp3"
class="anchor"><code>gstreamer.encode_mp3</code></a></h3>
<p>Encode a mp3 file using gstreamer</p>
<p>Type:</p>
<pre><code>(&#39;a, source(audio=&#39;#b+1, video=&#39;#c, midi=&#39;#d)) -&gt;
active_source(audio=&#39;#b+1, video=&#39;#c, midi=&#39;#d)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>'a</code>): Encoded file
name</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#b+1, video='#c, midi='#d)</code>): Source</li>
</ul>
<h3 id="gstreamer.encode_x264_avi"><a href="#gstreamer.encode_x264_avi"
class="anchor"><code>gstreamer.encode_x264_avi</code></a></h3>
<p>Encode an x264 video file using gstreamer</p>
<p>Type:</p>
<pre><code>(&#39;a, source(audio=&#39;#b, video=&#39;#c+1, midi=&#39;#d)) -&gt;
active_source(audio=&#39;#b, video=&#39;#c+1, midi=&#39;#d)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>'a</code>): Encoded file
name</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#b, video='#c+1, midi='#d)</code>): Source</li>
</ul>
<h3 id="gstreamer.rtp.mpeg4"><a href="#gstreamer.rtp.mpeg4"
class="anchor"><code>gstreamer.rtp.mpeg4</code></a></h3>
<p>Broadcast a video in RTP. In order to play it, save the following in
<code>xxx.sdp</code> and use <code>vlc xxx.sdp</code>:</p>
<pre><code>v=0
m=video 5000 RTP/AVP 96
c=IN IP4 127.0.0.1
a=rtpmap:96 MP4V-ES/90000</code></pre>
<p>Type:</p>
<pre><code>(?host : string, ?port : int, source(audio=&#39;#a,
 video=&#39;#b+1, midi=&#39;#c)) -&gt; active_source(audio=&#39;#a,
video=&#39;#b+1, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>host</code> (of type <code>string</code>, which defaults to
<code>"127.0.0.1"</code>)</li>
<li><code>port</code> (of type <code>int</code>, which defaults to
<code>5000</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b+1, midi='#c)</code>)</li>
</ul>
<h3 id="out"><a href="#out" class="anchor"><code>out</code></a></h3>
<p>Output a stream using the <code>output.prefered</code> operator. The
input source does not need to be infallible, blank will just be played
during failures.</p>
<p>Type:</p>
<pre><code>(source(audio=&#39;#a+1, video=&#39;#b, midi=&#39;#c)) -&gt;
active_source(audio=&#39;#a+1, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a+1, video='#b, midi='#c)</code>): the source to
output</li>
</ul>
<h3 id="output.alsa"><a href="#output.alsa"
class="anchor"><code>output.alsa</code></a></h3>
<p>Output the source’s stream to an ALSA output device.</p>
<p>Type:</p>
<pre><code>(?id : string, ?bufferize : bool, ?clock_safe : bool,
 ?device : string, ?fallible : bool,
 ?on_start : (() -&gt; unit), ?on_stop : (() -&gt; unit),
 ?start : bool, source(audio=&#39;#a+1, video=&#39;#b, midi=&#39;#c)) -&gt;
active_source(audio=&#39;#a+1, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>bufferize</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Bufferize output</li>
<li><code>clock_safe</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Force the use of the dedicated ALSA clock</li>
<li><code>device</code> (of type <code>string</code>, which defaults to
<code>"default"</code>): Alsa device to use</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Automatically start outputting whenever possible. If
true, an infallible (normal) output will start outputting as soon as it
is created, and a fallible output will (re)start as soon as its source
becomes available for streaming.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a+1, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="output.ao"><a href="#output.ao"
class="anchor"><code>output.ao</code></a></h3>
<p>Output stream to local sound card using libao.</p>
<p>Type:</p>
<pre><code>(?id : string, ?buffer_size : int,
 ?channels_matrix : string, ?clock_safe : bool,
 ?driver : string, ?fallible : bool,
 ?on_start : (() -&gt; unit), ?on_stop : (() -&gt; unit),
 ?options : [string * string], ?start : bool,
 source(audio=&#39;#a+1, video=&#39;#b, midi=&#39;#c)) -&gt;
active_source(audio=&#39;#a+1, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>buffer_size</code> (of type <code>int</code>, which defaults
to <code>2</code>): Set buffer size, in frames.</li>
<li><code>channels_matrix</code> (of type <code>string</code>, which
defaults to <code>""</code>): Output channels matrix, “” for AO’s
default.</li>
<li><code>clock_safe</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Use the dedicated AO clock.</li>
<li><code>driver</code> (of type <code>string</code>, which defaults to
<code>""</code>): Driver to be used, “” for AO’s default.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>options</code> (of type <code>[string * string]</code>, which
defaults to <code>[]</code>): List of parameters, depends on the
driver.</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Automatically start outputting whenever possible. If
true, an infallible (normal) output will start outputting as soon as it
is created, and a fallible output will (re)start as soon as its source
becomes available for streaming.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a+1, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="output.dummy"><a href="#output.dummy"
class="anchor"><code>output.dummy</code></a></h3>
<p>Dummy output for debugging purposes.</p>
<p>Type:</p>
<pre><code>(?id : string, ?fallible : bool,
 ?on_start : (() -&gt; unit), ?on_stop : (() -&gt; unit),
 ?start : bool, source(&#39;a)) -&gt; active_source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Automatically start outputting whenever possible. If
true, an infallible (normal) output will start outputting as soon as it
is created, and a fallible output will (re)start as soon as its source
becomes available for streaming.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="output.external"><a href="#output.external"
class="anchor"><code>output.external</code></a></h3>
<p>Send the stream to a process’ standard input.</p>
<p>Type:</p>
<pre><code>(?id : string, ?fallible : bool, ?flush : bool,
 ?on_start : (() -&gt; unit), ?on_stop : (() -&gt; unit),
 ?reopen_delay : float, ?reopen_on_metadata : bool,
 ?reopen_when : (() -&gt; bool), ?start : bool, format(&#39;a),
 {string}, source(&#39;a)) -&gt; active_source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>flush</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Perform a flush after each write.</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>reopen_delay</code> (of type <code>float</code>, which
defaults to <code>120.0</code>): Prevent re-opening within that delay,
in seconds.</li>
<li><code>reopen_on_metadata</code> (of type <code>bool</code>, which
defaults to <code>false</code>): Re-open on every new metadata
information.</li>
<li><code>reopen_when</code> (of type <code>() -&gt; bool</code>, which
defaults to <code>{false}</code>): When should the output be
re-opened.</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Automatically start outputting whenever possible. If
true, an infallible (normal) output will start outputting as soon as it
is created, and a fallible output will (re)start as soon as its source
becomes available for streaming.</li>
<li><code>(unlabeled)</code> (of type <code>format('a)</code>): Encoding
format.</li>
<li><code>(unlabeled)</code> (of type <code>{string}</code>): Process to
pipe data to. Some strftime conversion specifiers are available:
<code>%SMHdmY</code>. You can also use <code>$(..)</code> interpolation
notation for metadata.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="output.file"><a href="#output.file"
class="anchor"><code>output.file</code></a></h3>
<p>Output the source stream to a file.</p>
<p>Type:</p>
<pre><code>(?id : string, ?append : bool, ?dir_perm : int,
 ?fallible : bool, ?flush : bool,
 ?on_close : ((string) -&gt; unit),
 ?on_start : (() -&gt; unit), ?on_stop : (() -&gt; unit),
 ?perm : int, ?reopen_delay : float,
 ?reopen_on_metadata : bool, ?reopen_when : (() -&gt; bool),
 ?start : bool, format(&#39;a), {string}, source(&#39;a)) -&gt;
active_source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>append</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Do not truncate but append in the file if it
exists.</li>
<li><code>dir_perm</code> (of type <code>int</code>, which defaults to
<code>511</code>): Permission of the directories if some have to be
created, up to umask. Although you can enter values in octal notation
(0oXXX) they will be displayed in decimal (for instance, 0o777 =
7<em>8^2 + 7</em>8 + 7 = 511).</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>flush</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Perform a flush after each write.</li>
<li><code>on_close</code> (of type <code>(string) -&gt; unit</code>,
which defaults to <code>&lt;fun&gt;</code>): This function will be
called for each file, after that it is finished and closed. The filename
will be passed as argument.</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>perm</code> (of type <code>int</code>, which defaults to
<code>438</code>): Permission of the file if it has to be created, up to
umask. You can and should write this number in octal notation: 0oXXX.
The default value is however displayed in decimal (0o666 = 6<em>8^2 +
6</em>8 + 6 = 438).</li>
<li><code>reopen_delay</code> (of type <code>float</code>, which
defaults to <code>120.0</code>): Prevent re-opening within that delay,
in seconds.</li>
<li><code>reopen_on_metadata</code> (of type <code>bool</code>, which
defaults to <code>false</code>): Re-open on every new metadata
information.</li>
<li><code>reopen_when</code> (of type <code>() -&gt; bool</code>, which
defaults to <code>{false}</code>): When should the output be
re-opened.</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Automatically start outputting whenever possible. If
true, an infallible (normal) output will start outputting as soon as it
is created, and a fallible output will (re)start as soon as its source
becomes available for streaming.</li>
<li><code>(unlabeled)</code> (of type <code>format('a)</code>): Encoding
format.</li>
<li><code>(unlabeled)</code> (of type <code>{string}</code>): Filename
where to output the stream. Some strftime conversion specifiers are
available: <code>%SMHdmY</code>. You can also use <code>$(..)</code>
interpolation notation for metadata.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="output.file.hls"><a href="#output.file.hls"
class="anchor"><code>output.file.hls</code></a></h3>
<p>Output the source stream to an HTTP live stream served from a local
directory.</p>
<p>Type:</p>
<pre><code>(?id : string, ?encode_metadata : bool, ?fallible : bool,
 ?on_file_change : ((state : string, string) -&gt; unit),
 ?on_start : (() -&gt; unit), ?on_stop : (() -&gt; unit),
 ?perm : int, ?persist : bool, ?persist_at : string,
 ?playlist : string, ?segment_duration : float,
 ?segment_name : ((position : int, extname : string,
                   string) -&gt; string),
 ?segments : int, ?segments_overhead : int,
 ?start : bool,
 ?streams_info : [string * (int * string * string)],
 string, [string * format(&#39;a)], source(&#39;a)) -&gt;
active_source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>encode_metadata</code> (of type <code>bool</code>, which
defaults to <code>false</code>): Insert metadata into encoded stream.
Note: Some HLS players (in particular android native HLS player) expect
a single mpegts stream. Encoding metadata will break that
assumption.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>on_file_change</code> (of type
<code>(state : string, string) -&gt; unit</code>, which defaults to
<code>&lt;fun&gt;</code>): Callback executed when a file changes.
<code>state</code> is one of: <code>"opened"</code>,
<code>"closed"</code> or <code>"deleted"</code>, second argument is file
path. Typical use: upload files to a CDN when done writting
(<code>"close"</code> state and remove when <code>"deleted"</code>.</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>perm</code> (of type <code>int</code>, which defaults to
<code>420</code>): Permission of the created files, up to umask. You can
and should write this number in octal notation: 0oXXX. The default value
is however displayed in decimal (0o666 = 6<em>8^2 + 4</em>8 + 4 =
412).</li>
<li><code>persist</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Persist output accross restart. If enabled,
generated files (segments and playlists) are kept on shutdown and the
output state at the location given by <code>persist_at</code> and used
on restart.</li>
<li><code>persist_at</code> (of type <code>string</code>, which defaults
to <code>"state.config"</code>): Location of the configuration file used
to restart the output when <code>persist=true</code>. Relative paths are
assumed to be with regard to the directory for generated file.</li>
<li><code>playlist</code> (of type <code>string</code>, which defaults
to <code>"stream.m3u8"</code>): Playlist name (m3u8 extension is
recommended).</li>
<li><code>segment_duration</code> (of type <code>float</code>, which
defaults to <code>10.0</code>): Segment duration (in seconds).</li>
<li><code>segment_name</code> (of type
<code>(position : int, extname : string, string) -&gt; string</code>,
which defaults to <code>&lt;fun&gt;</code>): Segment name. Default:
<code>fun (~position,~extname,stream_name) -&gt; "#{stream_name}_#{position}.#{extname}"</code></li>
<li><code>segments</code> (of type <code>int</code>, which defaults to
<code>10</code>): Number of segments per playlist.</li>
<li><code>segments_overhead</code> (of type <code>int</code>, which
defaults to <code>5</code>): Number of segments to keep after they have
been featured in the live playlist.</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Automatically start outputting whenever possible. If
true, an infallible (normal) output will start outputting as soon as it
is created, and a fallible output will (re)start as soon as its source
becomes available for streaming.</li>
<li><code>streams_info</code> (of type
<code>[string * (int * string * string)]</code>, which defaults to
<code>[]</code>): Additional information about the streams. Should be a
list of the form:
<code>[(stream_name, (bandwidth, codec, extname)]</code>. See RFC 6381
for info about codec. Stream info are required when they cannot be
inferred from the encoder.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Directory
for generated files.</li>
<li><code>(unlabeled)</code> (of type
<code>[string * format('a)]</code>): List of specifications for each
stream: (name, format).</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="output.gstreamer.audio"><a href="#output.gstreamer.audio"
class="anchor"><code>output.gstreamer.audio</code></a></h3>
<p>Output stream to a GStreamer pipeline.</p>
<p>Type:</p>
<pre><code>(?id : string, ?clock_safe : bool, ?fallible : bool,
 ?on_error : ((string) -&gt; float),
 ?on_start : (() -&gt; unit), ?on_stop : (() -&gt; unit),
 ?pipeline : string, ?start : bool, source(audio=&#39;#a+1,
 video=&#39;#b, midi=&#39;#c)) -&gt; active_source(audio=&#39;#a+1,
video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>clock_safe</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Use the dedicated GStreamer clock.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>on_error</code> (of type <code>(string) -&gt; float</code>,
which defaults to <code>fun (_) -&gt; 3.</code>): Callback executed when
an error happens. The callback receives a string representation of the
error that occured and returns a float. If returned value is positive,
connection will be tried again after this amount of time (in
seconds).</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>pipeline</code> (of type <code>string</code>, which defaults
to <code>"autoaudiosink"</code>): GStreamer pipeline for sink.</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Automatically start outputting whenever possible. If
true, an infallible (normal) output will start outputting as soon as it
is created, and a fallible output will (re)start as soon as its source
becomes available for streaming.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a+1, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="output.gstreamer.audio_video"><a
href="#output.gstreamer.audio_video"
class="anchor"><code>output.gstreamer.audio_video</code></a></h3>
<p>Output stream to a GStreamer pipeline.</p>
<p>Type:</p>
<pre><code>(?id : string, ?audio_pipeline : string,
 ?blocking : bool, ?clock_safe : bool, ?fallible : bool,
 ?on_error : ((string) -&gt; float),
 ?on_start : (() -&gt; unit), ?on_stop : (() -&gt; unit),
 ?pipeline : string, ?start : bool,
 ?video_pipeline : string, source(audio=&#39;#a+1,
 video=&#39;#b+1, midi=&#39;#c)) -&gt; active_source(audio=&#39;#a+1,
video=&#39;#b+1, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>audio_pipeline</code> (of type <code>string</code>, which
defaults to <code>"autoaudiosink"</code>): GStreamer pipeline for audio
sink.</li>
<li><code>blocking</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Pushing buffers is blocking.</li>
<li><code>clock_safe</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Use the dedicated GStreamer clock.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>on_error</code> (of type <code>(string) -&gt; float</code>,
which defaults to <code>fun (_) -&gt; 3.</code>): Callback executed when
an error happens. The callback receives a string representation of the
error that occured and returns a float. If returned value is positive,
connection will be tried again after this amount of time (in
seconds).</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>pipeline</code> (of type <code>string</code>, which defaults
to <code>""</code>): GStreamer pipeline for sink.</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Automatically start outputting whenever possible. If
true, an infallible (normal) output will start outputting as soon as it
is created, and a fallible output will (re)start as soon as its source
becomes available for streaming.</li>
<li><code>video_pipeline</code> (of type <code>string</code>, which
defaults to <code>"videoconvert ! autovideosink"</code>): GStreamer
pipeline for video sink.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a+1, video='#b+1, midi='#c)</code>)</li>
</ul>
<h3 id="output.gstreamer.video"><a href="#output.gstreamer.video"
class="anchor"><code>output.gstreamer.video</code></a></h3>
<p>Output stream to a GStreamer pipeline.</p>
<p>Type:</p>
<pre><code>(?id : string, ?clock_safe : bool, ?fallible : bool,
 ?on_error : ((string) -&gt; float),
 ?on_start : (() -&gt; unit), ?on_stop : (() -&gt; unit),
 ?pipeline : string, ?start : bool, source(audio=&#39;#a,
 video=&#39;#b+1, midi=&#39;#c)) -&gt; active_source(audio=&#39;#a,
video=&#39;#b+1, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>clock_safe</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Use the dedicated GStreamer clock.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>on_error</code> (of type <code>(string) -&gt; float</code>,
which defaults to <code>fun (_) -&gt; 3.</code>): Callback executed when
an error happens. The callback receives a string representation of the
error that occured and returns a float. If returned value is positive,
connection will be tried again after this amount of time (in
seconds).</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>pipeline</code> (of type <code>string</code>, which defaults
to <code>"videoconvert ! autovideosink"</code>): GStreamer pipeline for
sink.</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Automatically start outputting whenever possible. If
true, an infallible (normal) output will start outputting as soon as it
is created, and a fallible output will (re)start as soon as its source
becomes available for streaming.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b+1, midi='#c)</code>)</li>
</ul>
<h3 id="output.harbor"><a href="#output.harbor"
class="anchor"><code>output.harbor</code></a></h3>
<p>Encode and output the stream using the harbor server.</p>
<p>Type:</p>
<pre><code>(?id : string, ?auth : ((string, string) -&gt; bool),
 ?buffer : int, ?burst : int, ?chunk : int,
 ?dumpfile : string, ?encoding : string,
 ?fallible : bool, ?format : string,
 ?headers : [string * string], ?metaint : int,
 mount : string,
 ?on_connect : ((headers : [string * string],
                 uri : string, protocol : string, string) -&gt;
                unit),
 ?on_disconnect : ((string) -&gt; unit),
 ?on_start : (() -&gt; unit), ?on_stop : (() -&gt; unit),
 ?password : string, ?port : int, ?start : bool,
 ?timeout : float, ?url : string, ?user : string,
 format(&#39;a), source(&#39;a)) -&gt; active_source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>auth</code> (of type <code>(string, string) -&gt; bool</code>,
which defaults to <code>fun (_,_) -&gt; false</code>): Authentication
function. <code>f(login,password)</code> returns <code>true</code> if
the user should be granted access for this login. Override any other
method if used.</li>
<li><code>buffer</code> (of type <code>int</code>, which defaults to
<code>327675</code>): Maximun buffer per-client.</li>
<li><code>burst</code> (of type <code>int</code>, which defaults to
<code>65534</code>): Initial burst of data sent to the client.</li>
<li><code>chunk</code> (of type <code>int</code>, which defaults to
<code>1024</code>): Send data to clients using chunks of at least this
length.</li>
<li><code>dumpfile</code> (of type <code>string</code>, which defaults
to <code>""</code>): Dump stream to file, for debugging purpose.
Disabled if empty.</li>
<li><code>encoding</code> (of type <code>string</code>, which defaults
to <code>""</code>): Encoding used to send metadata. If empty, defaults
to “ISO-8859-1” for non-ogg formats and “UTF-8” otherwise.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>format</code> (of type <code>string</code>, which defaults to
<code>""</code>): Format, e.g. “audio/ogg”. When empty, the encoder is
used to guess.</li>
<li><code>headers</code> (of type <code>[string * string]</code>, which
defaults to <code>[]</code>): Additional headers.</li>
<li><code>metaint</code> (of type <code>int</code>, which defaults to
<code>16000</code>): Interval used to send ICY metadata</li>
<li><code>mount</code> (of type <code>string</code>)</li>
<li><code>on_connect</code> (of type
<code>(headers : [string * string], uri : string,  protocol : string, string) -&gt; unit</code>,
which defaults to <code>&lt;fun&gt;</code>): Callback executed when
connection is established.</li>
<li><code>on_disconnect</code> (of type
<code>(string) -&gt; unit</code>, which defaults to
<code>&lt;fun&gt;</code>): Callback executed when connection stops.</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>password</code> (of type <code>string</code>, which defaults
to <code>"hackme"</code>)</li>
<li><code>port</code> (of type <code>int</code>, which defaults to
<code>8000</code>)</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Automatically start outputting whenever possible. If
true, an infallible (normal) output will start outputting as soon as it
is created, and a fallible output will (re)start as soon as its source
becomes available for streaming.</li>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>30.0</code>): Timeout for network operations.</li>
<li><code>url</code> (of type <code>string</code>, which defaults to
<code>""</code>)</li>
<li><code>user</code> (of type <code>string</code>, which defaults to
<code>""</code>): User for client connection, disabled if empty.</li>
<li><code>(unlabeled)</code> (of type <code>format('a)</code>): Encoding
format.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="output.harbor.hls"><a href="#output.harbor.hls"
class="anchor"><code>output.harbor.hls</code></a></h3>
<p>Output the source stream to an HTTP live stream served from the
harbor HTTP server.</p>
<p>Type:</p>
<pre><code>(?id : string, ?fallible : bool,
 ?on_start : (() -&gt; unit), ?on_stop : (() -&gt; unit),
 ?encode_metadata : bool, ?segment_duration : float,
 ?segments : int, ?segments_overhead : int,
 ?streams_info : [string * (int * string * string)],
 ?tmpdir : string,
 ?segment_name : ((position : int, extname : string,
                   string) -&gt; string),
 ?start : bool, ?playlist : string, ?port : int,
 ?path : string,
 ?on_file_change : ((state : string, string) -&gt; unit),
 ?headers : [string * string], ?persist : bool,
 ?persist_at : string, [string * format(&#39;a)], source(&#39;a)) -&gt;
active_source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>encode_metadata</code> (of type <code>bool</code>, which
defaults to <code>false</code>): Insert metadata into encoded stream.
Note: Some HLS players (in particular android native HLS player) expect
a single mpegts stream. Encoding metadata will break that
assumption.</li>
<li><code>segment_duration</code> (of type <code>float</code>, which
defaults to <code>10.0</code>): Segment duration (in seconds).</li>
<li><code>segments</code> (of type <code>int</code>, which defaults to
<code>15</code>): Number of segments per playlist.</li>
<li><code>segments_overhead</code> (of type <code>int</code>, which
defaults to <code>10</code>): Number of segments to keep after they have
been featured in the live playlist.</li>
<li><code>streams_info</code> (of type
<code>[string * (int * string * string)]</code>, which defaults to
<code>[]</code>): Additional information about the streams. Should be a
list of the form:
<code>[(stream_name, (bandwidth, codec, extname)]</code>. See RFC 6381
for info about codec. Stream info are required when they cannot be
inferred from the encoder.</li>
<li><code>tmpdir</code> (of type <code>string</code>, which defaults to
<code>""</code>): Directory for generated files.</li>
<li><code>segment_name</code> (of type
<code>(position : int, extname : string, string) -&gt; string</code>,
which defaults to <code>&lt;fun&gt;</code>): Segment name. Default:
<code>fun (~position,~extname,stream_name) -&gt; "#{stream_name}_#{position}.#{extname}"</code></li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Automatically start outputting whenever possible. If
true, an infallible (normal) output will start outputting as soon as it
is created, and a fallible output will (re)start as soon as its source
becomes available for streaming.</li>
<li><code>playlist</code> (of type <code>string</code>, which defaults
to <code>"stream.m3u8"</code>): Playlist name (m3u8 extension is
recommended).</li>
<li><code>port</code> (of type <code>int</code>, which defaults to
<code>8000</code>): Port for incoming harbor (http) connections.</li>
<li><code>path</code> (of type <code>string</code>, which defaults to
<code>"/"</code>): Base path for hls URIs.</li>
<li><code>on_file_change</code> (of type
<code>(state : string, string) -&gt; unit</code>, which defaults to
<code>&lt;fun&gt;</code>): Callback executed when a file changes.
<code>state</code> is one of: <code>"opened"</code>,
<code>"closed"</code> or <code>"deleted"</code>, second argument is file
path. Typical use: upload files to a CDN when done writting
(<code>"close"</code> state and remove when <code>"deleted"</code>.</li>
<li><code>headers</code> (of type <code>[string * string]</code>, which
defaults to <code>[("Access-Control-Allow-Origin", "*")]</code>):
Default response headers.</li>
<li><code>persist</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Persist output accross restart. If enabled,
generated files (segments and playlists) are kept on shutdown and the
output state at the location given by <code>persist_at</code> and used
on restart.</li>
<li><code>persist_at</code> (of type <code>string</code>, which defaults
to <code>"state.config"</code>): Location of the configuration file used
to restart the output when <code>persist=true</code>. Relative paths are
assumed to be with regard to the directory for generated file.</li>
<li><code>(unlabeled)</code> (of type
<code>[string * format('a)]</code>): List of specifications for each
stream: (name, format).</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="output.harbor.ssl"><a href="#output.harbor.ssl"
class="anchor"><code>output.harbor.ssl</code></a></h3>
<p>Encode and output the stream using the SSL harbor server.</p>
<p>Type:</p>
<pre><code>(?id : string, ?auth : ((string, string) -&gt; bool),
 ?buffer : int, ?burst : int, ?chunk : int,
 ?dumpfile : string, ?encoding : string,
 ?fallible : bool, ?format : string,
 ?headers : [string * string], ?metaint : int,
 mount : string,
 ?on_connect : ((headers : [string * string],
                 uri : string, protocol : string, string) -&gt;
                unit),
 ?on_disconnect : ((string) -&gt; unit),
 ?on_start : (() -&gt; unit), ?on_stop : (() -&gt; unit),
 ?password : string, ?port : int, ?start : bool,
 ?timeout : float, ?url : string, ?user : string,
 format(&#39;a), source(&#39;a)) -&gt; active_source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>auth</code> (of type <code>(string, string) -&gt; bool</code>,
which defaults to <code>fun (_,_) -&gt; false</code>): Authentication
function. <code>f(login,password)</code> returns <code>true</code> if
the user should be granted access for this login. Override any other
method if used.</li>
<li><code>buffer</code> (of type <code>int</code>, which defaults to
<code>327675</code>): Maximun buffer per-client.</li>
<li><code>burst</code> (of type <code>int</code>, which defaults to
<code>65534</code>): Initial burst of data sent to the client.</li>
<li><code>chunk</code> (of type <code>int</code>, which defaults to
<code>1024</code>): Send data to clients using chunks of at least this
length.</li>
<li><code>dumpfile</code> (of type <code>string</code>, which defaults
to <code>""</code>): Dump stream to file, for debugging purpose.
Disabled if empty.</li>
<li><code>encoding</code> (of type <code>string</code>, which defaults
to <code>""</code>): Encoding used to send metadata. If empty, defaults
to “ISO-8859-1” for non-ogg formats and “UTF-8” otherwise.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>format</code> (of type <code>string</code>, which defaults to
<code>""</code>): Format, e.g. “audio/ogg”. When empty, the encoder is
used to guess.</li>
<li><code>headers</code> (of type <code>[string * string]</code>, which
defaults to <code>[]</code>): Additional headers.</li>
<li><code>metaint</code> (of type <code>int</code>, which defaults to
<code>16000</code>): Interval used to send ICY metadata</li>
<li><code>mount</code> (of type <code>string</code>)</li>
<li><code>on_connect</code> (of type
<code>(headers : [string * string], uri : string,  protocol : string, string) -&gt; unit</code>,
which defaults to <code>&lt;fun&gt;</code>): Callback executed when
connection is established.</li>
<li><code>on_disconnect</code> (of type
<code>(string) -&gt; unit</code>, which defaults to
<code>&lt;fun&gt;</code>): Callback executed when connection stops.</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>password</code> (of type <code>string</code>, which defaults
to <code>"hackme"</code>)</li>
<li><code>port</code> (of type <code>int</code>, which defaults to
<code>8000</code>)</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Automatically start outputting whenever possible. If
true, an infallible (normal) output will start outputting as soon as it
is created, and a fallible output will (re)start as soon as its source
becomes available for streaming.</li>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>30.0</code>): Timeout for network operations.</li>
<li><code>url</code> (of type <code>string</code>, which defaults to
<code>""</code>)</li>
<li><code>user</code> (of type <code>string</code>, which defaults to
<code>""</code>): User for client connection, disabled if empty.</li>
<li><code>(unlabeled)</code> (of type <code>format('a)</code>): Encoding
format.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="output.icecast"><a href="#output.icecast"
class="anchor"><code>output.icecast</code></a></h3>
<p>Encode and output the stream to an icecast2 or shoutcast server.</p>
<p>Type:</p>
<pre><code>(?id : string, ?chunked : bool,
 ?connection_timeout : float, ?description : string,
 ?dumpfile : string, ?encoding : string,
 ?fallible : bool, ?format : string, ?genre : string,
 ?headers : [string * string], ?host : string,
 ?icy_id : int, ?icy_metadata : string, ?mount : string,
 ?name : string, ?on_connect : (() -&gt; unit),
 ?on_disconnect : (() -&gt; unit),
 ?on_error : ((string) -&gt; float),
 ?on_start : (() -&gt; unit), ?on_stop : (() -&gt; unit),
 ?password : string, ?port : int, ?protocol : string,
 ?public : bool, ?start : bool, ?timeout : float,
 ?url : string, ?user : string, ?verb : string,
 format(&#39;a), source(&#39;a)) -&gt; active_source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>chunked</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Used cunked transfer with the ‘http(s)’
protocol.</li>
<li><code>connection_timeout</code> (of type <code>float</code>, which
defaults to <code>5.0</code>): Timeout for establishing network
connections (disabled is negative).</li>
<li><code>description</code> (of type <code>string</code>, which
defaults to <code>""</code>)</li>
<li><code>dumpfile</code> (of type <code>string</code>, which defaults
to <code>""</code>): Dump stream to file, for debugging purpose.
Disabled if empty.</li>
<li><code>encoding</code> (of type <code>string</code>, which defaults
to <code>""</code>): Encoding used to send metadata and stream info
(name, genre and description). If empty, defaults to “UTF-8” for
“http(s)” protocol and “ISO-8859-1” for “icy” protocol.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>format</code> (of type <code>string</code>, which defaults to
<code>""</code>): Format, e.g. “audio/ogg”. When empty, the encoder is
used to guess.</li>
<li><code>genre</code> (of type <code>string</code>, which defaults to
<code>""</code>)</li>
<li><code>headers</code> (of type <code>[string * string]</code>, which
defaults to
<code>[("User-Agent", "Liquidsoap/1.4.4 (Unix; OCaml 4.10.0)")]</code>):
Additional headers.</li>
<li><code>host</code> (of type <code>string</code>, which defaults to
<code>"localhost"</code>)</li>
<li><code>icy_id</code> (of type <code>int</code>, which defaults to
<code>1</code>): Shoutcast source ID. Only supported by Shoutcast
v2.</li>
<li><code>icy_metadata</code> (of type <code>string</code>, which
defaults to <code>"guess"</code>): Send new metadata using the ICY
protocol. One of: “guess”, “true”, “false”</li>
<li><code>mount</code> (of type <code>string</code>, which defaults to
<code>"Use [name]"</code>): Source mount point. Mandatory when streaming
to icecast.</li>
<li><code>name</code> (of type <code>string</code>, which defaults to
<code>"Use [mount]"</code>)</li>
<li><code>on_connect</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when connection
is established.</li>
<li><code>on_disconnect</code> (of type <code>() -&gt; unit</code>,
which defaults to <code>&lt;fun&gt;</code>): Callback executed when
connection stops.</li>
<li><code>on_error</code> (of type <code>(string) -&gt; float</code>,
which defaults to <code>fun (_) -&gt; 3.</code>): Callback executed when
an error happens. The callback receives a string representation of the
error that occured and returns a float. If returned value is positive,
connection will be tried again after this amount of time (in
seconds).</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>password</code> (of type <code>string</code>, which defaults
to <code>"hackme"</code>)</li>
<li><code>port</code> (of type <code>int</code>, which defaults to
<code>8000</code>)</li>
<li><code>protocol</code> (of type <code>string</code>, which defaults
to <code>"http"</code>): Protocol of the streaming server: ‘http’ or
‘https’ for Icecast, ‘icy’ for shoutcast.</li>
<li><code>public</code> (of type <code>bool</code>, which defaults to
<code>true</code>)</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Automatically start outputting whenever possible. If
true, an infallible (normal) output will start outputting as soon as it
is created, and a fallible output will (re)start as soon as its source
becomes available for streaming.</li>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>30.0</code>): Timeout for network read and write.</li>
<li><code>url</code> (of type <code>string</code>, which defaults to
<code>""</code>)</li>
<li><code>user</code> (of type <code>string</code>, which defaults to
<code>""</code>): User for shout source connection. Defaults to “source”
for icecast connections. Useful only in special cases, like with
per-mountpoint users.</li>
<li><code>verb</code> (of type <code>string</code>, which defaults to
<code>"source"</code>): Verb to use with the ‘http(s)’ protocol. One of:
‘source’, ‘put’ or ‘post’.</li>
<li><code>(unlabeled)</code> (of type <code>format('a)</code>): Encoding
format.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="output.jack"><a href="#output.jack"
class="anchor"><code>output.jack</code></a></h3>
<p>Output stream to jack.</p>
<p>Type:</p>
<pre><code>(?id : string, ?buffer_size : int, ?clock_safe : bool,
 ?fallible : bool, ?on_start : (() -&gt; unit),
 ?on_stop : (() -&gt; unit), ?server : string,
 ?start : bool, source(audio=&#39;#a+1, video=0, midi=0)) -&gt;
active_source(audio=&#39;#a+1, video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>buffer_size</code> (of type <code>int</code>, which defaults
to <code>2</code>): Set buffer size, in frames.</li>
<li><code>clock_safe</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Force the use of the dedicated bjack clock.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>server</code> (of type <code>string</code>, which defaults to
<code>""</code>): Jack server to connect to.</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Automatically start outputting whenever possible. If
true, an infallible (normal) output will start outputting as soon as it
is created, and a fallible output will (re)start as soon as its source
becomes available for streaming.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a+1, video=0, midi=0)</code>)</li>
</ul>
<h3 id="output.oss"><a href="#output.oss"
class="anchor"><code>output.oss</code></a></h3>
<p>Output the source’s stream to an OSS output device.</p>
<p>Type:</p>
<pre><code>(?id : string, ?clock_safe : bool, ?device : string,
 ?fallible : bool, ?on_start : (() -&gt; unit),
 ?on_stop : (() -&gt; unit), ?start : bool,
 source(audio=&#39;#a+1, video=&#39;#b, midi=&#39;#c)) -&gt;
active_source(audio=&#39;#a+1, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>clock_safe</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Force the use of the dedicated OSS clock.</li>
<li><code>device</code> (of type <code>string</code>, which defaults to
<code>"/dev/dsp"</code>): OSS device to use.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Automatically start outputting whenever possible. If
true, an infallible (normal) output will start outputting as soon as it
is created, and a fallible output will (re)start as soon as its source
becomes available for streaming.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a+1, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="output.portaudio"><a href="#output.portaudio"
class="anchor"><code>output.portaudio</code></a></h3>
<p>Output the source’s stream to a portaudio output device.</p>
<p>Type:</p>
<pre><code>(?id : string, ?buflen : int, ?clock_safe : bool,
 ?fallible : bool, ?on_start : (() -&gt; unit),
 ?on_stop : (() -&gt; unit), ?start : bool,
 source(audio=&#39;#a+1, video=&#39;#b, midi=&#39;#c)) -&gt;
active_source(audio=&#39;#a+1, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>buflen</code> (of type <code>int</code>, which defaults to
<code>256</code>): Length of a buffer in samples.</li>
<li><code>clock_safe</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Force the use of the dedicated Portaudio
clock.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Automatically start outputting whenever possible. If
true, an infallible (normal) output will start outputting as soon as it
is created, and a fallible output will (re)start as soon as its source
becomes available for streaming.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a+1, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="output.prefered"><a href="#output.prefered"
class="anchor"><code>output.prefered</code></a></h3>
<p>Output to local audio card using the first available driver in
pulseaudio, portaudio, oss, alsa, ao, dummy.</p>
<p>Type:</p>
<pre><code>(?id : string, ?fallible : bool,
 ?on_start : (() -&gt; unit), ?on_stop : (() -&gt; unit),
 ?start : bool, source(audio=&#39;#a+1, video=&#39;#b, midi=&#39;#c)) -&gt;
active_source(audio=&#39;#a+1, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>)</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>)</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>)</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>)</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a+1, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="output.pulseaudio"><a href="#output.pulseaudio"
class="anchor"><code>output.pulseaudio</code></a></h3>
<p>Output the source’s stream to a portaudio output device.</p>
<p>Type:</p>
<pre><code>(?id : string, ?client : string, ?clock_safe : bool,
 ?device : string, ?fallible : bool,
 ?on_start : (() -&gt; unit), ?on_stop : (() -&gt; unit),
 ?start : bool, source(audio=&#39;#a+1, video=&#39;#b, midi=&#39;#c)) -&gt;
active_source(audio=&#39;#a+1, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>client</code> (of type <code>string</code>, which defaults to
<code>"liquidsoap"</code>)</li>
<li><code>clock_safe</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Force the use of the dedicated Pulseaudio
clock.</li>
<li><code>device</code> (of type <code>string</code>, which defaults to
<code>""</code>): Device to use. Uses default if set to ““.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Automatically start outputting whenever possible. If
true, an infallible (normal) output will start outputting as soon as it
is created, and a fallible output will (re)start as soon as its source
becomes available for streaming.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a+1, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="output.shoutcast"><a href="#output.shoutcast"
class="anchor"><code>output.shoutcast</code></a></h3>
<p>Output to shoutcast.</p>
<p>Type:</p>
<pre><code>(?id : string, ?start : bool, ?host : string,
 ?port : int, ?user : string, ?password : string,
 ?genre : string, ?url : string, ?name : string,
 ?encoding : string, ?public : bool, ?icy_id : int,
 ?format : string, ?dj : (() -&gt; string),
 ?dumpfile : string, ?icy_metadata : string,
 ?on_connect : (() -&gt; unit),
 ?on_disconnect : (() -&gt; unit), ?aim : string,
 ?icq : string, ?irc : string, ?icy_reset : bool,
 ?fallible : bool, ?on_start : (() -&gt; unit),
 ?on_stop : (() -&gt; unit),
 ?on_error : ((string) -&gt; float), format(&#39;a), source(&#39;a)) -&gt;
active_source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>"output.shoutcast"</code>): Output’s ID</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Start output threads on operator
initialization.</li>
<li><code>host</code> (of type <code>string</code>, which defaults to
<code>"localhost"</code>)</li>
<li><code>port</code> (of type <code>int</code>, which defaults to
<code>8000</code>)</li>
<li><code>user</code> (of type <code>string</code>, which defaults to
<code>""</code>): User for shout source connection. Useful only in
special cases, like with per-mountpoint users.</li>
<li><code>password</code> (of type <code>string</code>, which defaults
to <code>"hackme"</code>)</li>
<li><code>genre</code> (of type <code>string</code>, which defaults to
<code>""</code>)</li>
<li><code>url</code> (of type <code>string</code>, which defaults to
<code>""</code>)</li>
<li><code>name</code> (of type <code>string</code>, which defaults to
<code>""</code>)</li>
<li><code>encoding</code> (of type <code>string</code>, which defaults
to <code>"ISO-8859-1"</code>): Encoding used to send metadata and stream
info.</li>
<li><code>public</code> (of type <code>bool</code>, which defaults to
<code>true</code>)</li>
<li><code>icy_id</code> (of type <code>int</code>, which defaults to
<code>1</code>): Shoutcast source ID. Only supported by Shoutcast
v2.</li>
<li><code>format</code> (of type <code>string</code>, which defaults to
<code>""</code>): Format, e.g. “audio/ogg”. When empty, the encoder is
used to guess.</li>
<li><code>dj</code> (of type <code>() -&gt; string</code>, which
defaults to <code>{""}</code>): Callback to set dj name.</li>
<li><code>dumpfile</code> (of type <code>string</code>, which defaults
to <code>""</code>): Dump stream to file, for debugging purpose.
Disabled if empty.</li>
<li><code>icy_metadata</code> (of type <code>string</code>, which
defaults to <code>"guess"</code>): Send new metadata using the ICY
protocol. One of: “guess”, “true”, “false”</li>
<li><code>on_connect</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when connection
starts.</li>
<li><code>on_disconnect</code> (of type <code>() -&gt; unit</code>,
which defaults to <code>&lt;fun&gt;</code>): Callback executed when
connection stops.</li>
<li><code>aim</code> (of type <code>string</code>, which defaults to
<code>""</code>)</li>
<li><code>icq</code> (of type <code>string</code>, which defaults to
<code>""</code>)</li>
<li><code>irc</code> (of type <code>string</code>, which defaults to
<code>""</code>)</li>
<li><code>icy_reset</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Reset shoutcast source buffer upon connecting
(necessary for NSV).</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>on_error</code> (of type <code>(string) -&gt; float</code>,
which defaults to <code>fun (_) -&gt; 3.</code>): Callback executed when
an error happens. If returned value is positive, connection wll be tried
again after this amount of time (in seconds).</li>
<li><code>(unlabeled)</code> (of type <code>format('a)</code>): Encoding
format. For shoutcast, should be mp3 or AAC(+).</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>): The
source to output</li>
</ul>
<h3 id="output.srt"><a href="#output.srt"
class="anchor"><code>output.srt</code></a></h3>
<p>Send a SRT stream to a distant host.</p>
<p>Type:</p>
<pre><code>(?id : string, ?clock_safe : bool, ?fallible : bool,
 ?host : string, ?messageapi : bool,
 ?on_start : (() -&gt; unit), ?on_stop : (() -&gt; unit),
 ?payload_size : int, ?port : int, ?start : bool,
 format(&#39;a), source(&#39;a)) -&gt; active_source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>clock_safe</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Force the use of a decicated clock.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>host</code> (of type <code>string</code>, which defaults to
<code>"localhost"</code>): Address to connect to.</li>
<li><code>messageapi</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Use message api</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>payload_size</code> (of type <code>int</code>, which defaults
to <code>1316</code>): Payload size.</li>
<li><code>port</code> (of type <code>int</code>, which defaults to
<code>8000</code>): Port to bind on the local machine. The term
<code>port</code> as used in SRT is occasionally identical to the term
<code>UDP port</code>. However SRT offers more flexibility than UDP
because it manages ports as its own resources. For example, one port may
be shared between various services.</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Automatically start outputting whenever possible. If
true, an infallible (normal) output will start outputting as soon as it
is created, and a fallible output will (re)start as soon as its source
becomes available for streaming.</li>
<li><code>(unlabeled)</code> (of type <code>format('a)</code>): Encoding
format.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="output.udp"><a href="#output.udp"
class="anchor"><code>output.udp</code></a></h3>
<p>Output encoded data to UDP, without any control whatsoever.</p>
<p>Type:</p>
<pre><code>(?id : string, ?fallible : bool, host : string,
 ?on_start : (() -&gt; unit), ?on_stop : (() -&gt; unit),
 port : int, ?start : bool, format(&#39;a), source(&#39;a)) -&gt;
active_source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>fallible</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Allow the child source to fail, in which case the
output will be (temporarily) stopped.</li>
<li><code>host</code> (of type <code>string</code>)</li>
<li><code>on_start</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
starts.</li>
<li><code>on_stop</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback executed when outputting
stops.</li>
<li><code>port</code> (of type <code>int</code>)</li>
<li><code>start</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Automatically start outputting whenever possible. If
true, an infallible (normal) output will start outputting as soon as it
is created, and a fallible output will (re)start as soon as its source
becomes available for streaming.</li>
<li><code>(unlabeled)</code> (of type <code>format('a)</code>): Encoding
format.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<p>This function is experimental.</p>
<h3 id="output.youtube.live"><a href="#output.youtube.live"
class="anchor"><code>output.youtube.live</code></a></h3>
<p>Stream live on youtube. You need the following Gstreamer plugins:
flvmux, rtmpsink, x264enc and a suitable AAC encoder (see
<code>audio_encoder</code> params).</p>
<p>Type:</p>
<pre><code>(?id : string, ?video_bitrate : int,
 ?audio_encoder : string, ?audio_bitrate : int,
 ?url : string, key : string, source(audio=&#39;#a+1,
 video=&#39;#b+1, midi=&#39;#c)) -&gt; active_source(audio=&#39;#a+1,
video=&#39;#b+1, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Source ID</li>
<li><code>video_bitrate</code> (of type <code>int</code>, which defaults
to <code>2000</code>): Video bitrate</li>
<li><code>audio_encoder</code> (of type <code>string</code>, which
defaults to <code>"fdkaacenc"</code>): Audio encoder. Can be one of:
“fdkaacenc”, “voaacenc”</li>
<li><code>audio_bitrate</code> (of type <code>int</code>, which defaults
to <code>128000</code>): Audio bitrate</li>
<li><code>url</code> (of type <code>string</code>, which defaults to
<code>"rtmp://a.rtmp.youtube.com/live2"</code>): Server URL</li>
<li><code>key</code> (of type <code>string</code>): Secret key</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a+1, video='#b+1, midi='#c)</code>): Source to
stream</li>
</ul>
<h2 id="source-sound-processing"><a href="#source-sound-processing"
class="anchor">Source / Sound Processing</a></h2>
<h3 id="add"><a href="#add" class="anchor"><code>add</code></a></h3>
<p>Mix sources, with optional normalization. Only relay metadata from
the first source that is effectively summed.</p>
<p>Type:</p>
<pre><code>(?id : string, ?normalize : bool, ?weights : [int],
 [source(audio=&#39;#a, video=&#39;#b, midi=0)]) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>normalize</code> (of type <code>bool</code>, which defaults to
<code>true</code>)</li>
<li><code>weights</code> (of type <code>[int]</code>, which defaults to
<code>[]</code>): Relative weight of the sources in the sum. The empty
list stands for the homogeneous distribution.</li>
<li><code>(unlabeled)</code> (of type
<code>[source(audio='#a, video='#b, midi=0)]</code>)</li>
</ul>
<h3 id="amplify"><a href="#amplify"
class="anchor"><code>amplify</code></a></h3>
<p>Multiply the amplitude of the signal.</p>
<p>Type:</p>
<pre><code>(?id : string, ?override : string, {float},
 source(audio=&#39;#b, video=&#39;#c, midi=&#39;#d)) -&gt;
source(audio=&#39;#b, video=&#39;#c, midi=&#39;#d)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>override</code> (of type <code>string</code>, which defaults
to <code>"liq_amplify"</code>): Specify the name of a metadata field
that, when present and well-formed, overrides the amplification factor
for the current track. Well-formed values are floats in decimal notation
(e.g. <code>0.7</code>) which are taken as normal/linear multiplicative
factors; values can be passed in decibels with the suffix
<code>dB</code> (e.g. <code>-8.2 dB</code>, but the spaces do not
matter). Set to empty string <code>""</code> to disable.</li>
<li><code>(unlabeled)</code> (of type <code>{float}</code>):
Multiplicative factor.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#b, video='#c, midi='#d)</code>)</li>
</ul>
<h3 id="bpm"><a href="#bpm" class="anchor"><code>bpm</code></a></h3>
<p>Detect the BPM.</p>
<p>Type:</p>
<pre><code>(?id : string, ?every : float, ((float) -&gt; unit),
 source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>every</code> (of type <code>float</code>, which defaults to
<code>1.0</code>): Interval at which BPM is computed (in second).</li>
<li><code>(unlabeled)</code> (of type <code>(float) -&gt; unit</code>):
Callback function.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="clip"><a href="#clip" class="anchor"><code>clip</code></a></h3>
<p>Clip samples, i.e. ensure that all values are between -1 and 1:
values lower than -1 become -1 and values higher than 1 become 1.</p>
<p>Type:</p>
<pre><code>(?id : string, source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="comb"><a href="#comb" class="anchor"><code>comb</code></a></h3>
<p>Comb filter.</p>
<p>Type:</p>
<pre><code>(?id : string, ?delay : float, ?feedback : {float},
 source(audio=&#39;#b, video=&#39;#c, midi=&#39;#d)) -&gt;
source(audio=&#39;#b, video=&#39;#c, midi=&#39;#d)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>delay</code> (of type <code>float</code>, which defaults to
<code>0.001</code>): Delay in seconds.</li>
<li><code>feedback</code> (of type <code>{float}</code>, which defaults
to <code>-6.0</code>): Feedback coefficient in dB.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#b, video='#c, midi='#d)</code>)</li>
</ul>
<h3 id="compand"><a href="#compand"
class="anchor"><code>compand</code></a></h3>
<p>Compand the signal</p>
<p>Type:</p>
<pre><code>(?id : string, ?mu : float, source(audio=&#39;#a, video=&#39;#b,
 midi=&#39;#c)) -&gt; source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>mu</code> (of type <code>float</code>, which defaults to
<code>1.0</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="compress"><a href="#compress"
class="anchor"><code>compress</code></a></h3>
<p>Compress the signal.</p>
<p>Type:</p>
<pre><code>(?id : string, ?attack : {float}, ?gain : {float},
 ?knee : {float}, ?ratio : {float}, ?release : {float},
 ?threshold : {float}, ?window : float, source(audio=&#39;#g,
 video=&#39;#h, midi=&#39;#i)) -&gt; source(audio=&#39;#g, video=&#39;#h,
midi=&#39;#i)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>attack</code> (of type <code>{float}</code>, which defaults to
<code>100.0</code>): Attack time (ms).</li>
<li><code>gain</code> (of type <code>{float}</code>, which defaults to
<code>0.0</code>): Additional gain (dB).</li>
<li><code>knee</code> (of type <code>{float}</code>, which defaults to
<code>1.0</code>): Knee radius (dB).</li>
<li><code>ratio</code> (of type <code>{float}</code>, which defaults to
<code>2.0</code>): Gain reduction ratio (n:1).</li>
<li><code>release</code> (of type <code>{float}</code>, which defaults
to <code>400.0</code>): Release time (ms).</li>
<li><code>threshold</code> (of type <code>{float}</code>, which defaults
to <code>-10.0</code>): Threshold level (dB).</li>
<li><code>window</code> (of type <code>float</code>, which defaults to
<code>0.1</code>): Window for computing RMS (in sec).</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#g, video='#h, midi='#i)</code>)</li>
</ul>
<h3 id="compress.exponential"><a href="#compress.exponential"
class="anchor"><code>compress.exponential</code></a></h3>
<p>Exponential compressor.</p>
<p>Type:</p>
<pre><code>(?id : string, ?mu : float, source(audio=&#39;#a, video=&#39;#b,
 midi=&#39;#c)) -&gt; source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>mu</code> (of type <code>float</code>, which defaults to
<code>2.0</code>): Exponential compression factor, typically greater
than 1.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="cross"><a href="#cross"
class="anchor"><code>cross</code></a></h3>
<p>Cross operator, allowing the composition of the N last seconds of a
track with the beginning of the next track, using a transition function
depending on the relative power of the signal before and after the end
of track.</p>
<p>Type:</p>
<pre><code>(?id : string, ?active : bool, ?conservative : bool,
 ?duration : float, ?minimum : float,
 ?override_duration : string, ?width : float,
 ((float, float, [string * string], [string * string],
   source(audio=&#39;#a+1, video=0, midi=0),
   source(audio=&#39;#a+1, video=0, midi=0)) -&gt;
  source(audio=&#39;#a+1, video=0, midi=0)),
 source(audio=&#39;#a+1, video=0, midi=0)) -&gt;
source(audio=&#39;#a+1, video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>active</code> (of type <code>bool</code>, which defaults to
<code>false</code>): The active behavior is to keep ticking the child’s
clock when the operator is not streaming. Otherwise the child’s clock is
strictly based on what is streamed off the child source, which results
in time-dependent active sources to be frozen when that source is
stopped.</li>
<li><code>conservative</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Do not trust remaining time estimations, always
buffering data in advance. This avoids being tricked by skips, either
manual or caused by skip_blank().</li>
<li><code>duration</code> (of type <code>float</code>, which defaults to
<code>5.0</code>): Duration (in seconds) of buffered data from each
track that is used to compute the transision between tracks.</li>
<li><code>minimum</code> (of type <code>float</code>, which defaults to
<code>-1.0</code>): Minimum duration (in sec.) for a cross: If the track
ends without any warning (e.g. in case of skip) there may not be enough
data for a decent composition. Set to 0. to avoid having transitions
after skips, or more to avoid transitions on short tracks. With a
negative default, transitions always occur.</li>
<li><code>override_duration</code> (of type <code>string</code>, which
defaults to <code>"liq_cross_duration"</code>): Metadata field which, if
present and containing a float, overrides the ‘duration’ parameter for
current track.</li>
<li><code>width</code> (of type <code>float</code>, which defaults to
<code>2.0</code>): Width of the power computation window.</li>
<li><code>(unlabeled)</code> (of type
<code>(float, float, [string * string], [string * string],  source(audio='#a+1, video=0, midi=0),  source(audio='#a+1, video=0, midi=0)) -&gt; source(audio='#a+1, video=0, midi=0)</code>):
Transition function, composing from the end of a track and the next
track. It also takes the power of the signal before and after the
transition, and the metadata.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a+1, video=0, midi=0)</code>)</li>
</ul>
<h3 id="echo"><a href="#echo" class="anchor"><code>echo</code></a></h3>
<p>Add echo.</p>
<p>Type:</p>
<pre><code>(?id : string, ?delay : {float}, ?feedback : {float},
 ?ping_pong : bool, source(audio=&#39;#c, video=&#39;#d,
 midi=&#39;#e)) -&gt; source(audio=&#39;#c, video=&#39;#d, midi=&#39;#e)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>delay</code> (of type <code>{float}</code>, which defaults to
<code>0.5</code>): Delay in seconds.</li>
<li><code>feedback</code> (of type <code>{float}</code>, which defaults
to <code>-6.0</code>): Feedback coefficient in dB (negative).</li>
<li><code>ping_pong</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Use ping-pong delay.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#c, video='#d, midi='#e)</code>)</li>
</ul>
<h3 id="fade.final"><a href="#fade.final"
class="anchor"><code>fade.final</code></a></h3>
<p>Fade a stream to silence.</p>
<p>Type:</p>
<pre><code>(?id : string, ?duration : float, ?type : string,
 source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>"fade.final"</code>): Force the value of the source ID.</li>
<li><code>duration</code> (of type <code>float</code>, which defaults to
<code>3.0</code>): Duration of the fading.</li>
<li><code>type</code> (of type <code>string</code>, which defaults to
<code>"lin"</code>): Fader shape (lin|sin|log|exp): linear, sinusoidal,
logarithmic or exponential.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="fade.in"><a href="#fade.in"
class="anchor"><code>fade.in</code></a></h3>
<p>Fade the beginning of tracks.</p>
<p>Type:</p>
<pre><code>(?id : string, ?duration : float,
 ?override_duration : string, ?override_type : string,
 ?type : string, source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>"fade.in"</code>): Force the value of the source ID.</li>
<li><code>duration</code> (of type <code>float</code>, which defaults to
<code>3.0</code>): Duration of the fading. This value can be set on a
per-file basis using the metadata field passed as override.</li>
<li><code>override_duration</code> (of type <code>string</code>, which
defaults to <code>"liq_fade_in"</code>): Metadata field which, if
present and containing a float, overrides the ‘duration’ parameter for
current track.</li>
<li><code>override_type</code> (of type <code>string</code>, which
defaults to <code>"liq_fade_type"</code>): Metadata field which, if
present and correct, overrides the ‘type’ parameter for current
track.</li>
<li><code>type</code> (of type <code>string</code>, which defaults to
<code>"lin"</code>): Fader shape (lin|sin|log|exp): linear, sinusoidal,
logarithmic or exponential.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="fade.initial"><a href="#fade.initial"
class="anchor"><code>fade.initial</code></a></h3>
<p>Fade the beginning of a stream.</p>
<p>Type:</p>
<pre><code>(?id : string, ?duration : float, ?type : string,
 source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>"fade.initial"</code>): Force the value of the source ID.</li>
<li><code>duration</code> (of type <code>float</code>, which defaults to
<code>3.0</code>): Duration of the fading.</li>
<li><code>type</code> (of type <code>string</code>, which defaults to
<code>"lin"</code>): Fader shape (lin|sin|log|exp): linear, sinusoidal,
logarithmic or exponential.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="fade.out"><a href="#fade.out"
class="anchor"><code>fade.out</code></a></h3>
<p>Fade the end of tracks.</p>
<p>Type:</p>
<pre><code>(?id : string, ?duration : float,
 ?override_duration : string, ?override_type : string,
 ?type : string, source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>"fade.out"</code>): Force the value of the source ID.</li>
<li><code>duration</code> (of type <code>float</code>, which defaults to
<code>3.0</code>): Duration of the fading. This value can be set on a
per-file basis using the metadata field passed as override.</li>
<li><code>override_duration</code> (of type <code>string</code>, which
defaults to <code>"liq_fade_out"</code>): Metadata field which, if
present and containing a float, overrides the ‘duration’ parameter for
current track.</li>
<li><code>override_type</code> (of type <code>string</code>, which
defaults to <code>"liq_fade_type"</code>): Metadata field which, if
present and correct, overrides the ‘type’ parameter for current
track.</li>
<li><code>type</code> (of type <code>string</code>, which defaults to
<code>"lin"</code>): Fader shape (lin|sin|log|exp): linear, sinusoidal,
logarithmic or exponential.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="fade.skip"><a href="#fade.skip"
class="anchor"><code>fade.skip</code></a></h3>
<p>Fade when the metadata trigger is received and then skip.</p>
<p>Type:</p>
<pre><code>(?id : string, ?duration : float,
 ?override_duration : string, ?override_type : string,
 ?override_skip : string, ?type : string,
 source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>"fade.skip"</code>): Force the value of the source ID.</li>
<li><code>duration</code> (of type <code>float</code>, which defaults to
<code>5.0</code>): Duration of the fading. This value can be set on a
per-file basis using the metadata field passed as override.</li>
<li><code>override_duration</code> (of type <code>string</code>, which
defaults to <code>"liq_fade_skip"</code>): Metadata field which, if
present and containing a float, overrides the ‘duration’ parameter for
current track.</li>
<li><code>override_type</code> (of type <code>string</code>, which
defaults to <code>"liq_fade_skip"</code>): Metadata field which, if
present and correct, overrides the ‘type’ parameter for current
track.</li>
<li><code>override_skip</code> (of type <code>string</code>, which
defaults to <code>"liq_skip_meta"</code>)</li>
<li><code>type</code> (of type <code>string</code>, which defaults to
<code>"lin"</code>): Fader shape (lin|sin|log|exp): linear, sinusoidal,
logarithmic or exponential.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="filter"><a href="#filter"
class="anchor"><code>filter</code></a></h3>
<p>Perform several kinds of filtering on the signal</p>
<p>Type:</p>
<pre><code>(?id : string, freq : {float}, mode : string,
 ?q : {float}, ?wetness : {float}, source(audio=&#39;#d,
 video=&#39;#e, midi=&#39;#f)) -&gt; source(audio=&#39;#d, video=&#39;#e,
midi=&#39;#f)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>freq</code> (of type <code>{float}</code>)</li>
<li><code>mode</code> (of type <code>string</code>): Available modes are
‘low’ (for low-pass filter), ‘high’ (for high-pass filter), ‘band’ (for
band-pass filter) and ‘notch’ (for notch / band-stop / band-rejection
filter).</li>
<li><code>q</code> (of type <code>{float}</code>, which defaults to
<code>1.0</code>)</li>
<li><code>wetness</code> (of type <code>{float}</code>, which defaults
to <code>1.0</code>): How much of the original signal should be added
(1. means only filtered and 0. means only original signal).</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#d, video='#e, midi='#f)</code>)</li>
</ul>
<h3 id="filter.fir"><a href="#filter.fir"
class="anchor"><code>filter.fir</code></a></h3>
<p>Low-pass FIR filter.</p>
<p>Type:</p>
<pre><code>(?id : string, beta : float, ?coeffs : int,
 frequency : float, source(audio=&#39;#a, video=&#39;#b,
 midi=&#39;#c)) -&gt; source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>beta</code> (of type <code>float</code>): Beta should range
between 0 and 1.</li>
<li><code>coeffs</code> (of type <code>int</code>, which defaults to
<code>255</code>): Number of coefficients</li>
<li><code>frequency</code> (of type <code>float</code>): Corner
frequency in Hz (frequency at which the response is 0.5, that is -6
dB).</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="filter.iir.butterworth.bandpass"><a
href="#filter.iir.butterworth.bandpass"
class="anchor"><code>filter.iir.butterworth.bandpass</code></a></h3>
<p>IIR filter</p>
<p>Type:</p>
<pre><code>(?id : string, frequency1 : float, frequency2 : float,
 ?order : int, source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>frequency1</code> (of type <code>float</code>): First corner
frequency</li>
<li><code>frequency2</code> (of type <code>float</code>): Second corner
frequency</li>
<li><code>order</code> (of type <code>int</code>, which defaults to
<code>4</code>): Filter order</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="filter.iir.butterworth.bandstop"><a
href="#filter.iir.butterworth.bandstop"
class="anchor"><code>filter.iir.butterworth.bandstop</code></a></h3>
<p>IIR filter</p>
<p>Type:</p>
<pre><code>(?id : string, frequency1 : float, frequency2 : float,
 ?order : int, source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>frequency1</code> (of type <code>float</code>): First corner
frequency</li>
<li><code>frequency2</code> (of type <code>float</code>): Second corner
frequency</li>
<li><code>order</code> (of type <code>int</code>, which defaults to
<code>4</code>): Filter order</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="filter.iir.butterworth.high"><a
href="#filter.iir.butterworth.high"
class="anchor"><code>filter.iir.butterworth.high</code></a></h3>
<p>IIR filter</p>
<p>Type:</p>
<pre><code>(?id : string, frequency : float, ?order : int,
 source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>frequency</code> (of type <code>float</code>): Corner
frequency</li>
<li><code>order</code> (of type <code>int</code>, which defaults to
<code>4</code>): Filter order</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="filter.iir.butterworth.low"><a
href="#filter.iir.butterworth.low"
class="anchor"><code>filter.iir.butterworth.low</code></a></h3>
<p>IIR filter</p>
<p>Type:</p>
<pre><code>(?id : string, frequency : float, ?order : int,
 source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>frequency</code> (of type <code>float</code>): Corner
frequency</li>
<li><code>order</code> (of type <code>int</code>, which defaults to
<code>4</code>): Filter order</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="filter.iir.eq.allpass"><a href="#filter.iir.eq.allpass"
class="anchor"><code>filter.iir.eq.allpass</code></a></h3>
<p>All pass biquad filter.</p>
<p>Type:</p>
<pre><code>(?id : string, ?bandwidth : float, frequency : float,
 source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>bandwidth</code> (of type <code>float</code>, which defaults
to <code>0.333333333333</code>): Bandwidth (in octaves)</li>
<li><code>frequency</code> (of type <code>float</code>): Center
frequency</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="filter.iir.eq.bandpass"><a href="#filter.iir.eq.bandpass"
class="anchor"><code>filter.iir.eq.bandpass</code></a></h3>
<p>Band pass biquad filter.</p>
<p>Type:</p>
<pre><code>(?id : string, frequency : float, ?q : float,
 source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>frequency</code> (of type <code>float</code>): Center
frequency</li>
<li><code>q</code> (of type <code>float</code>, which defaults to
<code>1.0</code>): Q</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="filter.iir.eq.high"><a href="#filter.iir.eq.high"
class="anchor"><code>filter.iir.eq.high</code></a></h3>
<p>High pass biquad filter.</p>
<p>Type:</p>
<pre><code>(?id : string, frequency : float, ?q : float,
 source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>frequency</code> (of type <code>float</code>): Corner
frequency</li>
<li><code>q</code> (of type <code>float</code>, which defaults to
<code>1.0</code>): Q</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="filter.iir.eq.highshelf"><a href="#filter.iir.eq.highshelf"
class="anchor"><code>filter.iir.eq.highshelf</code></a></h3>
<p>High shelf biquad filter.</p>
<p>Type:</p>
<pre><code>(?id : string, frequency : float, ?slope : float,
 source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>frequency</code> (of type <code>float</code>): Center
frequency</li>
<li><code>slope</code> (of type <code>float</code>, which defaults to
<code>1.0</code>): Shelf slope (in dB/octave)</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="filter.iir.eq.low"><a href="#filter.iir.eq.low"
class="anchor"><code>filter.iir.eq.low</code></a></h3>
<p>Low pass biquad filter.</p>
<p>Type:</p>
<pre><code>(?id : string, frequency : float, ?q : float,
 source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>frequency</code> (of type <code>float</code>): Corner
frequency</li>
<li><code>q</code> (of type <code>float</code>, which defaults to
<code>1.0</code>): Q</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="filter.iir.eq.lowshelf"><a href="#filter.iir.eq.lowshelf"
class="anchor"><code>filter.iir.eq.lowshelf</code></a></h3>
<p>Low shelf biquad filter.</p>
<p>Type:</p>
<pre><code>(?id : string, frequency : float, ?slope : float,
 source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>frequency</code> (of type <code>float</code>): Corner
frequency</li>
<li><code>slope</code> (of type <code>float</code>, which defaults to
<code>1.0</code>): Shelf slope (dB/octave)</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="filter.iir.eq.notch"><a href="#filter.iir.eq.notch"
class="anchor"><code>filter.iir.eq.notch</code></a></h3>
<p>Band pass biquad filter.</p>
<p>Type:</p>
<pre><code>(?id : string, frequency : float, ?q : float,
 source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>frequency</code> (of type <code>float</code>): Center
frequency</li>
<li><code>q</code> (of type <code>float</code>, which defaults to
<code>1.0</code>): Q</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="filter.iir.eq.peak"><a href="#filter.iir.eq.peak"
class="anchor"><code>filter.iir.eq.peak</code></a></h3>
<p>Peak EQ biquad filter.</p>
<p>Type:</p>
<pre><code>(?id : string, frequency : float, ?gain : float,
 ?q : float, source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>frequency</code> (of type <code>float</code>): Center
frequency</li>
<li><code>gain</code> (of type <code>float</code>, which defaults to
<code>1.0</code>): Gain (in dB)</li>
<li><code>q</code> (of type <code>float</code>, which defaults to
<code>1.0</code>): Q</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="filter.iir.resonator.allpass"><a
href="#filter.iir.resonator.allpass"
class="anchor"><code>filter.iir.resonator.allpass</code></a></h3>
<p>IIR filter</p>
<p>Type:</p>
<pre><code>(?id : string, frequency : float, ?q : float,
 source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>frequency</code> (of type <code>float</code>): Corner
frequency</li>
<li><code>q</code> (of type <code>float</code>, which defaults to
<code>60.0</code>): Quality factor</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="filter.iir.resonator.bandpass"><a
href="#filter.iir.resonator.bandpass"
class="anchor"><code>filter.iir.resonator.bandpass</code></a></h3>
<p>IIR filter</p>
<p>Type:</p>
<pre><code>(?id : string, frequency : float, ?q : float,
 source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>frequency</code> (of type <code>float</code>): Corner
frequency</li>
<li><code>q</code> (of type <code>float</code>, which defaults to
<code>60.0</code>): Quality factor</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="filter.iir.resonator.bandstop"><a
href="#filter.iir.resonator.bandstop"
class="anchor"><code>filter.iir.resonator.bandstop</code></a></h3>
<p>IIR filter</p>
<p>Type:</p>
<pre><code>(?id : string, frequency : float, ?q : float,
 source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>frequency</code> (of type <code>float</code>): Corner
frequency</li>
<li><code>q</code> (of type <code>float</code>, which defaults to
<code>60.0</code>): Quality factor</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="filter.rc"><a href="#filter.rc"
class="anchor"><code>filter.rc</code></a></h3>
<p>First-order filter (RC filter).</p>
<p>Type:</p>
<pre><code>(?id : string, mode : string, rc : {float},
 ?wetness : {float}, source(audio=&#39;#c, video=&#39;#d,
 midi=&#39;#e)) -&gt; source(audio=&#39;#c, video=&#39;#d, midi=&#39;#e)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>mode</code> (of type <code>string</code>): Available modes are
‘low’ (for low-pass filter), ‘high’ (for high-pass filter).</li>
<li><code>rc</code> (of type <code>{float}</code>): Time constant (in
seconds).</li>
<li><code>wetness</code> (of type <code>{float}</code>, which defaults
to <code>1.0</code>): How much of the original signal should be added
(1. means only filtered and 0. means only original signal).</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#c, video='#d, midi='#e)</code>)</li>
</ul>
<h3 id="flanger"><a href="#flanger"
class="anchor"><code>flanger</code></a></h3>
<p>Flanger effect.</p>
<p>Type:</p>
<pre><code>(?id : string, ?delay : float, ?feedback : {float},
 ?freq : {float}, ?phase : {float}, source(audio=&#39;#d,
 video=&#39;#e, midi=&#39;#f)) -&gt; source(audio=&#39;#d, video=&#39;#e,
midi=&#39;#f)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>delay</code> (of type <code>float</code>, which defaults to
<code>0.001</code>): Delay in seconds.</li>
<li><code>feedback</code> (of type <code>{float}</code>, which defaults
to <code>0.0</code>): Feedback coefficient in dB.</li>
<li><code>freq</code> (of type <code>{float}</code>, which defaults to
<code>0.5</code>): Frequency in Hz.</li>
<li><code>phase</code> (of type <code>{float}</code>, which defaults to
<code>1.0</code>): Phase difference between channels in radians.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#d, video='#e, midi='#f)</code>)</li>
</ul>
<h3 id="helium"><a href="#helium"
class="anchor"><code>helium</code></a></h3>
<p>Increases the pitch, making voices sound like on helium.</p>
<p>Type:</p>
<pre><code>(source(audio=&#39;#a+1, video=0, midi=0)) -&gt;
source(audio=&#39;#a+1, video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a+1, video=0, midi=0)</code>): The input
source.</li>
</ul>
<h3 id="ladspa.amp_mono"><a href="#ladspa.amp_mono"
class="anchor"><code>ladspa.amp_mono</code></a></h3>
<p>Mono Amplifier by Richard Furse (LADSPA example plugins).</p>
<p>Type:</p>
<pre><code>(?id : string, ?gain : {float}, source(audio=&#39;#b,
 video=&#39;#c, midi=&#39;#d)) -&gt; source(audio=&#39;#b, video=&#39;#c,
midi=&#39;#d)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>gain</code> (of type <code>{float}</code>, which defaults to
<code>1.0</code>): Gain (0 &lt;= <code>gain</code>).</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#b, video='#c, midi='#d)</code>)</li>
</ul>
<h3 id="ladspa.amp_stereo"><a href="#ladspa.amp_stereo"
class="anchor"><code>ladspa.amp_stereo</code></a></h3>
<p>Stereo Amplifier by Richard Furse (LADSPA example plugins).</p>
<p>Type:</p>
<pre><code>(?id : string, ?gain : {float}, source(audio=2, video=0,
 midi=0)) -&gt; source(audio=2, video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>gain</code> (of type <code>{float}</code>, which defaults to
<code>1.0</code>): Gain (0 &lt;= <code>gain</code>).</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio=2, video=0, midi=0)</code>)</li>
</ul>
<h3 id="ladspa.delay_5s"><a href="#ladspa.delay_5s"
class="anchor"><code>ladspa.delay_5s</code></a></h3>
<p>Simple Delay Line by Richard Furse (LADSPA example plugins).</p>
<p>Type:</p>
<pre><code>(?id : string, ?delay : {float},
 ?dry_wet_balance : {float}, source(audio=&#39;#c, video=&#39;#d,
 midi=&#39;#e)) -&gt; source(audio=&#39;#c, video=&#39;#d, midi=&#39;#e)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>delay</code> (of type <code>{float}</code>, which defaults to
<code>1.0</code>): Delay (Seconds) (0 &lt;= <code>delay</code> &lt;=
5).</li>
<li><code>dry_wet_balance</code> (of type <code>{float}</code>, which
defaults to <code>0.5</code>): Dry/Wet Balance (0 &lt;=
<code>dry_wet_balance</code> &lt;= 1).</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#c, video='#d, midi='#e)</code>)</li>
</ul>
<h3 id="ladspa.hpf"><a href="#ladspa.hpf"
class="anchor"><code>ladspa.hpf</code></a></h3>
<p>Simple High Pass Filter by Richard Furse (LADSPA example
plugins).</p>
<p>Type:</p>
<pre><code>(?id : string, ?cutoff_frequency : {float},
 source(audio=&#39;#b, video=&#39;#c, midi=&#39;#d)) -&gt;
source(audio=&#39;#b, video=&#39;#c, midi=&#39;#d)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>cutoff_frequency</code> (of type <code>{float}</code>, which
defaults to <code>440.0</code>): Cutoff Frequency (Hz) (0 &lt;=
<code>cutoff_frequency</code> &lt;= 22050).</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#b, video='#c, midi='#d)</code>)</li>
</ul>
<h3 id="ladspa.lpf"><a href="#ladspa.lpf"
class="anchor"><code>ladspa.lpf</code></a></h3>
<p>Simple Low Pass Filter by Richard Furse (LADSPA example plugins).</p>
<p>Type:</p>
<pre><code>(?id : string, ?cutoff_frequency : {float},
 source(audio=&#39;#b, video=&#39;#c, midi=&#39;#d)) -&gt;
source(audio=&#39;#b, video=&#39;#c, midi=&#39;#d)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>cutoff_frequency</code> (of type <code>{float}</code>, which
defaults to <code>440.0</code>): Cutoff Frequency (Hz) (0 &lt;=
<code>cutoff_frequency</code> &lt;= 22050).</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#b, video='#c, midi='#d)</code>)</li>
</ul>
<h3 id="ladspa.noise_white"><a href="#ladspa.noise_white"
class="anchor"><code>ladspa.noise_white</code></a></h3>
<p>White Noise Source by Richard Furse (LADSPA example plugins).</p>
<p>Type:</p>
<pre><code>(?id : string, ?amplitude : {float}) -&gt; source(audio=1,
video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>amplitude</code> (of type <code>{float}</code>, which defaults
to <code>1.0</code>): Amplitude (0 &lt;= <code>amplitude</code>).</li>
</ul>
<h3 id="ladspa.sine_faaa"><a href="#ladspa.sine_faaa"
class="anchor"><code>ladspa.sine_faaa</code></a></h3>
<p>Sine Oscillator (Freq:audio, Amp:audio) by Richard Furse (LADSPA
example plugins).</p>
<p>Type:</p>
<pre><code>(?id : string, source(audio=2, video=0, midi=0)) -&gt;
source(audio=1, video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio=2, video=0, midi=0)</code>)</li>
</ul>
<h3 id="ladspa.sine_faac"><a href="#ladspa.sine_faac"
class="anchor"><code>ladspa.sine_faac</code></a></h3>
<p>Sine Oscillator (Freq:audio, Amp:control) by Richard Furse (LADSPA
example plugins).</p>
<p>Type:</p>
<pre><code>(?id : string, ?amplitude : {float}, source(audio=&#39;#b,
 video=&#39;#c, midi=&#39;#d)) -&gt; source(audio=&#39;#b, video=&#39;#c,
midi=&#39;#d)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>amplitude</code> (of type <code>{float}</code>, which defaults
to <code>1.0</code>): Amplitude (0 &lt;= <code>amplitude</code>).</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#b, video='#c, midi='#d)</code>)</li>
</ul>
<h3 id="ladspa.sine_fcaa"><a href="#ladspa.sine_fcaa"
class="anchor"><code>ladspa.sine_fcaa</code></a></h3>
<p>Sine Oscillator (Freq:control, Amp:audio) by Richard Furse (LADSPA
example plugins).</p>
<p>Type:</p>
<pre><code>(?id : string, ?frequency : {float}, source(audio=&#39;#b,
 video=&#39;#c, midi=&#39;#d)) -&gt; source(audio=&#39;#b, video=&#39;#c,
midi=&#39;#d)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>frequency</code> (of type <code>{float}</code>, which defaults
to <code>440.0</code>): Frequency (Hz) (0 &lt;= <code>frequency</code>
&lt;= 22050).</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#b, video='#c, midi='#d)</code>)</li>
</ul>
<h3 id="ladspa.sine_fcac"><a href="#ladspa.sine_fcac"
class="anchor"><code>ladspa.sine_fcac</code></a></h3>
<p>Sine Oscillator (Freq:control, Amp:control) by Richard Furse (LADSPA
example plugins).</p>
<p>Type:</p>
<pre><code>(?id : string, ?amplitude : {float},
 ?frequency : {float}) -&gt; source(audio=1, video=0,
midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>amplitude</code> (of type <code>{float}</code>, which defaults
to <code>1.0</code>): Amplitude (0 &lt;= <code>amplitude</code>).</li>
<li><code>frequency</code> (of type <code>{float}</code>, which defaults
to <code>440.0</code>): Frequency (Hz) (0 &lt;= <code>frequency</code>
&lt;= 22050).</li>
</ul>
<h3 id="limit"><a href="#limit"
class="anchor"><code>limit</code></a></h3>
<p>Limit the signal.</p>
<p>Type:</p>
<pre><code>(?id : string, ?attack : {float}, ?gain : {float},
 ?knee : {float}, ?ratio : {float}, ?release : {float},
 ?threshold : {float}, ?window : float, source(audio=&#39;#g,
 video=&#39;#h, midi=&#39;#i)) -&gt; source(audio=&#39;#g, video=&#39;#h,
midi=&#39;#i)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>attack</code> (of type <code>{float}</code>, which defaults to
<code>100.0</code>): Attack time (ms).</li>
<li><code>gain</code> (of type <code>{float}</code>, which defaults to
<code>0.0</code>): Additional gain (dB).</li>
<li><code>knee</code> (of type <code>{float}</code>, which defaults to
<code>1.0</code>): Knee radius (dB).</li>
<li><code>ratio</code> (of type <code>{float}</code>, which defaults to
<code>20.0</code>): Gain reduction ratio (n:1).</li>
<li><code>release</code> (of type <code>{float}</code>, which defaults
to <code>400.0</code>): Release time (ms).</li>
<li><code>threshold</code> (of type <code>{float}</code>, which defaults
to <code>-10.0</code>): Threshold level (dB).</li>
<li><code>window</code> (of type <code>float</code>, which defaults to
<code>0.1</code>): Window for computing RMS (in sec).</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#g, video='#h, midi='#i)</code>)</li>
</ul>
<h3 id="mic_filter"><a href="#mic_filter"
class="anchor"><code>mic_filter</code></a></h3>
<p>Remove low frequencies often produced by microphones.</p>
<p>Type:</p>
<pre><code>(source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>): The input
source.</li>
</ul>
<h3 id="mix"><a href="#mix" class="anchor"><code>mix</code></a></h3>
<p>Mixing table controllable via the telnet interface.</p>
<p>Type:</p>
<pre><code>(?id : string, [source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)]) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type
<code>[source(audio='#a, video='#b, midi='#c)]</code>)</li>
</ul>
<h3 id="normalize"><a href="#normalize"
class="anchor"><code>normalize</code></a></h3>
<p>Normalize the signal. Dynamic normalization of the signal is
sometimes the only option, and can make a listening experience much
nicer. However, its dynamic aspect implies some limitations which can go
as far as creating saturation in some extreme cases. If possible,
consider using some track-based normalization techniques such as those
based on replay gain. See the documentation for more details.</p>
<p>Type:</p>
<pre><code>(?id : string, ?gain_max : {float}, ?gain_min : {float},
 ?k_down : {float}, ?k_up : {float}, ?target : {float},
 ?threshold : {float}, ?window : float, source(audio=&#39;#g,
 video=&#39;#h, midi=&#39;#i)) -&gt; source(audio=&#39;#g, video=&#39;#h,
midi=&#39;#i)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>gain_max</code> (of type <code>{float}</code>, which defaults
to <code>6.0</code>): Maximal gain value (dB).</li>
<li><code>gain_min</code> (of type <code>{float}</code>, which defaults
to <code>-6.0</code>): Minimal gain value (dB).</li>
<li><code>k_down</code> (of type <code>{float}</code>, which defaults to
<code>0.1</code>): Coefficient when the power must go down (between 0
and 1, slowest to fastest).</li>
<li><code>k_up</code> (of type <code>{float}</code>, which defaults to
<code>0.005</code>): Coefficient when the power must go up (between 0
and 1, slowest to fastest).</li>
<li><code>target</code> (of type <code>{float}</code>, which defaults to
<code>-13.0</code>): Desired RMS (dB).</li>
<li><code>threshold</code> (of type <code>{float}</code>, which defaults
to <code>-40.0</code>): Minimal RMS for activaing gain control
(dB).</li>
<li><code>window</code> (of type <code>float</code>, which defaults to
<code>0.1</code>): Duration of the window used to compute the current
RMS power (second).</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#g, video='#h, midi='#i)</code>)</li>
</ul>
<h3 id="nrj"><a href="#nrj" class="anchor"><code>nrj</code></a></h3>
<p>Compress and normalize, producing a more uniform and “full”
sound.</p>
<p>Type:</p>
<pre><code>(source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>): The input
source.</li>
</ul>
<h3 id="pipe"><a href="#pipe" class="anchor"><code>pipe</code></a></h3>
<p>Process audio signal through a given process stdin/stdout.</p>
<p>Type:</p>
<pre><code>(?id : string, ?buffer : float, ?data_length : int,
 ?max : float, process : string, ?replay_delay : float,
 ?restart : bool, ?restart_on_error : bool,
 source(audio=&#39;#a+1, video=0, midi=0)) -&gt;
source(audio=&#39;#b+1, video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>buffer</code> (of type <code>float</code>, which defaults to
<code>1.0</code>): Duration of the pre-buffered data.</li>
<li><code>data_length</code> (of type <code>int</code>, which defaults
to <code>-1</code>): Length passed in the WAV data chunk. Data is
streamed so no the consuming program should process it as it comes. Some
program operate better when this value is set to <code>0</code>, some
other when it is set to the maximum length allowed by the WAV specs. Use
any negative value to set to maximum length.</li>
<li><code>max</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Maximum duration of the buffered data.</li>
<li><code>process</code> (of type <code>string</code>): Process used to
pipe data to.</li>
<li><code>replay_delay</code> (of type <code>float</code>, which
defaults to <code>-1.0</code>): Replay track marks and metadata from the
input source on the output after a given delay. If negative (default)
close and flush the process on each track and metadata to get an exact
timing.</li>
<li><code>restart</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Restart process when exited.</li>
<li><code>restart_on_error</code> (of type <code>bool</code>, which
defaults to <code>true</code>): Restart process when exited with
error.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a+1, video=0, midi=0)</code>)</li>
</ul>
<h3 id="sky"><a href="#sky" class="anchor"><code>sky</code></a></h3>
<p>Multiband-compression.</p>
<p>Type:</p>
<pre><code>(source(audio=&#39;#a, video=&#39;#b, midi=0)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi=0)</code>): The input
source.</li>
</ul>
<h3 id="soundtouch"><a href="#soundtouch"
class="anchor"><code>soundtouch</code></a></h3>
<p>Change the rate, the tempo or the pitch of the sound.</p>
<p>Type:</p>
<pre><code>(?id : string, ?pitch : {float}, ?rate : {float},
 ?tempo : {float}, source(audio=&#39;#d+1, video=0, midi=0)) -&gt;
source(audio=&#39;#d+1, video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>pitch</code> (of type <code>{float}</code>, which defaults to
<code>1.0</code>)</li>
<li><code>rate</code> (of type <code>{float}</code>, which defaults to
<code>1.0</code>)</li>
<li><code>tempo</code> (of type <code>{float}</code>, which defaults to
<code>1.0</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#d+1, video=0, midi=0)</code>)</li>
</ul>
<p>This function is experimental.</p>
<h3 id="stereo.ms.decode"><a href="#stereo.ms.decode"
class="anchor"><code>stereo.ms.decode</code></a></h3>
<p>Decode mid+side stereo (M/S) to left+right stereo.</p>
<p>Type:</p>
<pre><code>(?id : string, ?width : float, source(audio=2, video=0,
 midi=0)) -&gt; source(audio=2, video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>width</code> (of type <code>float</code>, which defaults to
<code>1.0</code>): Width of the stereo field.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio=2, video=0, midi=0)</code>)</li>
</ul>
<h3 id="stereo.ms.encode"><a href="#stereo.ms.encode"
class="anchor"><code>stereo.ms.encode</code></a></h3>
<p>Encode left+right stereo to mid+side stereo (M/S).</p>
<p>Type:</p>
<pre><code>(?id : string, source(audio=2, video=0, midi=0)) -&gt;
source(audio=2, video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio=2, video=0, midi=0)</code>)</li>
</ul>
<h3 id="stereo.pan"><a href="#stereo.pan"
class="anchor"><code>stereo.pan</code></a></h3>
<p>Pan a stereo sound.</p>
<p>Type:</p>
<pre><code>(?id : string, ?field : {float}, ?pan : {float},
 source(audio=2, video=0, midi=0)) -&gt; source(audio=2,
video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>field</code> (of type <code>{float}</code>, which defaults to
<code>90.0</code>): Field width in degrees (between 0 and 90).</li>
<li><code>pan</code> (of type <code>{float}</code>, which defaults to
<code>0.0</code>): Pan ranges between -1 and 1.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio=2, video=0, midi=0)</code>)</li>
</ul>
<h3 id="stretch"><a href="#stretch"
class="anchor"><code>stretch</code></a></h3>
<p>Slow down or accelerate an audio stream by stretching (sounds lower)
or squeezing it (sounds higher).</p>
<p>Type:</p>
<pre><code>(?id : string, ?active : bool, ratio : {float},
 source(audio=&#39;#b+1, video=0, midi=0)) -&gt;
source(audio=&#39;#c+1, video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>active</code> (of type <code>bool</code>, which defaults to
<code>true</code>): The active behavior is to keep ticking the child’s
clock when the operator is not streaming. Otherwise the child’s clock is
strictly based on what is streamed off the child source, which results
in time-dependent active sources to be frozen when that source is
stopped.</li>
<li><code>ratio</code> (of type <code>{float}</code>): A value higher
than 1 means slowing down.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#b+1, video=0, midi=0)</code>)</li>
</ul>
<h2 id="source-sound-synthesis"><a href="#source-sound-synthesis"
class="anchor">Source / Sound Synthesis</a></h2>
<h3 id="dssi.register"><a href="#dssi.register"
class="anchor"><code>dssi.register</code></a></h3>
<p>Resgister a DSSI plugin.</p>
<p>Type:</p>
<pre><code>(string) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>): Path of the
DSSI plugin file.</li>
</ul>
<h3 id="synth.all.saw"><a href="#synth.all.saw"
class="anchor"><code>synth.all.saw</code></a></h3>
<p>Saw synthesizer. It creates one synthesizer for each channel.</p>
<p>Type:</p>
<pre><code>(?id : string, ?attack : float, ?decay : float,
 ?envelope : bool, ?release : float, ?sustain : float,
 source(audio=&#39;#a+1, video=&#39;#b, midi=&#39;#c+16)) -&gt;
source(audio=&#39;#a+1, video=&#39;#b, midi=&#39;#c+16)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>attack</code> (of type <code>float</code>, which defaults to
<code>0.02</code>): Envelope attack (in seconds).</li>
<li><code>decay</code> (of type <code>float</code>, which defaults to
<code>0.01</code>): Envelope decay (in seconds).</li>
<li><code>envelope</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Use envelope.</li>
<li><code>release</code> (of type <code>float</code>, which defaults to
<code>0.01</code>): Envelope release (in seconds).</li>
<li><code>sustain</code> (of type <code>float</code>, which defaults to
<code>0.9</code>): Envelope sustain level.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a+1, video='#b, midi='#c+16)</code>)</li>
</ul>
<h3 id="synth.all.sine"><a href="#synth.all.sine"
class="anchor"><code>synth.all.sine</code></a></h3>
<p>Sine synthesizer. It creates one synthesizer for each channel.</p>
<p>Type:</p>
<pre><code>(?id : string, ?attack : float, ?decay : float,
 ?envelope : bool, ?release : float, ?sustain : float,
 source(audio=&#39;#a+1, video=&#39;#b, midi=&#39;#c+16)) -&gt;
source(audio=&#39;#a+1, video=&#39;#b, midi=&#39;#c+16)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>attack</code> (of type <code>float</code>, which defaults to
<code>0.02</code>): Envelope attack (in seconds).</li>
<li><code>decay</code> (of type <code>float</code>, which defaults to
<code>0.01</code>): Envelope decay (in seconds).</li>
<li><code>envelope</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Use envelope.</li>
<li><code>release</code> (of type <code>float</code>, which defaults to
<code>0.01</code>): Envelope release (in seconds).</li>
<li><code>sustain</code> (of type <code>float</code>, which defaults to
<code>0.9</code>): Envelope sustain level.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a+1, video='#b, midi='#c+16)</code>)</li>
</ul>
<h3 id="synth.all.square"><a href="#synth.all.square"
class="anchor"><code>synth.all.square</code></a></h3>
<p>Square synthesizer. It creates one synthesizer for each channel.</p>
<p>Type:</p>
<pre><code>(?id : string, ?attack : float, ?decay : float,
 ?envelope : bool, ?release : float, ?sustain : float,
 source(audio=&#39;#a+1, video=&#39;#b, midi=&#39;#c+16)) -&gt;
source(audio=&#39;#a+1, video=&#39;#b, midi=&#39;#c+16)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>attack</code> (of type <code>float</code>, which defaults to
<code>0.02</code>): Envelope attack (in seconds).</li>
<li><code>decay</code> (of type <code>float</code>, which defaults to
<code>0.01</code>): Envelope decay (in seconds).</li>
<li><code>envelope</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Use envelope.</li>
<li><code>release</code> (of type <code>float</code>, which defaults to
<code>0.01</code>): Envelope release (in seconds).</li>
<li><code>sustain</code> (of type <code>float</code>, which defaults to
<code>0.9</code>): Envelope sustain level.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a+1, video='#b, midi='#c+16)</code>)</li>
</ul>
<h3 id="synth.saw"><a href="#synth.saw"
class="anchor"><code>synth.saw</code></a></h3>
<p>Saw synthesizer.</p>
<p>Type:</p>
<pre><code>(?id : string, ?attack : float, ?channel : int,
 ?decay : float, ?envelope : bool, ?release : float,
 ?sustain : float, ?volume : float, source(audio=&#39;#a+1,
 video=&#39;#b, midi=&#39;#c+1)) -&gt; source(audio=&#39;#a+1,
video=&#39;#b, midi=&#39;#c+1)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>attack</code> (of type <code>float</code>, which defaults to
<code>0.02</code>): Envelope attack (in seconds).</li>
<li><code>channel</code> (of type <code>int</code>, which defaults to
<code>0</code>): MIDI channel to handle.</li>
<li><code>decay</code> (of type <code>float</code>, which defaults to
<code>0.01</code>): Envelope decay (in seconds).</li>
<li><code>envelope</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Use envelope.</li>
<li><code>release</code> (of type <code>float</code>, which defaults to
<code>0.05</code>): Envelope release (in seconds).</li>
<li><code>sustain</code> (of type <code>float</code>, which defaults to
<code>0.9</code>): Envelope sustain level.</li>
<li><code>volume</code> (of type <code>float</code>, which defaults to
<code>0.3</code>): Initial volume.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a+1, video='#b, midi='#c+1)</code>)</li>
</ul>
<h3 id="synth.sine"><a href="#synth.sine"
class="anchor"><code>synth.sine</code></a></h3>
<p>Sine synthesizer.</p>
<p>Type:</p>
<pre><code>(?id : string, ?attack : float, ?channel : int,
 ?decay : float, ?envelope : bool, ?release : float,
 ?sustain : float, ?volume : float, source(audio=&#39;#a+1,
 video=&#39;#b, midi=&#39;#c+1)) -&gt; source(audio=&#39;#a+1,
video=&#39;#b, midi=&#39;#c+1)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>attack</code> (of type <code>float</code>, which defaults to
<code>0.02</code>): Envelope attack (in seconds).</li>
<li><code>channel</code> (of type <code>int</code>, which defaults to
<code>0</code>): MIDI channel to handle.</li>
<li><code>decay</code> (of type <code>float</code>, which defaults to
<code>0.01</code>): Envelope decay (in seconds).</li>
<li><code>envelope</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Use envelope.</li>
<li><code>release</code> (of type <code>float</code>, which defaults to
<code>0.05</code>): Envelope release (in seconds).</li>
<li><code>sustain</code> (of type <code>float</code>, which defaults to
<code>0.9</code>): Envelope sustain level.</li>
<li><code>volume</code> (of type <code>float</code>, which defaults to
<code>0.3</code>): Initial volume.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a+1, video='#b, midi='#c+1)</code>)</li>
</ul>
<h3 id="synth.square"><a href="#synth.square"
class="anchor"><code>synth.square</code></a></h3>
<p>Square synthesizer.</p>
<p>Type:</p>
<pre><code>(?id : string, ?attack : float, ?channel : int,
 ?decay : float, ?envelope : bool, ?release : float,
 ?sustain : float, ?volume : float, source(audio=&#39;#a+1,
 video=&#39;#b, midi=&#39;#c+1)) -&gt; source(audio=&#39;#a+1,
video=&#39;#b, midi=&#39;#c+1)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>attack</code> (of type <code>float</code>, which defaults to
<code>0.02</code>): Envelope attack (in seconds).</li>
<li><code>channel</code> (of type <code>int</code>, which defaults to
<code>0</code>): MIDI channel to handle.</li>
<li><code>decay</code> (of type <code>float</code>, which defaults to
<code>0.01</code>): Envelope decay (in seconds).</li>
<li><code>envelope</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Use envelope.</li>
<li><code>release</code> (of type <code>float</code>, which defaults to
<code>0.05</code>): Envelope release (in seconds).</li>
<li><code>sustain</code> (of type <code>float</code>, which defaults to
<code>0.9</code>): Envelope sustain level.</li>
<li><code>volume</code> (of type <code>float</code>, which defaults to
<code>0.3</code>): Initial volume.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a+1, video='#b, midi='#c+1)</code>)</li>
</ul>
<h2 id="source-track-processing"><a href="#source-track-processing"
class="anchor">Source / Track Processing</a></h2>
<h3 id="append"><a href="#append"
class="anchor"><code>append</code></a></h3>
<p>Append an extra track to every track. Set the metadata ‘liq_append’
to ‘false’ to inhibit appending on one track.</p>
<p>Type:</p>
<pre><code>(?id : string, ?insert_missing : bool, ?merge : bool,
 source(&#39;a), (([string * string]) -&gt; source(&#39;a))) -&gt;
source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>insert_missing</code> (of type <code>bool</code>, which
defaults to <code>true</code>): Treat track beginnings without metadata
as having empty one.</li>
<li><code>merge</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Merge the track with its appended track.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>([string * string]) -&gt; source('a)</code>): Given the metadata,
build the source producing the track to append. This source is allowed
to fail (produce nothing) if no relevant track is to be appended.</li>
</ul>
<h3 id="at"><a href="#at" class="anchor"><code>at</code></a></h3>
<p>Restrict a source to play only when a predicate is true.</p>
<p>Type:</p>
<pre><code>((() -&gt; bool), source(&#39;a)) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>() -&gt; bool</code>): The
predicate, typically a time interval such as
<code>{10h-10h30}</code>.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="chop"><a href="#chop" class="anchor"><code>chop</code></a></h3>
<p>Regularly insert track boundaries in a stream (useful for testing
tracks).</p>
<p>Type:</p>
<pre><code>(?duration : float, ?metadata : [string * string],
 source(&#39;a)) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>duration</code> (of type <code>float</code>, which defaults to
<code>3.0</code>): Duration of a track (in seconds).</li>
<li><code>metadata</code> (of type <code>[string * string]</code>, which
defaults to <code>[]</code>): Metadata for tracks.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>): The
stream.</li>
</ul>
<h3 id="crossfade"><a href="#crossfade"
class="anchor"><code>crossfade</code></a></h3>
<p>Crossfade between tracks, taking the respective volume levels into
account in the choice of the transition.</p>
<p>Type:</p>
<pre><code>(?duration : float, ?override_duration : string,
 ?fade_in : float, ?fade_out : float, ?smart : bool,
 ?default : ((source(audio=&#39;#a+1, video=0, midi=0),
              source(audio=&#39;#a+1, video=0, midi=0)) -&gt;
             source(audio=&#39;#a+1, video=0, midi=0)),
 ?high : float, ?medium : float, ?margin : float,
 ?minimum : float, ?width : float, ?conservative : bool,
 source(audio=&#39;#a+1, video=0, midi=0)) -&gt;
source(audio=&#39;#a+1, video=0, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>duration</code> (of type <code>float</code>, which defaults to
<code>5.0</code>): Duration (in seconds) of buffered data from each
track that is used to compute the transision between tracks.</li>
<li><code>override_duration</code> (of type <code>string</code>, which
defaults to <code>"liq_cross_duration"</code>): Metadata field which, if
present and containing a float, overrides the ‘duration’ parameter for
current track.</li>
<li><code>fade_in</code> (of type <code>float</code>, which defaults to
<code>3.0</code>): Fade-in duration, if any.</li>
<li><code>fade_out</code> (of type <code>float</code>, which defaults to
<code>3.0</code>): Fade-out duration, if any.</li>
<li><code>smart</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Enable smart crossfading</li>
<li><code>default</code> (of type
<code>(source(audio='#a+1, video=0, midi=0),  source(audio='#a+1, video=0, midi=0)) -&gt; source(audio='#a+1, video=0, midi=0)</code>,
which defaults to <code>&lt;fun&gt;</code>): Smart crossfade: transition
used when no rule applies (default: sequence).</li>
<li><code>high</code> (of type <code>float</code>, which defaults to
<code>-15.0</code>): Smart crossfade: value, in dB, for loud sound
level.</li>
<li><code>medium</code> (of type <code>float</code>, which defaults to
<code>-32.0</code>): Smart crossfade: value, in dB, for medium sound
level.</li>
<li><code>margin</code> (of type <code>float</code>, which defaults to
<code>4.0</code>): Smart crossfade: margin to detect sources that have
too different sound level for crossing.</li>
<li><code>minimum</code> (of type <code>float</code>, which defaults to
<code>-1.0</code>): Minimum duration (in sec.) for a cross: If the track
ends without any warning (e.g. in case of skip) there may not be enough
data for a decent composition. Set to 0. to avoid having transitions
after skips, or more to avoid transitions on short tracks. With a
negative default, transitions always occur.<br />
</li>
<li><code>width</code> (of type <code>float</code>, which defaults to
<code>2.0</code>): Width of the volume analysis window.</li>
<li><code>conservative</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Always prepare for a premature end-of-track.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a+1, video=0, midi=0)</code>): The input
source.</li>
</ul>
<h3 id="cue_cut"><a href="#cue_cut"
class="anchor"><code>cue_cut</code></a></h3>
<p>Start track after a cue in point and stop it at cue out point. The
cue points are given as metadata, in seconds from the begining of
tracks.</p>
<p>Type:</p>
<pre><code>(?id : string, ?cue_in_metadata : string,
 ?cue_out_metadata : string, ?on_cue_in : (() -&gt; unit),
 ?on_cue_out : (() -&gt; unit), source(audio=&#39;#a, video=&#39;#b,
 midi=&#39;#c)) -&gt; source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>cue_in_metadata</code> (of type <code>string</code>, which
defaults to <code>"liq_cue_in"</code>): Metadata for cue in points.</li>
<li><code>cue_out_metadata</code> (of type <code>string</code>, which
defaults to <code>"liq_cue_out"</code>): Metadata for cue out
points.</li>
<li><code>on_cue_in</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback to execute on cue
in</li>
<li><code>on_cue_out</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Callback to execute on cue
out</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="delay"><a href="#delay"
class="anchor"><code>delay</code></a></h3>
<p>Prevents the child from being ready again too fast after a end of
track</p>
<p>Type:</p>
<pre><code>(?id : string, ?initial : bool, float, source(&#39;a)) -&gt;
source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>initial</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Start in unavailable state, as if a track had just
finished.</li>
<li><code>(unlabeled)</code> (of type <code>float</code>): The source
won’t be ready less than this amount of seconds after any end of
track</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="drop_metadata"><a href="#drop_metadata"
class="anchor"><code>drop_metadata</code></a></h3>
<p>Removes all metadata coming from a source.</p>
<p>Type:</p>
<pre><code>(source(&#39;a)) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="eat_blank"><a href="#eat_blank"
class="anchor"><code>eat_blank</code></a></h3>
<p>Eat blanks, i.e., drop the contents of the stream until it is not
blank anymore.</p>
<p>Type:</p>
<pre><code>(?id : string, ?at_beginning : bool, ?max_blank : float,
 ?min_noise : float, ?start_blank : bool,
 ?threshold : float, ?track_sensitive : bool,
 source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>at_beginning</code> (of type <code>bool</code>, which defaults
to <code>false</code>): Only eat at the beginning of a track.</li>
<li><code>max_blank</code> (of type <code>float</code>, which defaults
to <code>20.0</code>): Maximum duration of silence allowed, in
seconds.</li>
<li><code>min_noise</code> (of type <code>float</code>, which defaults
to <code>0.0</code>): Minimum duration of noise required to end silence,
in seconds.</li>
<li><code>start_blank</code> (of type <code>bool</code>, which defaults
to <code>false</code>): Start assuming we have blank.</li>
<li><code>threshold</code> (of type <code>float</code>, which defaults
to <code>-40.0</code>): Power in decibels under which the stream is
considered silent.</li>
<li><code>track_sensitive</code> (of type <code>bool</code>, which
defaults to <code>true</code>): Reset blank counter at each track.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="fallback"><a href="#fallback"
class="anchor"><code>fallback</code></a></h3>
<p>At the beginning of each track, select the first ready child.</p>
<p>Type:</p>
<pre><code>(?id : string, ?override : string,
 ?replay_metadata : bool, ?track_sensitive : {bool},
 ?transition_length : float,
 ?transitions : [(source(&#39;b), source(&#39;b)) -&gt; source(&#39;b)],
 [source(&#39;b)]) -&gt; source(&#39;b)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>override</code> (of type <code>string</code>, which defaults
to <code>"liq_transition_length"</code>): Metadata field which, if
present and containing a float, overrides the
<code>transition_length</code> parameter.</li>
<li><code>replay_metadata</code> (of type <code>bool</code>, which
defaults to <code>true</code>): Replay the last metadata of a child when
switching to it in the middle of a track.</li>
<li><code>track_sensitive</code> (of type <code>{bool}</code>, which
defaults to <code>true</code>): Re-select only on end of tracks.</li>
<li><code>transition_length</code> (of type <code>float</code>, which
defaults to <code>5.0</code>): Maximun transition duration.</li>
<li><code>transitions</code> (of type
<code>[(source('b), source('b)) -&gt; source('b)]</code>, which defaults
to <code>[]</code>): Transition functions, padded with
<code>fun (x,y) -&gt; y</code> functions.</li>
<li><code>(unlabeled)</code> (of type <code>[source('b)]</code>): Select
the first ready source in this list.</li>
</ul>
<h3 id="fallback.skip"><a href="#fallback.skip"
class="anchor"><code>fallback.skip</code></a></h3>
<p>Special track insensitive fallback that always skips current song
before switching.</p>
<p>Type:</p>
<pre><code>(input : source(&#39;a), source(&#39;a)) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>input</code> (of type <code>source('a)</code>): The input
source</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>): The
fallback source</li>
</ul>
<h3 id="insert_metadata"><a href="#insert_metadata"
class="anchor"><code>insert_metadata</code></a></h3>
<p>Dynamically insert metadata in a stream. Returns a pair
<code>(f,s)</code> where s is a new source and <code>f</code> is a
function of type <code>(?new_track,metadata)-&gt;unit</code>, used to
insert metadata in <code>s</code>. <code>f</code> also inserts a new
track with the given metadata if passed <code>new_track=true</code>.</p>
<p>Type:</p>
<pre><code>(?id : string, source(&#39;a)) -&gt;
((?new_track : bool, [string * string]) -&gt; unit) *
source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="map_first_track"><a href="#map_first_track"
class="anchor"><code>map_first_track</code></a></h3>
<p>Apply a function to the first track of a source</p>
<p>Type:</p>
<pre><code>(?id : string, ((source(&#39;a)) -&gt; source(&#39;a)), source(&#39;a)) -&gt;
source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type
<code>(source('a)) -&gt; source('a)</code>): The applied function.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>): The
input source.</li>
</ul>
<h3 id="map_metadata"><a href="#map_metadata"
class="anchor"><code>map_metadata</code></a></h3>
<p>Rewrite metadata on the fly using a function.</p>
<p>Type:</p>
<pre><code>(?id : string, ?insert_missing : bool, ?strip : bool,
 ?update : bool,
 (([string * string]) -&gt; [string * string]), source(&#39;a)) -&gt;
source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>insert_missing</code> (of type <code>bool</code>, which
defaults to <code>true</code>): Treat track beginnings without metadata
as having empty ones. The operational order is: create empty if needed,
map and strip if enabled.</li>
<li><code>strip</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Completely remove empty metadata. Operates on both
empty values and empty metadata chunk.</li>
<li><code>update</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Update metadata. If false, existing metadata are
cleared and only returned values are set as new metadata.</li>
<li><code>(unlabeled)</code> (of type
<code>([string * string]) -&gt; [string * string]</code>): A function
that returns new metadata.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="max_duration"><a href="#max_duration"
class="anchor"><code>max_duration</code></a></h3>
<p>Limit source duration</p>
<p>Type:</p>
<pre><code>(?id : string, ?override : string, float, source(&#39;a)) -&gt;
source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>override</code> (of type <code>string</code>, which defaults
to <code>"liq_remaining"</code>): Metadata field which, if present and
containing a float, overrides the remaining play time.</li>
<li><code>(unlabeled)</code> (of type <code>float</code>): Maximum
duration</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="merge_tracks"><a href="#merge_tracks"
class="anchor"><code>merge_tracks</code></a></h3>
<p>Merge consecutive tracks from the input source. They will be
considered as one big track, so <code>on_track()</code> will not trigger
for example.</p>
<p>Type:</p>
<pre><code>(?id : string, source(&#39;a)) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="mkavailable"><a href="#mkavailable"
class="anchor"><code>mkavailable</code></a></h3>
<p>Make a source available or not depending on a boolean.</p>
<p>Type:</p>
<pre><code>(?id : string, ?track_sensitive : bool, ?active : bool,
 ?available : bool, source(&#39;a)) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>"mkavailable"</code>): The source ID</li>
<li><code>track_sensitive</code> (of type <code>bool</code>, which
defaults to <code>true</code>): Re-select only on end of tracks.</li>
<li><code>active</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Whether the source should be pulled when not
available</li>
<li><code>available</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Whether the source is available (<code>true</code>)
or not (<code>false</code>).</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>): The
stream.</li>
</ul>
<h3 id="mksafe"><a href="#mksafe"
class="anchor"><code>mksafe</code></a></h3>
<p>Turn a source into an infaillible source by adding blank when the
source is not available.</p>
<p>Type:</p>
<pre><code>(?id : string, source(&#39;a)) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>"mksafe"</code>)</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>): the
source to turn infaillible</li>
</ul>
<h3 id="notify_metadata"><a href="#notify_metadata"
class="anchor"><code>notify_metadata</code></a></h3>
<p>Use notify to display metadata info.</p>
<p>Type:</p>
<pre><code>(?urgency : string, ?icon : string, ?time : int,
 ?display : (([string * string]) -&gt; string),
 ?title : string, source(&#39;a)) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>urgency</code> (of type <code>string</code>, which defaults to
<code>"low"</code>): Urgency (low|normal|critical).</li>
<li><code>icon</code> (of type <code>string</code>, which defaults to
<code>"stock_smiley-22"</code>): Icon filename or stock icon to
display.</li>
<li><code>time</code> (of type <code>int</code>, which defaults to
<code>3000</code>): Timeout in milliseconds.</li>
<li><code>display</code> (of type
<code>([string * string]) -&gt; string</code>, which defaults to
<code>&lt;fun&gt;</code>): Function used to display a metadata
packet.</li>
<li><code>title</code> (of type <code>string</code>, which defaults to
<code>"Liquidsoap: new track"</code>): Title of the notification
message.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="on_blank"><a href="#on_blank"
class="anchor"><code>on_blank</code></a></h3>
<p>Calls a given handler when detecting a blank.</p>
<p>Type:</p>
<pre><code>(?id : string, ?max_blank : float, ?min_noise : float,
 ?on_noise : (() -&gt; unit), ?start_blank : bool,
 ?threshold : float, ?track_sensitive : bool,
 (() -&gt; unit), source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>max_blank</code> (of type <code>float</code>, which defaults
to <code>20.0</code>): Maximum duration of silence allowed, in
seconds.</li>
<li><code>min_noise</code> (of type <code>float</code>, which defaults
to <code>0.0</code>): Minimum duration of noise required to end silence,
in seconds.</li>
<li><code>on_noise</code> (of type <code>() -&gt; unit</code>, which
defaults to <code>&lt;fun&gt;</code>): Handler called when noise is
detected.</li>
<li><code>start_blank</code> (of type <code>bool</code>, which defaults
to <code>false</code>): Start assuming we have blank.</li>
<li><code>threshold</code> (of type <code>float</code>, which defaults
to <code>-40.0</code>): Power in decibels under which the stream is
considered silent.</li>
<li><code>track_sensitive</code> (of type <code>bool</code>, which
defaults to <code>true</code>): Reset blank counter at each track.</li>
<li><code>(unlabeled)</code> (of type <code>() -&gt; unit</code>):
Handler called when blank is detected.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="on_end"><a href="#on_end"
class="anchor"><code>on_end</code></a></h3>
<p>Call a given handler when there is less than a given amount of time
remaining before then end of track.</p>
<p>Type:</p>
<pre><code>(?id : string, ?delay : {float},
 ((float, [string * string]) -&gt; unit), source(&#39;b)) -&gt;
source(&#39;b)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>delay</code> (of type <code>{float}</code>, which defaults to
<code>5.0</code>): Execute handler when remaining time is less or equal
to this value.</li>
<li><code>(unlabeled)</code> (of type
<code>(float, [string * string]) -&gt; unit</code>): Function to
execute. First argument is the remaining time, second is the latest
metadata. That function should be fast because it is executed in the
main streaming thread.</li>
<li><code>(unlabeled)</code> (of type <code>source('b)</code>)</li>
</ul>
<h3 id="on_metadata"><a href="#on_metadata"
class="anchor"><code>on_metadata</code></a></h3>
<p>Call a given handler on metadata packets.</p>
<p>Type:</p>
<pre><code>(?id : string, (([string * string]) -&gt; unit), source(&#39;a)) -&gt;
source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type
<code>([string * string]) -&gt; unit</code>): Function called on every
metadata packet in the stream. It should be fast because it is executed
in the main streaming thread.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="on_offset"><a href="#on_offset"
class="anchor"><code>on_offset</code></a></h3>
<p>Call a given handler when position in track is equal or more than a
given amount of time.</p>
<p>Type:</p>
<pre><code>(?id : string, ?force : bool, ?offset : float,
 ?override : string,
 ((float, [string * string]) -&gt; unit), source(&#39;a)) -&gt;
source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>force</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Force execution of callback if track ends before
‘offset’ position has been reached.</li>
<li><code>offset</code> (of type <code>float</code>, which defaults to
<code>-1.0</code>): Execute handler when position in track is equal or
more than to this value.</li>
<li><code>override</code> (of type <code>string</code>, which defaults
to <code>"liq_on_offset"</code>): Metadata field which, if present and
containing a float, overrides the ‘offset’ parameter.</li>
<li><code>(unlabeled)</code> (of type
<code>(float, [string * string]) -&gt; unit</code>): Function to
execute. First argument is the actual position within the current track,
second is the latest metadata. That function should be fast because it
is executed in the main streaming thread.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="on_track"><a href="#on_track"
class="anchor"><code>on_track</code></a></h3>
<p>Call a given handler on new tracks.</p>
<p>Type:</p>
<pre><code>(?id : string, (([string * string]) -&gt; unit), source(&#39;a)) -&gt;
source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type
<code>([string * string]) -&gt; unit</code>): Function called on every
beginning of track in the stream, with the corresponding metadata as
argument. If there is no metadata at the beginning of track, the empty
list is passed. That function should be fast because it is executed in
the main streaming thread.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="once"><a href="#once" class="anchor"><code>once</code></a></h3>
<p>Creates a source that plays only one track of the input source.</p>
<p>Type:</p>
<pre><code>(source(&#39;a)) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>): The
input source.</li>
</ul>
<h3 id="osd_metadata"><a href="#osd_metadata"
class="anchor"><code>osd_metadata</code></a></h3>
<p>Use X On Screen Display to display metadata info.</p>
<p>Type:</p>
<pre><code>(?color : string, ?position : string, ?font : string,
 ?display : (([string * string]) -&gt; string), source(&#39;a)) -&gt;
source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>color</code> (of type <code>string</code>, which defaults to
<code>"green"</code>): Color of the text.</li>
<li><code>position</code> (of type <code>string</code>, which defaults
to <code>"top"</code>): Position of the text (top|middle|bottom).</li>
<li><code>font</code> (of type <code>string</code>, which defaults to
<code>"-*-courier-*-r-*-*-*-240-*-*-*-*-*-*"</code>): Font used
(xfontsel is your friend…)</li>
<li><code>display</code> (of type
<code>([string * string]) -&gt; string</code>, which defaults to
<code>&lt;fun&gt;</code>): Function used to display a metadata
packet.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="overlap_sources"><a href="#overlap_sources"
class="anchor"><code>overlap_sources</code></a></h3>
<p>Rotate between overlapping sources. Next track starts according to
‘liq_start_next’ offset metadata.</p>
<p>Type:</p>
<pre><code>(?id : string, ?normalize : bool, ?start_next : string,
 ?weights : [int],
 [source(audio=&#39;#a, video=&#39;#b, midi=0)]) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>normalize</code> (of type <code>bool</code>, which defaults to
<code>false</code>)</li>
<li><code>start_next</code> (of type <code>string</code>, which defaults
to <code>"liq_start_next"</code>): Metadata field indicating when the
next track should start, relative to current track’s time.</li>
<li><code>weights</code> (of type <code>[int]</code>, which defaults to
<code>[]</code>): Relative weight of the sources in the sum. The empty
list stands for the homogeneous distribution.</li>
<li><code>(unlabeled)</code> (of type
<code>[source(audio='#a, video='#b, midi=0)]</code>): Sources to toggle
from</li>
</ul>
<h3 id="playlist.merge"><a href="#playlist.merge"
class="anchor"><code>playlist.merge</code></a></h3>
<p>Play the whole playlist as one track.</p>
<p>Type:</p>
<pre><code>(?id : string, ?random : bool, ?default_duration : float,
 ?length : float, ?conservative : bool, string) -&gt;
source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>random</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Randomize playlist content</li>
<li><code>default_duration</code> (of type <code>float</code>, which
defaults to <code>30.0</code>): When unknown, assume this duration (in
sec.) for files.</li>
<li><code>length</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): How much audio (in sec.) should be queued in
advance.</li>
<li><code>conservative</code> (of type <code>bool</code>, which defaults
to <code>false</code>): If true, estimated remaining time on the current
track is not considered when computing queue length.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Playlist
URI.</li>
</ul>
<h3 id="prepend"><a href="#prepend"
class="anchor"><code>prepend</code></a></h3>
<p>Prepend an extra track before every track. Set the metadata
‘liq_prepend’ to ‘false’ to inhibit prepending on one track.</p>
<p>Type:</p>
<pre><code>(?id : string, ?merge : bool, source(audio=&#39;#a,
 video=&#39;#b, midi=&#39;#c),
 (([string * string]) -&gt; source(audio=&#39;#a, video=&#39;#b,
  midi=&#39;#c))) -&gt; source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>merge</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Merge the track with its appended track.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>([string * string]) -&gt; source(audio='#a, video='#b, midi='#c)</code>):
Given the metadata, build the source producing the track to prepend.
This source is allowed to fail (produce nothing) if no relevant track is
to be appended. However, success must be immediate or it will not be
taken into account.</li>
</ul>
<h3 id="random"><a href="#random"
class="anchor"><code>random</code></a></h3>
<p>At the beginning of every track, select a random ready child.</p>
<p>Type:</p>
<pre><code>(?id : string, ?override : string,
 ?replay_metadata : bool, ?track_sensitive : {bool},
 ?transition_length : float,
 ?transitions : [(source(&#39;b), source(&#39;b)) -&gt; source(&#39;b)],
 ?weights : [{int}], [source(&#39;b)]) -&gt; source(&#39;b)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>override</code> (of type <code>string</code>, which defaults
to <code>"liq_transition_length"</code>): Metadata field which, if
present and containing a float, overrides the
<code>transition_length</code> parameter.</li>
<li><code>replay_metadata</code> (of type <code>bool</code>, which
defaults to <code>true</code>): Replay the last metadata of a child when
switching to it in the middle of a track.</li>
<li><code>track_sensitive</code> (of type <code>{bool}</code>, which
defaults to <code>true</code>): Re-select only on end of tracks.</li>
<li><code>transition_length</code> (of type <code>float</code>, which
defaults to <code>5.0</code>): Maximun transition duration.</li>
<li><code>transitions</code> (of type
<code>[(source('b), source('b)) -&gt; source('b)]</code>, which defaults
to <code>[]</code>): Transition functions, padded with
<code>fun (x,y) -&gt; y</code> functions.</li>
<li><code>weights</code> (of type <code>[{int}]</code>, which defaults
to <code>[]</code>): Weights of the children (padded with 1), defining
for each child the probability that it is selected.</li>
<li><code>(unlabeled)</code> (of type <code>[source('b)]</code>)</li>
</ul>
<h3 id="rotate"><a href="#rotate"
class="anchor"><code>rotate</code></a></h3>
<p>Rotate between the sources.</p>
<p>Type:</p>
<pre><code>(?id : string, ?override : string,
 ?replay_metadata : bool, ?track_sensitive : {bool},
 ?transition_length : float,
 ?transitions : [(source(&#39;b), source(&#39;b)) -&gt; source(&#39;b)],
 ?weights : [{int}], [source(&#39;b)]) -&gt; source(&#39;b)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>override</code> (of type <code>string</code>, which defaults
to <code>"liq_transition_length"</code>): Metadata field which, if
present and containing a float, overrides the
<code>transition_length</code> parameter.</li>
<li><code>replay_metadata</code> (of type <code>bool</code>, which
defaults to <code>true</code>): Replay the last metadata of a child when
switching to it in the middle of a track.</li>
<li><code>track_sensitive</code> (of type <code>{bool}</code>, which
defaults to <code>true</code>): Re-select only on end of tracks.</li>
<li><code>transition_length</code> (of type <code>float</code>, which
defaults to <code>5.0</code>): Maximun transition duration.</li>
<li><code>transitions</code> (of type
<code>[(source('b), source('b)) -&gt; source('b)]</code>, which defaults
to <code>[]</code>): Transition functions, padded with
<code>fun (x,y) -&gt; y</code> functions.</li>
<li><code>weights</code> (of type <code>[{int}]</code>, which defaults
to <code>[]</code>): Weights of the children (padded with 1), defining
for each child how many tracks are played from it per round, if that
many are actually available.</li>
<li><code>(unlabeled)</code> (of type <code>[source('b)]</code>)</li>
</ul>
<h3 id="rotate.merge"><a href="#rotate.merge"
class="anchor"><code>rotate.merge</code></a></h3>
<p>Same operator as rotate but merges tracks from each sources. For
instance, <code>rotate.merge([intro,main,outro])</code> creates a source
that plays a sequence <code>[intro,main,outro]</code> as single track
and loops back.</p>
<p>Type:</p>
<pre><code>(?id : string, ?track_sensitive : bool,
 ?transitions : [(source(&#39;a), source(&#39;a)) -&gt; source(&#39;a)],
 ?weights : [{int}], [source(&#39;a)]) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>track_sensitive</code> (of type <code>bool</code>, which
defaults to <code>true</code>): Re-select only on end of tracks.</li>
<li><code>transitions</code> (of type
<code>[(source('a), source('a)) -&gt; source('a)]</code>, which defaults
to <code>[]</code>): Transition functions, padded with
<code>fun (x,y) -&gt; y</code> functions.</li>
<li><code>weights</code> (of type <code>[{int}]</code>, which defaults
to <code>[]</code>): Weights of the children (padded with 1), defining
for each child how many tracks are played from it per round, if that
many are actually available.</li>
<li><code>(unlabeled)</code> (of type <code>[source('a)]</code>):
Sequence of sources to be merged</li>
</ul>
<h3 id="say_metadata"><a href="#say_metadata"
class="anchor"><code>say_metadata</code></a></h3>
<p>Append speech-synthesized tracks reading the metadata.</p>
<p>Type:</p>
<pre><code>(source(?A), ?pattern : string) -&gt; source(?A)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>source(?A)</code>): The
source to use</li>
<li><code>pattern</code> (of type <code>string</code>, which defaults to
<code>"say:$(if $(artist),\"It was $(artist)$(if $(title),\\\", $(title)\\\").\")"</code>):
Pattern to use</li>
</ul>
<h3 id="sequence"><a href="#sequence"
class="anchor"><code>sequence</code></a></h3>
<p>Play only one track of every successive source, except for the last
one which is played as much as available.</p>
<p>Type:</p>
<pre><code>(?id : string, ?merge : bool, [source(&#39;a)]) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>merge</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Merge tracks when advancing from one source to the
next one. This will NOT merge consecutive tracks from the last source;
see merge_tracks() if you need that too.</li>
<li><code>(unlabeled)</code> (of type <code>[source('a)]</code>)</li>
</ul>
<h3 id="server.insert_metadata"><a href="#server.insert_metadata"
class="anchor"><code>server.insert_metadata</code></a></h3>
<p>Register a server/telnet command to update a source’s metadata.
Returns a new source, which will receive the updated metadata. The
command has the following format: insert key1=“val1”,key2=“val2”,…</p>
<p>Type:</p>
<pre><code>(?id : string, source(&#39;a)) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="skip_blank"><a href="#skip_blank"
class="anchor"><code>skip_blank</code></a></h3>
<p>Skip track when detecting a blank.</p>
<p>Type:</p>
<pre><code>(?id : string, ?threshold : float, ?max_blank : float,
 ?min_noise : float, ?track_sensitive : bool,
 source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>threshold</code> (of type <code>float</code>, which defaults
to <code>-40.0</code>): Power in decibels under which the stream is
considered silent.</li>
<li><code>max_blank</code> (of type <code>float</code>, which defaults
to <code>20.0</code>): Maximum silence length allowed, in seconds.</li>
<li><code>min_noise</code> (of type <code>float</code>, which defaults
to <code>0.0</code>): Minimum duration of noise required to end silence,
in seconds.</li>
<li><code>track_sensitive</code> (of type <code>bool</code>, which
defaults to <code>true</code>): Reset blank counter at each track.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="smooth_add"><a href="#smooth_add"
class="anchor"><code>smooth_add</code></a></h3>
<p>Mixes two streams, with faded transitions between the state when only
the normal stream is available and when the special stream gets added on
top of it.</p>
<p>Type:</p>
<pre><code>(?delay : float, ?p : float, normal : source(audio=&#39;#a,
 video=&#39;#b, midi=0), special : source(audio=&#39;#a,
 video=&#39;#b, midi=0)) -&gt; source(audio=&#39;#a, video=&#39;#b,
midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>delay</code> (of type <code>float</code>, which defaults to
<code>0.5</code>): Delay before starting the special source.</li>
<li><code>p</code> (of type <code>float</code>, which defaults to
<code>0.2</code>): Portion of amplitude of the normal source in the
mix.</li>
<li><code>normal</code> (of type
<code>source(audio='#a, video='#b, midi=0)</code>): The normal source,
which could be called the carrier too.</li>
<li><code>special</code> (of type
<code>source(audio='#a, video='#b, midi=0)</code>): The special
source.</li>
</ul>
<h3 id="source.dynamic"><a href="#source.dynamic"
class="anchor"><code>source.dynamic</code></a></h3>
<p>Dynamically change the underlying source.</p>
<p>Type:</p>
<pre><code>(?id : string, (() -&gt; [source(&#39;a)])) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type
<code>() -&gt; [source('a)]</code>)</li>
</ul>
<p>This function is experimental.</p>
<h3 id="store_metadata"><a href="#store_metadata"
class="anchor"><code>store_metadata</code></a></h3>
<p>Keep track of the last N metadata packets in the stream, and make the
history available via a server command.</p>
<p>Type:</p>
<pre><code>(?id : string, ?size : int, source(&#39;a)) -&gt; source(&#39;a)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>size</code> (of type <code>int</code>, which defaults to
<code>10</code>): Size of the history</li>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="strip_blank"><a href="#strip_blank"
class="anchor"><code>strip_blank</code></a></h3>
<p>Make the source unavailable when it is streaming blank.</p>
<p>Type:</p>
<pre><code>(?id : string, ?max_blank : float, ?min_noise : float,
 ?start_blank : bool, ?threshold : float,
 ?track_sensitive : bool, source(audio=&#39;#a, video=&#39;#b,
 midi=&#39;#c)) -&gt; active_source(audio=&#39;#a, video=&#39;#b,
midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>max_blank</code> (of type <code>float</code>, which defaults
to <code>20.0</code>): Maximum duration of silence allowed, in
seconds.</li>
<li><code>min_noise</code> (of type <code>float</code>, which defaults
to <code>0.0</code>): Minimum duration of noise required to end silence,
in seconds.</li>
<li><code>start_blank</code> (of type <code>bool</code>, which defaults
to <code>false</code>): Start assuming we have blank.</li>
<li><code>threshold</code> (of type <code>float</code>, which defaults
to <code>-40.0</code>): Power in decibels under which the stream is
considered silent.</li>
<li><code>track_sensitive</code> (of type <code>bool</code>, which
defaults to <code>true</code>): Reset blank counter at each track.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="switch"><a href="#switch"
class="anchor"><code>switch</code></a></h3>
<p>At the beginning of a track, select the first source whose predicate
is true.</p>
<p>Type:</p>
<pre><code>(?id : string, ?override : string,
 ?replay_metadata : bool, ?single : [bool],
 ?track_sensitive : {bool}, ?transition_length : float,
 ?transitions : [(source(&#39;b), source(&#39;b)) -&gt; source(&#39;b)],
 [(() -&gt; bool) * source(&#39;b)]) -&gt; source(&#39;b)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>override</code> (of type <code>string</code>, which defaults
to <code>"liq_transition_length"</code>): Metadata field which, if
present and containing a float, overrides the
<code>transition_length</code> parameter.</li>
<li><code>replay_metadata</code> (of type <code>bool</code>, which
defaults to <code>true</code>): Replay the last metadata of a child when
switching to it in the middle of a track.</li>
<li><code>single</code> (of type <code>[bool]</code>, which defaults to
<code>[]</code>): Forbid the selection of a branch for two tracks in a
row. The empty list stands for <code>[false,...,false]</code>.</li>
<li><code>track_sensitive</code> (of type <code>{bool}</code>, which
defaults to <code>true</code>): Re-select only on end of tracks.</li>
<li><code>transition_length</code> (of type <code>float</code>, which
defaults to <code>5.0</code>): Maximun transition duration.</li>
<li><code>transitions</code> (of type
<code>[(source('b), source('b)) -&gt; source('b)]</code>, which defaults
to <code>[]</code>): Transition functions, padded with
<code>fun (x,y) -&gt; y</code> functions.</li>
<li><code>(unlabeled)</code> (of type
<code>[(() -&gt; bool) * source('b)]</code>): Sources with the predicate
telling when they can be played.</li>
</ul>
<h2 id="source-video-processing"><a href="#source-video-processing"
class="anchor">Source / Video Processing</a></h2>
<h3 id="input.external.ffmpeg"><a href="#input.external.ffmpeg"
class="anchor"><code>input.external.ffmpeg</code></a></h3>
<p>Input from ffmpeg.</p>
<p>Type:</p>
<pre><code>(?id : string, ?show_command : bool, ?restart : bool,
 ?restart_on_error : bool, ?buffer : float, ?max : float,
 string) -&gt; source(audio=2, video=1, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>)</li>
<li><code>show_command</code> (of type <code>bool</code>, which defaults
to <code>false</code>)</li>
<li><code>restart</code> (of type <code>bool</code>, which defaults to
<code>true</code>): restart on exit.</li>
<li><code>restart_on_error</code> (of type <code>bool</code>, which
defaults to <code>false</code>): restart on exit with error.</li>
<li><code>buffer</code> (of type <code>float</code>, which defaults to
<code>0.2</code>): Duration of the pre-buffered data.</li>
<li><code>max</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Maximum duration of the buffered data.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): ffmpeg
options specifying the input</li>
</ul>
<h3 id="video.add_image"><a href="#video.add_image"
class="anchor"><code>video.add_image</code></a></h3>
<p>Add a static image on the first video channel.</p>
<p>Type:</p>
<pre><code>(?id : string, ?width : int, ?height : int, ?x : int,
 ?y : int, file : &#39;a, source(audio=&#39;#b, video=&#39;#c,
 midi=0)) -&gt; source(audio=&#39;#b, video=&#39;#c, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>width</code> (of type <code>int</code>, which defaults to
<code>0</code>): Scale to width (zero means frame width, negative means
original width).</li>
<li><code>height</code> (of type <code>int</code>, which defaults to
<code>0</code>): Scale to height (zero means frame height, negative
means original height).</li>
<li><code>x</code> (of type <code>int</code>, which defaults to
<code>4611686018427387903</code>): x position.</li>
<li><code>y</code> (of type <code>int</code>, which defaults to
<code>4611686018427387903</code>): y position.</li>
<li><code>file</code> (of type <code>'a</code>): Path to the image
file.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#b, video='#c, midi=0)</code>)</li>
</ul>
<h3 id="video.add_text.gd"><a href="#video.add_text.gd"
class="anchor"><code>video.add_text.gd</code></a></h3>
<p>Display a text.</p>
<p>Type:</p>
<pre><code>(?id : string, ?color : int, ?cycle : bool,
 ?font : string, ?metadata : string, ?size : int,
 ?speed : int, ?x : {int}, ?y : {int}, {string},
 source(audio=&#39;#d, video=&#39;#e+1, midi=&#39;#f)) -&gt;
source(audio=&#39;#d, video=&#39;#e+1, midi=&#39;#f)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>color</code> (of type <code>int</code>, which defaults to
<code>16777215</code>): Text color (in 0xRRGGBB format).</li>
<li><code>cycle</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Cycle text when it reaches left boundary.</li>
<li><code>font</code> (of type <code>string</code>, which defaults to
<code>"/usr/share/fonts/truetype/dejavu/DejaVuSans.ttf"</code>): Path to
ttf font file.</li>
<li><code>metadata</code> (of type <code>string</code>, which defaults
to <code>""</code>): Change text on a particular metadata (empty string
means disabled).</li>
<li><code>size</code> (of type <code>int</code>, which defaults to
<code>18</code>): Font size.</li>
<li><code>speed</code> (of type <code>int</code>, which defaults to
<code>70</code>): Horizontal speed in pixels per second (0 means no
scrolling and update according to x and y in case they are
variable).</li>
<li><code>x</code> (of type <code>{int}</code>, which defaults to
<code>10</code>): x offset.</li>
<li><code>y</code> (of type <code>{int}</code>, which defaults to
<code>10</code>): y offset.</li>
<li><code>(unlabeled)</code> (of type <code>{string}</code>): Text to
display.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#d, video='#e+1, midi='#f)</code>)</li>
</ul>
<h3 id="video.add_text.gstreamer"><a href="#video.add_text.gstreamer"
class="anchor"><code>video.add_text.gstreamer</code></a></h3>
<p>Display a text.</p>
<p>Type:</p>
<pre><code>(?id : string, ?color : int, ?cycle : bool,
 ?font : string, ?metadata : string, ?size : int,
 ?speed : int, ?x : {int}, ?y : {int}, {string},
 source(audio=&#39;#d, video=&#39;#e+1, midi=&#39;#f)) -&gt;
source(audio=&#39;#d, video=&#39;#e+1, midi=&#39;#f)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>color</code> (of type <code>int</code>, which defaults to
<code>16777215</code>): Text color (in 0xRRGGBB format).</li>
<li><code>cycle</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Cycle text when it reaches left boundary.</li>
<li><code>font</code> (of type <code>string</code>, which defaults to
<code>"/usr/share/fonts/truetype/dejavu/DejaVuSans.ttf"</code>): Path to
ttf font file.</li>
<li><code>metadata</code> (of type <code>string</code>, which defaults
to <code>""</code>): Change text on a particular metadata (empty string
means disabled).</li>
<li><code>size</code> (of type <code>int</code>, which defaults to
<code>18</code>): Font size.</li>
<li><code>speed</code> (of type <code>int</code>, which defaults to
<code>70</code>): Horizontal speed in pixels per second (0 means no
scrolling and update according to x and y in case they are
variable).</li>
<li><code>x</code> (of type <code>{int}</code>, which defaults to
<code>10</code>): x offset.</li>
<li><code>y</code> (of type <code>{int}</code>, which defaults to
<code>10</code>): y offset.</li>
<li><code>(unlabeled)</code> (of type <code>{string}</code>): Text to
display.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#d, video='#e+1, midi='#f)</code>)</li>
</ul>
<h3 id="video.add_text.native"><a href="#video.add_text.native"
class="anchor"><code>video.add_text.native</code></a></h3>
<p>Display a text.</p>
<p>Type:</p>
<pre><code>(?id : string, ?color : int, ?cycle : bool,
 ?font : string, ?metadata : string, ?size : int,
 ?speed : int, ?x : {int}, ?y : {int}, {string},
 source(audio=&#39;#d, video=&#39;#e+1, midi=&#39;#f)) -&gt;
source(audio=&#39;#d, video=&#39;#e+1, midi=&#39;#f)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>color</code> (of type <code>int</code>, which defaults to
<code>16777215</code>): Text color (in 0xRRGGBB format).</li>
<li><code>cycle</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Cycle text when it reaches left boundary.</li>
<li><code>font</code> (of type <code>string</code>, which defaults to
<code>"/usr/share/fonts/truetype/dejavu/DejaVuSans.ttf"</code>): Path to
ttf font file.</li>
<li><code>metadata</code> (of type <code>string</code>, which defaults
to <code>""</code>): Change text on a particular metadata (empty string
means disabled).</li>
<li><code>size</code> (of type <code>int</code>, which defaults to
<code>18</code>): Font size.</li>
<li><code>speed</code> (of type <code>int</code>, which defaults to
<code>70</code>): Horizontal speed in pixels per second (0 means no
scrolling and update according to x and y in case they are
variable).</li>
<li><code>x</code> (of type <code>{int}</code>, which defaults to
<code>10</code>): x offset.</li>
<li><code>y</code> (of type <code>{int}</code>, which defaults to
<code>10</code>): y offset.</li>
<li><code>(unlabeled)</code> (of type <code>{string}</code>): Text to
display.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#d, video='#e+1, midi='#f)</code>)</li>
</ul>
<h3 id="video.external.testsrc"><a href="#video.external.testsrc"
class="anchor"><code>video.external.testsrc</code></a></h3>
<p>ffmpeg’s test source video (useful for testing and debugging).</p>
<p>Type:</p>
<pre><code>(?id : string, ?restart : bool, ?restart_on_error : bool,
 ?buffer : float, ?max : float) -&gt; source(audio=2,
video=1, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>)</li>
<li><code>restart</code> (of type <code>bool</code>, which defaults to
<code>true</code>): restart on exit.</li>
<li><code>restart_on_error</code> (of type <code>bool</code>, which
defaults to <code>false</code>): restart on exit with error.</li>
<li><code>buffer</code> (of type <code>float</code>, which defaults to
<code>0.2</code>): Duration of the pre-buffered data.</li>
<li><code>max</code> (of type <code>float</code>, which defaults to
<code>10.0</code>): Maximum duration of the buffered data.</li>
</ul>
<h3 id="video.fade.in"><a href="#video.fade.in"
class="anchor"><code>video.fade.in</code></a></h3>
<p>Fade the beginning of tracks. Metadata ‘liq_video_fade_in’ can be
used to set the duration for a specific track (float in seconds).</p>
<p>Type:</p>
<pre><code>(?id : string, ?duration : float, ?override : string,
 ?transition : string, ?type : string, source(audio=&#39;#a,
 video=&#39;#b+1, midi=&#39;#c)) -&gt; source(audio=&#39;#a,
video=&#39;#b+1, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>duration</code> (of type <code>float</code>, which defaults to
<code>3.0</code>): Duration of the fading. This value can be set on a
per-file basis using the metadata field passed as override.</li>
<li><code>override</code> (of type <code>string</code>, which defaults
to <code>"liq_video_fade_in"</code>): Metadata field which, if present
and containing a float, overrides the ‘duration’ parameter for current
track.</li>
<li><code>transition</code> (of type <code>string</code>, which defaults
to <code>"fade"</code>): Kind of transition
(fade|slide_left|slide_right|slide_up|slide_down|grow|disc|random).</li>
<li><code>type</code> (of type <code>string</code>, which defaults to
<code>"lin"</code>): Fader shape (lin|sin|log|exp): linear, sinusoidal,
logarithmic or exponential.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b+1, midi='#c)</code>)</li>
</ul>
<h3 id="video.fade.out"><a href="#video.fade.out"
class="anchor"><code>video.fade.out</code></a></h3>
<p>Fade the end of tracks. Metadata ‘liq_video_fade_out’ can be used to
set the duration for a specific track (float in seconds).</p>
<p>Type:</p>
<pre><code>(?id : string, ?duration : float, ?override : string,
 ?transition : string, ?type : string, source(audio=&#39;#a,
 video=&#39;#b+1, midi=&#39;#c)) -&gt; source(audio=&#39;#a,
video=&#39;#b+1, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>duration</code> (of type <code>float</code>, which defaults to
<code>3.0</code>): Duration of the fading. This value can be set on a
per-file basis using the metadata field passed as override.</li>
<li><code>override</code> (of type <code>string</code>, which defaults
to <code>"liq_video_fade_out"</code>): Metadata field which, if present
and containing a float, overrides the ‘duration’ parameter for current
track.</li>
<li><code>transition</code> (of type <code>string</code>, which defaults
to <code>"fade"</code>): Kind of transition
(fade|slide_left|slide_right|slide_up|slide_down|grow|disc|random).</li>
<li><code>type</code> (of type <code>string</code>, which defaults to
<code>"lin"</code>): Fader shape (lin|sin|log|exp): linear, sinusoidal,
logarithmic or exponential.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b+1, midi='#c)</code>)</li>
</ul>
<h3 id="video.fill"><a href="#video.fill"
class="anchor"><code>video.fill</code></a></h3>
<p>Fill frame with a color.</p>
<p>Type:</p>
<pre><code>(?id : string, ?color : int, source(audio=&#39;#a,
 video=&#39;#b+1, midi=&#39;#c)) -&gt; source(audio=&#39;#a,
video=&#39;#b+1, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>color</code> (of type <code>int</code>, which defaults to
<code>0</code>): Color to fill the image with.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b+1, midi='#c)</code>)</li>
</ul>
<h3 id="video.frame.height"><a href="#video.frame.height"
class="anchor"><code>video.frame.height</code></a></h3>
<p>Height for all video frames.</p>
<p>Type:</p>
<pre><code>() -&gt; int</code></pre>
<p>Arguments:</p>
<h3 id="video.frame.rate"><a href="#video.frame.rate"
class="anchor"><code>video.frame.rate</code></a></h3>
<p>Rate for all video frames.</p>
<p>Type:</p>
<pre><code>() -&gt; int</code></pre>
<p>Arguments:</p>
<h3 id="video.frame.width"><a href="#video.frame.width"
class="anchor"><code>video.frame.width</code></a></h3>
<p>Width for all video frames.</p>
<p>Type:</p>
<pre><code>() -&gt; int</code></pre>
<p>Arguments:</p>
<h3 id="video.greyscale"><a href="#video.greyscale"
class="anchor"><code>video.greyscale</code></a></h3>
<p>Convert video to greyscale.</p>
<p>Type:</p>
<pre><code>(?id : string, source(audio=&#39;#a, video=&#39;#b+1, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b+1, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b+1, midi='#c)</code>)</li>
</ul>
<h3 id="video.invert"><a href="#video.invert"
class="anchor"><code>video.invert</code></a></h3>
<p>Invert video.</p>
<p>Type:</p>
<pre><code>(?id : string, source(audio=&#39;#a, video=&#39;#b+1, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b+1, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b+1, midi='#c)</code>)</li>
</ul>
<h3 id="video.lomo"><a href="#video.lomo"
class="anchor"><code>video.lomo</code></a></h3>
<p>Emulate the “Lomo effect”.</p>
<p>Type:</p>
<pre><code>(?id : string, source(audio=&#39;#a, video=&#39;#b+1, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b+1, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b+1, midi='#c)</code>)</li>
</ul>
<h3 id="video.opacity"><a href="#video.opacity"
class="anchor"><code>video.opacity</code></a></h3>
<p>Scale opacity of video.</p>
<p>Type:</p>
<pre><code>(?id : string, float, source(audio=&#39;#a, video=&#39;#b+1,
 midi=&#39;#c)) -&gt; source(audio=&#39;#a, video=&#39;#b+1, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type <code>float</code>): Coefficient
to scale opacity with.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b+1, midi='#c)</code>)</li>
</ul>
<h3 id="video.opacity.blur"><a href="#video.opacity.blur"
class="anchor"><code>video.opacity.blur</code></a></h3>
<p>Blur opacity of video.</p>
<p>Type:</p>
<pre><code>(?id : string, source(audio=&#39;#a, video=&#39;#b+1, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b+1, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b+1, midi='#c)</code>)</li>
</ul>
<h3 id="video.rotate"><a href="#video.rotate"
class="anchor"><code>video.rotate</code></a></h3>
<p>Rotate video.</p>
<p>Type:</p>
<pre><code>(?id : string, ?angle : {float}, ?speed : {float},
 source(audio=&#39;#c, video=&#39;#d+1, midi=&#39;#e)) -&gt;
source(audio=&#39;#c, video=&#39;#d+1, midi=&#39;#e)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>angle</code> (of type <code>{float}</code>, which defaults to
<code>0.0</code>): Initial angle in radians.</li>
<li><code>speed</code> (of type <code>{float}</code>, which defaults to
<code>3.14159265359</code>): Rotation speed in radians per sec.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#c, video='#d+1, midi='#e)</code>)</li>
</ul>
<h3 id="video.scale"><a href="#video.scale"
class="anchor"><code>video.scale</code></a></h3>
<p>Scale and translate video.</p>
<p>Type:</p>
<pre><code>(?id : string, ?scale : float, ?x : int, ?xscale : float,
 ?y : int, ?yscale : float, source(audio=&#39;#a,
 video=&#39;#b+1, midi=&#39;#c)) -&gt; source(audio=&#39;#a,
video=&#39;#b+1, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>scale</code> (of type <code>float</code>, which defaults to
<code>1.0</code>): Scaling coefficient in both directions.</li>
<li><code>x</code> (of type <code>int</code>, which defaults to
<code>0</code>): x offset.</li>
<li><code>xscale</code> (of type <code>float</code>, which defaults to
<code>1.0</code>): x scaling.</li>
<li><code>y</code> (of type <code>int</code>, which defaults to
<code>0</code>): y offset.</li>
<li><code>yscale</code> (of type <code>float</code>, which defaults to
<code>1.0</code>): y scaling.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b+1, midi='#c)</code>)</li>
</ul>
<h3 id="video.sepia"><a href="#video.sepia"
class="anchor"><code>video.sepia</code></a></h3>
<p>Convert video to sepia.</p>
<p>Type:</p>
<pre><code>(?id : string, source(audio=&#39;#a, video=&#39;#b+1, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b+1, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b+1, midi='#c)</code>)</li>
</ul>
<h3 id="video.tile"><a href="#video.tile"
class="anchor"><code>video.tile</code></a></h3>
<p>Tile sources (same as add but produces tiles of videos).</p>
<p>Type:</p>
<pre><code>(?id : string, ?normalize : bool, ?proportional : bool,
 ?weights : [int],
 [source(audio=&#39;#a, video=&#39;#b+1, midi=&#39;#c)]) -&gt;
source(audio=&#39;#a, video=&#39;#b+1, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>normalize</code> (of type <code>bool</code>, which defaults to
<code>true</code>)</li>
<li><code>proportional</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Scale preserving the proportions.</li>
<li><code>weights</code> (of type <code>[int]</code>, which defaults to
<code>[]</code>): Relative weight of the sources in the sum. The empty
list stands for the homogeneous distribution.</li>
<li><code>(unlabeled)</code> (of type
<code>[source(audio='#a, video='#b+1, midi='#c)]</code>)</li>
</ul>
<h3 id="video.transparent"><a href="#video.transparent"
class="anchor"><code>video.transparent</code></a></h3>
<p>Set a color to be transparent.</p>
<p>Type:</p>
<pre><code>(?id : string, ?color : int, ?precision : float,
 source(audio=&#39;#a, video=&#39;#b+1, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b+1, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>color</code> (of type <code>int</code>, which defaults to
<code>0</code>): Color which should be transparent (in 0xRRGGBB
format).</li>
<li><code>precision</code> (of type <code>float</code>, which defaults
to <code>0.0</code>): Precision in color matching (0. means match
precisely the color and 1. means match every color).</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b+1, midi='#c)</code>)</li>
</ul>
<h2 id="source-visualization"><a href="#source-visualization"
class="anchor">Source / Visualization</a></h2>
<h3 id="peak"><a href="#peak" class="anchor"><code>peak</code></a></h3>
<p>Get current peak volume of the source. Returns a pair
<code>(f,s)</code> where s is a new source and <code>f</code> is a
function of type <code>() -&gt; float</code> and returns the current
peak volume of the source, with
<code>0.0 &lt;= peak volume &lt;= 1.0</code>. Some operators like
<code>amplify</code> and <code>compress</code> can produce amplitudes
greater than 1.0 if misconfigured, inducing clipping in the output.</p>
<p>Type:</p>
<pre><code>(?id : string, ?duration : {float}, source(audio=&#39;#b,
 video=&#39;#c, midi=&#39;#d)) -&gt;
(() -&gt; float) * source(audio=&#39;#b, video=&#39;#c, midi=&#39;#d)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>duration</code> (of type <code>{float}</code>, which defaults
to <code>0.5</code>): Duration of the window (in seconds). A value &lt;=
0, means that computation should not be performed.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#b, video='#c, midi='#d)</code>)</li>
</ul>
<h3 id="peak.stereo"><a href="#peak.stereo"
class="anchor"><code>peak.stereo</code></a></h3>
<p>Get current peak volume of the source. Returns a pair
<code>(f,s)</code> where s is a new source and <code>f</code> is a
function of type <code>() -&gt; float</code> and returns the current
peak volume of the source, with
<code>0.0 &lt;= peak volume &lt;= 1.0</code>. Some operators like
<code>amplify</code> and <code>compress</code> can produce amplitudes
greater than 1.0 if misconfigured, inducing clipping in the output.</p>
<p>Type:</p>
<pre><code>(?id : string, ?duration : {float}, source(audio=&#39;#b+2,
 video=&#39;#c, midi=&#39;#d)) -&gt;
(() -&gt; float * float) * source(audio=&#39;#b+2, video=&#39;#c,
midi=&#39;#d)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>duration</code> (of type <code>{float}</code>, which defaults
to <code>0.5</code>): Duration of the window (in seconds). A value &lt;=
0, means that computation should not be performed.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#b+2, video='#c, midi='#d)</code>)</li>
</ul>
<h3 id="rms"><a href="#rms" class="anchor"><code>rms</code></a></h3>
<p>Get current RMS volume of the source. Returns a pair
<code>(f,s)</code> where s is a new source and <code>f</code> is a
function of type <code>() -&gt; float</code> and returns the current RMS
volume of the source, with <code>0.0 &lt;= RMS volume &lt;= 1.0</code>.
Some operators like <code>amplify</code> and <code>compress</code> can
produce amplitudes greater than 1.0 if misconfigured, inducing clipping
in the output.</p>
<p>Type:</p>
<pre><code>(?id : string, ?duration : {float}, source(audio=&#39;#b,
 video=&#39;#c, midi=&#39;#d)) -&gt;
(() -&gt; float) * source(audio=&#39;#b, video=&#39;#c, midi=&#39;#d)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>duration</code> (of type <code>{float}</code>, which defaults
to <code>0.5</code>): Duration of the window (in seconds). A value &lt;=
0, means that computation should not be performed.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#b, video='#c, midi='#d)</code>)</li>
</ul>
<h3 id="rms.stereo"><a href="#rms.stereo"
class="anchor"><code>rms.stereo</code></a></h3>
<p>Get current RMS volume of the source. Returns a pair
<code>(f,s)</code> where s is a new source and <code>f</code> is a
function of type <code>() -&gt; float</code> and returns the current RMS
volume of the source, with <code>0.0 &lt;= RMS volume &lt;= 1.0</code>.
Some operators like <code>amplify</code> and <code>compress</code> can
produce amplitudes greater than 1.0 if misconfigured, inducing clipping
in the output.</p>
<p>Type:</p>
<pre><code>(?id : string, ?duration : {float}, source(audio=&#39;#b+2,
 video=&#39;#c, midi=&#39;#d)) -&gt;
(() -&gt; float * float) * source(audio=&#39;#b+2, video=&#39;#c,
midi=&#39;#d)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>duration</code> (of type <code>{float}</code>, which defaults
to <code>0.5</code>): Duration of the window (in seconds). A value &lt;=
0, means that computation should not be performed.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#b+2, video='#c, midi='#d)</code>)</li>
</ul>
<h3 id="server.rms"><a href="#server.rms"
class="anchor"><code>server.rms</code></a></h3>
<p>Register a command that outputs the RMS of the returned source.</p>
<p>Type:</p>
<pre><code>(?id : string, source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)) -&gt;
source(audio=&#39;#a, video=&#39;#b, midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a, video='#b, midi='#c)</code>)</li>
</ul>
<h3 id="video.volume"><a href="#video.volume"
class="anchor"><code>video.volume</code></a></h3>
<p>Graphical visualization of the sound.</p>
<p>Type:</p>
<pre><code>(?id : string, source(audio=&#39;#a+1, video=0, midi=0)) -&gt;
source(audio=&#39;#a+1, video=1, midi=0)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a+1, video=0, midi=0)</code>)</li>
</ul>
<h3 id="vumeter"><a href="#vumeter"
class="anchor"><code>vumeter</code></a></h3>
<p>VU meter (display the audio volume).</p>
<p>Type:</p>
<pre><code>(?id : string, ?scroll : bool, source(audio=&#39;#a+1,
 video=&#39;#b, midi=&#39;#c)) -&gt; source(audio=&#39;#a+1, video=&#39;#b,
midi=&#39;#c)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>id</code> (of type <code>string</code>, which defaults to
<code>""</code>): Force the value of the source ID.</li>
<li><code>scroll</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Scroll.</li>
<li><code>(unlabeled)</code> (of type
<code>source(audio='#a+1, video='#b, midi='#c)</code>)</li>
</ul>
<h2 id="string"><a href="#string" class="anchor">String</a></h2>
<h3 id="section-12"><a href="#section-12"
class="anchor"><code>%</code></a></h3>
<p><code>pattern % [...,(k,v),...]</code> changes in the pattern
occurences of:</p>
<ul>
<li><code>$(k)</code> into <code>v</code></li>
<li>`$(if $(k2),“a”,“b”) into “a” if k2 is found in the list, “b”
otherwise.</li>
</ul>
<p>Type:</p>
<pre><code>(string, [string * string]) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>[string * string]</code>)</li>
</ul>
<h3 id="section-13"><a href="#section-13"
class="anchor"><code>^</code></a></h3>
<p>Concatenate strings.</p>
<p>Type:</p>
<pre><code>(string, string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="base64.decode"><a href="#base64.decode"
class="anchor"><code>base64.decode</code></a></h3>
<p>Decode a Base64 encoded string.</p>
<p>Type:</p>
<pre><code>(string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="base64.encode"><a href="#base64.encode"
class="anchor"><code>base64.encode</code></a></h3>
<p>Encode a string in Base64.</p>
<p>Type:</p>
<pre><code>(string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="bool_of_string"><a href="#bool_of_string"
class="anchor"><code>bool_of_string</code></a></h3>
<p>Convert a string to a bool.</p>
<p>Type:</p>
<pre><code>(?default : bool, string) -&gt; bool</code></pre>
<p>Arguments:</p>
<ul>
<li><code>default</code> (of type <code>bool</code>, which defaults to
<code>false</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="float_of_string"><a href="#float_of_string"
class="anchor"><code>float_of_string</code></a></h3>
<p>Convert a string to a float.</p>
<p>Type:</p>
<pre><code>(?default : float, string) -&gt; float</code></pre>
<p>Arguments:</p>
<ul>
<li><code>default</code> (of type <code>float</code>, which defaults to
<code>0.0</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="int_of_string"><a href="#int_of_string"
class="anchor"><code>int_of_string</code></a></h3>
<p>Convert a string to a int.</p>
<p>Type:</p>
<pre><code>(?default : int, string) -&gt; int</code></pre>
<p>Arguments:</p>
<ul>
<li><code>default</code> (of type <code>int</code>, which defaults to
<code>0</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="json_of"><a href="#json_of"
class="anchor"><code>json_of</code></a></h3>
<p>Convert a value to a json string.</p>
<p>Type:</p>
<pre><code>(?compact : bool, &#39;a) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>compact</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Output compact text.</li>
<li><code>(unlabeled)</code> (of type <code>'a</code>)</li>
</ul>
<h3 id="of_json"><a href="#of_json"
class="anchor"><code>of_json</code></a></h3>
<p>Parse a json string into a liquidsoap value. The value provided in
the <code>default</code> parameter is quite important: only the part of
the JSON data which has the same type as the <code>default</code>
parameter will be kept (heterogeneous data cannot be represented in
Liquidsoap because of typing). For instance, if the JSON <code>j</code>
is</p>
<pre><code>{
 &quot;a&quot;: &quot;test&quot;,
 &quot;b&quot;: 5
}</code></pre>
<p>the value returned by <code>of_json(default=[("",0)], j)</code> will
be <code>[("b",5)]</code>: the pair <code>("a","test")</code> is not
kept because it is not of type <code>string * int</code>.</p>
<p>Type:</p>
<pre><code>(default : &#39;a, string) -&gt; &#39;a</code></pre>
<p>Arguments:</p>
<ul>
<li><code>default</code> (of type <code>'a</code>): Default value if
string cannot be parsed.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="string.capitalize"><a href="#string.capitalize"
class="anchor"><code>string.capitalize</code></a></h3>
<p>Return a string with the first character set to upper case
(capitalize), or to lower case (uncapitalize).</p>
<p>Type:</p>
<pre><code>(?capitalize : bool, ?space_sensitive : bool, string) -&gt;
string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>capitalize</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Capitalize if true, uncapitalize otherwise</li>
<li><code>space_sensitive</code> (of type <code>bool</code>, which
defaults to <code>true</code>): Capitalize each space separated
sub-string.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="string.case"><a href="#string.case"
class="anchor"><code>string.case</code></a></h3>
<p>Convert a string to lower or upper case.</p>
<p>Type:</p>
<pre><code>(?lower : bool, string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>lower</code> (of type <code>bool</code>, which defaults to
<code>true</code>): Convert to lower case if true and uppercase
otherwise.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="string.concat"><a href="#string.concat"
class="anchor"><code>string.concat</code></a></h3>
<p>Concatenate strings.</p>
<p>Type:</p>
<pre><code>(?separator : string, [string]) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>separator</code> (of type <code>string</code>, which defaults
to <code>""</code>)</li>
<li><code>(unlabeled)</code> (of type <code>[string]</code>)</li>
</ul>
<h3 id="string.contains"><a href="#string.contains"
class="anchor"><code>string.contains</code></a></h3>
<p>Test whether a string contains a given prefix, substring or
suffix.</p>
<p>Type:</p>
<pre><code>(?prefix : string, ?substring : string, ?suffix : string,
 string) -&gt; bool</code></pre>
<p>Arguments:</p>
<ul>
<li><code>prefix</code> (of type <code>string</code>, which defaults to
<code>""</code>): Prefix to look for.</li>
<li><code>substring</code> (of type <code>string</code>, which defaults
to <code>""</code>): Substring to look for.</li>
<li><code>suffix</code> (of type <code>string</code>, which defaults to
<code>""</code>): Suffix to look for.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): The string
to look into.</li>
</ul>
<h3 id="string.escape"><a href="#string.escape"
class="anchor"><code>string.escape</code></a></h3>
<p>Escape special characters in a string. String is parsed char by char.
See <code>string.utf8.escape</code> for an UTF8-aware parsing
function.</p>
<p>Type:</p>
<pre><code>(?special_chars : [string],
 ?escape_char : ((string) -&gt; string), string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>special_chars</code> (of type <code>[string]</code>, which
defaults to
<code>["\127", "\\", "\"", "\000", "\001", "\002", "\003", "\004", "\005", "\006", "\007", "\b", "\t", "\n", "\011", "\012", "\r", "\014", "\015", "\016", "\017", "\018", "\019", "\020", "\021", "\022", "\023", "\024", "\025", "\026", "\027", "\028", "\029", "\030", "\031"]</code>):
List of characters that should be escaped. The first character of each
element in the list is considered.</li>
<li><code>escape_char</code> (of type
<code>(string) -&gt; string</code>, which defaults to
<code>&lt;fun&gt;</code>): Function used to escape a character.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="string.extract"><a href="#string.extract"
class="anchor"><code>string.extract</code></a></h3>
<p>Extract substrings from a string. Perl compatible regular expressions
are recognized. Hence, special characters should be escaped. Returns a
list of (index,value). If the list does not have a pair associated to
some index, it means that the corresponding pattern was not found.</p>
<p>Type:</p>
<pre><code>(pattern : string, string) -&gt; [string * string]</code></pre>
<p>Arguments:</p>
<ul>
<li><code>pattern</code> (of type <code>string</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="string.length"><a href="#string.length"
class="anchor"><code>string.length</code></a></h3>
<p>Get the length of a string.</p>
<p>Type:</p>
<pre><code>(string) -&gt; int</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="string.match"><a href="#string.match"
class="anchor"><code>string.match</code></a></h3>
<p>Match a string with an expression. Perl compatible regular
expressions are recognized. Hence, special characters should be
escaped.</p>
<p>Type:</p>
<pre><code>(pattern : string, string) -&gt; bool</code></pre>
<p>Arguments:</p>
<ul>
<li><code>pattern</code> (of type <code>string</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="string.quote"><a href="#string.quote"
class="anchor"><code>string.quote</code></a></h3>
<p>Escape shell metacharacters.</p>
<p>Type:</p>
<pre><code>(string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="string.recode"><a href="#string.recode"
class="anchor"><code>string.recode</code></a></h3>
<p>Convert a string. Effective only if Camomile is enabled.</p>
<p>Type:</p>
<pre><code>(?in_enc : string, ?out_enc : string, string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>in_enc</code> (of type <code>string</code>, which defaults to
<code>""</code>): Input encoding. Autodetected if empty.</li>
<li><code>out_enc</code> (of type <code>string</code>, which defaults to
<code>"UTF-8"</code>): Output encoding.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="string.replace"><a href="#string.replace"
class="anchor"><code>string.replace</code></a></h3>
<p>Replace substrings in a string. Will replace all substrings matched
in the pattern by the string returned by the replace function.</p>
<p>Type:</p>
<pre><code>(pattern : string, ((string) -&gt; string), string) -&gt;
string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>pattern</code> (of type <code>string</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>(string) -&gt; string</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="string.split"><a href="#string.split"
class="anchor"><code>string.split</code></a></h3>
<p>Split a string at ‘separator’. Perl compatible regular expressions
are recognized. Hence, special characters should be escaped.</p>
<p>Type:</p>
<pre><code>(separator : string, string) -&gt; [string]</code></pre>
<p>Arguments:</p>
<ul>
<li><code>separator</code> (of type <code>string</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="string.sub"><a href="#string.sub"
class="anchor"><code>string.sub</code></a></h3>
<p>Get a substring of a string. Returns “” if no such substring
exists.</p>
<p>Type:</p>
<pre><code>(string, start : int, length : int) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
<li><code>start</code> (of type <code>int</code>): Return a sub string
starting at this position. First position is 0.</li>
<li><code>length</code> (of type <code>int</code>): Return a sub string
of <code>length</code> characters.</li>
</ul>
<h3 id="string.trim"><a href="#string.trim"
class="anchor"><code>string.trim</code></a></h3>
<p>Return a string without leading and trailing whitespace.</p>
<p>Type:</p>
<pre><code>(string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="string.utf8.escape"><a href="#string.utf8.escape"
class="anchor"><code>string.utf8.escape</code></a></h3>
<p>Escape special charaters in an UTF8 string.</p>
<p>Type:</p>
<pre><code>(?special_chars : [string],
 ?escape_char : ((string) -&gt; string), string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>special_chars</code> (of type <code>[string]</code>, which
defaults to
<code>["\127", "\\", "\"", "\000", "\001", "\002", "\003", "\004", "\005", "\006", "\007", "\b", "\t", "\n", "\011", "\012", "\r", "\014", "\015", "\016", "\017", "\018", "\019", "\020", "\021", "\022", "\023", "\024", "\025", "\026", "\027", "\028", "\029", "\030", "\031"]</code>):
List of characters that should be escaped. The first character of each
element in the list is considered.</li>
<li><code>escape_char</code> (of type
<code>(string) -&gt; string</code>, which defaults to
<code>&lt;fun&gt;</code>): Function used to escape a character.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="string_of"><a href="#string_of"
class="anchor"><code>string_of</code></a></h3>
<p>Return the representation of a value.</p>
<p>Type:</p>
<pre><code>(&#39;a) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>'a</code>)</li>
</ul>
<h3 id="string_of_metadata"><a href="#string_of_metadata"
class="anchor"><code>string_of_metadata</code></a></h3>
<p>Standard function for displaying metadata. Shows artist and title,
using “Unknown” when a field is empty.</p>
<p>Type:</p>
<pre><code>([string * string]) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>[string * string]</code>):
Metadata packet to be displayed.</li>
</ul>
<h3 id="url.decode"><a href="#url.decode"
class="anchor"><code>url.decode</code></a></h3>
<p>Decode an encoded url (e.g. “%20” becomes ” “).</p>
<p>Type:</p>
<pre><code>(?plus : bool, string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>plus</code> (of type <code>bool</code>, which defaults to
<code>true</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="url.encode"><a href="#url.encode"
class="anchor"><code>url.encode</code></a></h3>
<p>Encode an url (e.g. ” ” becomes “%20”).</p>
<p>Type:</p>
<pre><code>(?plus : bool, string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>plus</code> (of type <code>bool</code>, which defaults to
<code>true</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="url.split"><a href="#url.split"
class="anchor"><code>url.split</code></a></h3>
<p>Split an url of the form foo?arg=bar&amp;arg2=bar2 into
(“foo”,[(“arg”,“bar”),(“arg2”,“bar2”)]).</p>
<p>Type:</p>
<pre><code>(string) -&gt; string * [string * string]</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>): Url to
split</li>
</ul>
<h3 id="url.split_args"><a href="#url.split_args"
class="anchor"><code>url.split_args</code></a></h3>
<p>Split the arguments of an url of the form arg=bar&amp;arg2=bar2 into
[(“arg”,“bar”),(“arg2”,“bar2”)].</p>
<p>Type:</p>
<pre><code>(string) -&gt; [string * string]</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>): Agument
string to split</li>
</ul>
<h2 id="system"><a href="#system" class="anchor">System</a></h2>
<h3 id="argv"><a href="#argv" class="anchor"><code>argv</code></a></h3>
<p>Get command-line parameters. The parameters are numbered starting
from 1, the zeroth parameter being the script name.</p>
<p>Type:</p>
<pre><code>(?default : string, int) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>default</code> (of type <code>string</code>, which defaults to
<code>""</code>)</li>
<li><code>(unlabeled)</code> (of type <code>int</code>)</li>
</ul>
<h3 id="environment"><a href="#environment"
class="anchor"><code>environment</code></a></h3>
<p>Return the process environment.</p>
<p>Type:</p>
<pre><code>() -&gt; [string * string]</code></pre>
<p>Arguments:</p>
<h3 id="exe_ext"><a href="#exe_ext"
class="anchor"><code>exe_ext</code></a></h3>
<p>Executable file extension.</p>
<p>Type:</p>
<pre><code>string</code></pre>
<p>Arguments:</p>
<h3 id="exec_at"><a href="#exec_at"
class="anchor"><code>exec_at</code></a></h3>
<p>Execute a given action when a predicate is true. This will be run in
background.</p>
<p>Type:</p>
<pre><code>(?freq : float, pred : (() -&gt; bool), (() -&gt; unit)) -&gt;
unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>freq</code> (of type <code>float</code>, which defaults to
<code>1.0</code>): Frequency for checking the predicate, in
seconds.</li>
<li><code>pred</code> (of type <code>() -&gt; bool</code>): Predicate
indicating when to execute the function, typically a time interval such
as <code>{10h-10h30}</code>.</li>
<li><code>(unlabeled)</code> (of type <code>() -&gt; unit</code>):
Function to execute when the predicate is true.</li>
</ul>
<h3 id="exit"><a href="#exit" class="anchor"><code>exit</code></a></h3>
<p>Immediately stop the application. This should only be used in extreme
cases or to specify an exit value. The recommended way of stopping
Liquidsoap is to use shutdown.</p>
<p>Type:</p>
<pre><code>(int) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>int</code>): Exit
value.</li>
</ul>
<h3 id="file.contents"><a href="#file.contents"
class="anchor"><code>file.contents</code></a></h3>
<p>Read the whole contents of a file.</p>
<p>Type:</p>
<pre><code>(string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="file.exists"><a href="#file.exists"
class="anchor"><code>file.exists</code></a></h3>
<p>Returns true if the file or directory exists.</p>
<p>Type:</p>
<pre><code>(string) -&gt; bool</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="file.extension"><a href="#file.extension"
class="anchor"><code>file.extension</code></a></h3>
<p>Returns a file’s extension.</p>
<p>Type:</p>
<pre><code>(?dir_sep : string, ?leading_dot : bool, string) -&gt;
string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>dir_sep</code> (of type <code>string</code>, which defaults to
<code>"/"</code>): Directory separator.</li>
<li><code>leading_dot</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Return extension with a leading dot,
e.g. <code>.foo</code>.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="file.is_directory"><a href="#file.is_directory"
class="anchor"><code>file.is_directory</code></a></h3>
<p>Returns true if the file exists and is a directory.</p>
<p>Type:</p>
<pre><code>(string) -&gt; bool</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="file.mime_default"><a href="#file.mime_default"
class="anchor"><code>file.mime_default</code></a></h3>
<p>Alias of file.mime (because it is available)</p>
<p>Type:</p>
<pre><code>(string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="file.read"><a href="#file.read"
class="anchor"><code>file.read</code></a></h3>
<p>Read the content of a file. Returns a function of type
<code>()-&gt;string</code>. File is done reading when function returns
the empty string <code>""</code>.</p>
<p>Type:</p>
<pre><code>(string) -&gt; () -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="file.rmdir"><a href="#file.rmdir"
class="anchor"><code>file.rmdir</code></a></h3>
<p>Remove a directory and its content.</p>
<p>Type:</p>
<pre><code>(string) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="file.size"><a href="#file.size"
class="anchor"><code>file.size</code></a></h3>
<p>File size in bytes.</p>
<p>Type:</p>
<pre><code>(string) -&gt; int</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="file.temp"><a href="#file.temp"
class="anchor"><code>file.temp</code></a></h3>
<p>Return a fresh temporary filename. The temporary file is created
empty, with permissions 0o600 (readable and writable only by the file
owner).</p>
<p>Type:</p>
<pre><code>(string, string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>): File
prefix</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): File
suffix</li>
</ul>
<h3 id="file.temp_dir"><a href="#file.temp_dir"
class="anchor"><code>file.temp_dir</code></a></h3>
<p>Return a fresh temporary directory name. The temporary directory is
created empty, with permissions 0o700 (readable, writable and listable
only by the file owner).</p>
<p>Type:</p>
<pre><code>(string, string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>): Directory
prefix</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Directory
suffix</li>
</ul>
<h3 id="file.unlink"><a href="#file.unlink"
class="anchor"><code>file.unlink</code></a></h3>
<p>Remove a file.</p>
<p>Type:</p>
<pre><code>(string) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="file.watch"><a href="#file.watch"
class="anchor"><code>file.watch</code></a></h3>
<p>Call a function when a file is modified. Returns unwatch
function.</p>
<p>Type:</p>
<pre><code>(string, (() -&gt; unit)) -&gt; () -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>): File to
watch.</li>
<li><code>(unlabeled)</code> (of type <code>() -&gt; unit</code>):
Handler function.</li>
</ul>
<h3 id="file.write"><a href="#file.write"
class="anchor"><code>file.write</code></a></h3>
<p>Write data to a file. Returns <code>true</code> if successful.</p>
<p>Type:</p>
<pre><code>(data : string, ?append : bool, ?perms : int, string) -&gt;
bool</code></pre>
<p>Arguments:</p>
<ul>
<li><code>data</code> (of type <code>string</code>): Data to write</li>
<li><code>append</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Append data if file exists.</li>
<li><code>perms</code> (of type <code>int</code>, which defaults to
<code>420</code>): Default file rights if created</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Path to
write to</li>
</ul>
<h3 id="get_mime"><a href="#get_mime"
class="anchor"><code>get_mime</code></a></h3>
<p>Generic mime test. First try to use file.mime if it exist. Otherwise
try to get the value using the file binary. Returns “” (empty string) if
no value can be found.</p>
<p>Type:</p>
<pre><code>(string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>): The file to
test</li>
</ul>
<h3 id="get_process_lines"><a href="#get_process_lines"
class="anchor"><code>get_process_lines</code></a></h3>
<p>Perform a shell call and return the list of its output lines.</p>
<p>Type:</p>
<pre><code>(?timeout : float, ?env : [string * string],
 ?inherit_env : bool, string) -&gt; [string]</code></pre>
<p>Arguments:</p>
<ul>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>-1.0</code>): Cancel process after <code>timeout</code> has
elapsed. Ignored if negative.</li>
<li><code>env</code> (of type <code>[string * string]</code>, which
defaults to <code>[]</code>): Process environment</li>
<li><code>inherit_env</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Inherit calling process’s environment when
<code>env</code> parameter is empty.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Command to
run</li>
</ul>
<h3 id="get_process_output"><a href="#get_process_output"
class="anchor"><code>get_process_output</code></a></h3>
<p>Perform a shell call and return its output.</p>
<p>Type:</p>
<pre><code>(?timeout : float, ?env : [string * string],
 ?inherit_env : bool, string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>-1.0</code>): Cancel process after <code>timeout</code> has
elapsed. Ignored if negative.</li>
<li><code>env</code> (of type <code>[string * string]</code>, which
defaults to <code>[]</code>): Process environment</li>
<li><code>inherit_env</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Inherit calling process’s environment when
<code>env</code> parameter is empty.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Command to
run</li>
</ul>
<h3 id="getenv"><a href="#getenv"
class="anchor"><code>getenv</code></a></h3>
<p>Get the value associated to a variable in the process environment.
Return “” if variable is not set.</p>
<p>Type:</p>
<pre><code>(string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="getopt"><a href="#getopt"
class="anchor"><code>getopt</code></a></h3>
<p>Parse command line options: <code>getopt("-o")</code> returns “1” if
“-o” was passed without any parameter, “0” otherwise.
<code>getopt(default="X","-o")</code> returns “Y” if “-o Y” was passed,
“X” otherwise. The result is removed from the list of arguments,
affecting subsequent calls to <code>argv()</code> and
<code>getopt()</code>.</p>
<p>Type:</p>
<pre><code>(?default : string, string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>default</code> (of type <code>string</code>, which defaults to
<code>""</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="getpid"><a href="#getpid"
class="anchor"><code>getpid</code></a></h3>
<p>Get the process’ pid.</p>
<p>Type:</p>
<pre><code>() -&gt; int</code></pre>
<p>Arguments:</p>
<h3 id="gettimeofday"><a href="#gettimeofday"
class="anchor"><code>gettimeofday</code></a></h3>
<p>Return the current time since 00:00:00 GMT, Jan. 1, 1970, in
seconds.</p>
<p>Type:</p>
<pre><code>() -&gt; float</code></pre>
<p>Arguments:</p>
<h3 id="gmtime"><a href="#gmtime"
class="anchor"><code>gmtime</code></a></h3>
<p>Convert a time in seconds into a date in the UTC time zone and
execute passed callback with the result. Fields meaning same as POSIX’s
<code>tm struct</code>. Warning: “year” is: year - 1900, i.e. 117 for
2017!</p>
<p>Type:</p>
<pre><code>(float,
 ((sec : int, min : int, hour : int, mday : int,
   mon : int, year : int, wday : int, yday : int,
   isdst : bool) -&gt; &#39;a)) -&gt; &#39;a</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>float</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>(sec : int, min : int, hour : int, mday : int, mon : int,  year : int, wday : int, yday : int, isdst : bool) -&gt; 'a</code>)</li>
</ul>
<h3 id="localtime"><a href="#localtime"
class="anchor"><code>localtime</code></a></h3>
<p>Convert a time in seconds into a date in the local time zone and
execute passed callback with the result. Fields meaning same as POSIX’s
<code>tm struct</code>. Warning: “year” is: year - 1900, i.e. 117 for
2017!</p>
<p>Type:</p>
<pre><code>(float,
 ((sec : int, min : int, hour : int, mday : int,
   mon : int, year : int, wday : int, yday : int,
   isdst : bool) -&gt; &#39;a)) -&gt; &#39;a</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>float</code>)</li>
<li><code>(unlabeled)</code> (of type
<code>(sec : int, min : int, hour : int, mday : int, mon : int,  year : int, wday : int, yday : int, isdst : bool) -&gt; 'a</code>)</li>
</ul>
<h3 id="on_shutdown"><a href="#on_shutdown"
class="anchor"><code>on_shutdown</code></a></h3>
<p>Register a function to be called when Liquidsoap shuts down.</p>
<p>Type:</p>
<pre><code>((() -&gt; unit)) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>() -&gt; unit</code>)</li>
</ul>
<h3 id="on_start"><a href="#on_start"
class="anchor"><code>on_start</code></a></h3>
<p>Register a function to be called when Liquidsoap starts.</p>
<p>Type:</p>
<pre><code>((() -&gt; unit)) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>() -&gt; unit</code>)</li>
</ul>
<h3 id="os.type"><a href="#os.type"
class="anchor"><code>os.type</code></a></h3>
<p>Type of OS running liquidsoap.</p>
<p>Type:</p>
<pre><code>string</code></pre>
<p>Arguments:</p>
<h3 id="path.basename"><a href="#path.basename"
class="anchor"><code>path.basename</code></a></h3>
<p>Get the base name of a path.</p>
<p>Type:</p>
<pre><code>(string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="path.concat"><a href="#path.concat"
class="anchor"><code>path.concat</code></a></h3>
<p>Concatenate two paths, using the appropriate directory separator.</p>
<p>Type:</p>
<pre><code>(string, string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="path.dirname"><a href="#path.dirname"
class="anchor"><code>path.dirname</code></a></h3>
<p>Get the directory name of a path.</p>
<p>Type:</p>
<pre><code>(string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="path.home.unrelate"><a href="#path.home.unrelate"
class="anchor"><code>path.home.unrelate</code></a></h3>
<p>Expand path that start with ‘~’ with the current home directory.</p>
<p>Type:</p>
<pre><code>(string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="path.remove_extension"><a href="#path.remove_extension"
class="anchor"><code>path.remove_extension</code></a></h3>
<p>Remove the file extension from a path.</p>
<p>Type:</p>
<pre><code>(string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="process.quote"><a href="#process.quote"
class="anchor"><code>process.quote</code></a></h3>
<p>Return a quoted copy of the given string, suitable for use as one
argument in a command line, escaping all meta-characters. Warning: under
Windows, the output is only suitable for use with programs that follow
the standard Windows quoting conventions.</p>
<p>Type:</p>
<pre><code>(string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="read"><a href="#read" class="anchor"><code>read</code></a></h3>
<p>Read some value from standard input (console).</p>
<p>Type:</p>
<pre><code>(?hide : bool) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>hide</code> (of type <code>bool</code>, which defaults to
<code>false</code>): Hide typed characters (for passwords).</li>
</ul>
<h3 id="reopen.stderr"><a href="#reopen.stderr"
class="anchor"><code>reopen.stderr</code></a></h3>
<p>Reopen standard error on the given file</p>
<p>Type:</p>
<pre><code>(string) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="reopen.stdin"><a href="#reopen.stdin"
class="anchor"><code>reopen.stdin</code></a></h3>
<p>Reopen standard input on the given file</p>
<p>Type:</p>
<pre><code>(string) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="reopen.stdout"><a href="#reopen.stdout"
class="anchor"><code>reopen.stdout</code></a></h3>
<p>Reopen standard output on the given file</p>
<p>Type:</p>
<pre><code>(string) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="restart"><a href="#restart"
class="anchor"><code>restart</code></a></h3>
<p>Restart the application.</p>
<p>Type:</p>
<pre><code>() -&gt; unit</code></pre>
<p>Arguments:</p>
<h3 id="run_process"><a href="#run_process"
class="anchor"><code>run_process</code></a></h3>
<p>Run a process in a shell environment. Returns:
<code>((stdout,stderr,status)</code> where status is one of:
<code>("exit","")</code>,
<code>("killed","&lt;signal number&gt;")</code>,
<code>("stopped","&lt;signal number&gt;")</code>,
<code>("exception","&lt;exception description&gt;")</code>,
<code>("timeout","&lt;run time&gt;")</code>.</p>
<p>Type:</p>
<pre><code>(?env : [string * string], ?inherit_env : bool,
 ?rwdirs : [string], ?rodirs : [string],
 ?network : string, ?timeout : float, string) -&gt;
string * string * (string * string)</code></pre>
<p>Arguments:</p>
<ul>
<li><code>env</code> (of type <code>[string * string]</code>, which
defaults to <code>[]</code>): Process environment</li>
<li><code>inherit_env</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Inherit calling process’s environment when
<code>env</code> parameter is empty.</li>
<li><code>rwdirs</code> (of type <code>[string]</code>, which defaults
to <code>["default"]</code>): Read/write directories for sandboxing.
<code>"default"</code> expands to sandbox default.</li>
<li><code>rodirs</code> (of type <code>[string]</code>, which defaults
to <code>["default"]</code>): Read-only directories for sandboxing.
<code>"default"</code> expands to sandbox default.</li>
<li><code>network</code> (of type <code>string</code>, which defaults to
<code>"default"</code>): Enable or disable network inside sandboxed
environment. One of: <code>"default"</code>, <code>"true"</code> or
<code>"false"</code>. <code>"default"</code> is sandbox default.</li>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>-1.0</code>): Cancel process after <code>timeout</code> has
elapsed. Ignored if negative.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Command to
run</li>
</ul>
<h3 id="setenv"><a href="#setenv"
class="anchor"><code>setenv</code></a></h3>
<p>Set the value associated to a variable in the process
environment.</p>
<p>Type:</p>
<pre><code>(string, string) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>): Variable to
be set.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Value to
set.</li>
</ul>
<h3 id="shutdown"><a href="#shutdown"
class="anchor"><code>shutdown</code></a></h3>
<p>Shutdown the application.</p>
<p>Type:</p>
<pre><code>() -&gt; unit</code></pre>
<p>Arguments:</p>
<h3 id="sleep"><a href="#sleep"
class="anchor"><code>sleep</code></a></h3>
<p>Sleep for a given amount of seconds (beware that it freezes the
thread executing it).</p>
<p>Type:</p>
<pre><code>(float) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>float</code>): Number of
seconds of sleep.</li>
</ul>
<h3 id="source.is_up"><a href="#source.is_up"
class="anchor"><code>source.is_up</code></a></h3>
<p>Check whether a source is up.</p>
<p>Type:</p>
<pre><code>(source(&#39;a)) -&gt; bool</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
</ul>
<h3 id="source.on_shutdown"><a href="#source.on_shutdown"
class="anchor"><code>source.on_shutdown</code></a></h3>
<p>Register a function to be called when source shuts down.</p>
<p>Type:</p>
<pre><code>(source(&#39;a), (() -&gt; unit)) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>source('a)</code>)</li>
<li><code>(unlabeled)</code> (of type <code>() -&gt; unit</code>)</li>
</ul>
<h3 id="system-1"><a href="#system-1"
class="anchor"><code>system</code></a></h3>
<p>Shell command call.</p>
<p>Type:</p>
<pre><code>(string) -&gt; unit</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
<h3 id="test_process"><a href="#test_process"
class="anchor"><code>test_process</code></a></h3>
<p>Return true if process exited with 0 code.</p>
<p>Type:</p>
<pre><code>(?timeout : float, ?env : [string * string],
 ?inherit_env : bool, string) -&gt; bool</code></pre>
<p>Arguments:</p>
<ul>
<li><code>timeout</code> (of type <code>float</code>, which defaults to
<code>-1.0</code>): Cancel process after <code>timeout</code> has
elapsed. Ignored if negative.</li>
<li><code>env</code> (of type <code>[string * string]</code>, which
defaults to <code>[]</code>): Process environment</li>
<li><code>inherit_env</code> (of type <code>bool</code>, which defaults
to <code>true</code>): Inherit calling process’s environment when
<code>env</code> parameter is empty.</li>
<li><code>(unlabeled)</code> (of type <code>string</code>): Command to
test</li>
</ul>
<h3 id="time"><a href="#time" class="anchor"><code>time</code></a></h3>
<p>Return the current time since 00:00:00 GMT, Jan. 1, 1970, in
seconds.</p>
<p>Type:</p>
<pre><code>() -&gt; float</code></pre>
<p>Arguments:</p>
<h3 id="which"><a href="#which"
class="anchor"><code>which</code></a></h3>
<p>which(“progname”) searches for an executable named “progname” using
directories from the PATH environment variable and returns “” if it
could not find one.</p>
<p>Type:</p>
<pre><code>(string) -&gt; string</code></pre>
<p>Arguments:</p>
<ul>
<li><code>(unlabeled)</code> (of type <code>string</code>)</li>
</ul>
          <div id="footer"></div>
        </main>
      </div>
    </div>
    <!--   Core JS Files   -->

    <script src="/assets/js/core/jquery.min.js" type="text/javascript"></script>
    <script src="/assets/js/core/popper.min.js" type="text/javascript"></script>
    <script src="/assets/js/core/bootstrap-material-design.min.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript"></script>
    <script src="/assets/js/liq-jquery.js" type="text/javascript"></script>
  </body>

</html>
